/*! {"build":"1144","commit":"24b693dc26d7ebbb81a5928217c940437cc1efaf","date":"2017-11-29T13:38:29Z"} */
!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}var i=n(1),o=r(i);window.getVPAIDAd=function(){return new o.default}},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}return e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):i(e,t))}function d(){}Object.defineProperty(t,"__esModule",{value:!0}),n(2),n(3);var u=n(4),l=r(u),c=n(5),f=r(c),p=n(6),h=r(p),_=n(23),A=r(_),g=n(7),v=n(25),E=r(v),m=n(144),y=r(m),S=n(154),T=r(S),R=n(8),I=r(R),b=n(155),w=r(b),O=n(156),P=r(O),C=n(56),D=r(C),L=function(e){function t(){o(this,t);var r=a(this,e.call(this));return r.off=r.removeListener,r._waterfallManager=null,r._state=w.default.CREATED,r.settings={},r._vpaidEventsListeners={},r._endCardEventListeners={},r._userSessionId=(0,p.getUserSessionId)(),r.tracker=new y.default,A.default.setId(r._userSessionId),n(67).isFlashSupported()&&A.default.log("Flash enabled"),A.default.log("Ad Manager JS initialized"),r}return s(t,e),t.prototype._bindVPAIDEvents=function(){var e=this,t=function(t,n){t===I.default.AdStarted?e._state=w.default.AD_STARTED:t===I.default.AdVideoComplete&&(e._state=w.default.AD_VIDEO_COMPLETE),e._state!==w.default.AD_STOPPED&&(e.tracker.adManagerReport({action:t}),t!==I.default.AdStopped&&t!==I.default.AdError||(h.default.unbindVPAIDEvents(e._waterfallManager,e._vpaidEventsListeners),e._state=w.default.AD_STOPPED),A.default.log("dispatchEvent "+t),e._state>=w.default.AD_VIDEO_COMPLETE?setTimeout(function(){e.emit(t,n)},g.EVENT_DELAY_BEFORE_DONE):t===I.default.AdClickThru&&n?e.emit(t,n.url,n.id,n.playerHandles):e.emit(t,n))};this._vpaidEventsListeners=h.default.bindVPAIDEvents(this._waterfallManager,t.bind(this)),this._endCardEventListeners=h.default.bindEvents(this._waterfallManager,t,g.END_CARD_EVENTS)},t.prototype._initError=function(e){A.default.log(e),this.tracker.reportInitError({org:h.default.extractQueryParam("org"),adType:g.REPORT_TYPE.VPAID_JS,error:e}),this.emit(I.default.AdError)},t.prototype._onWaterfallManagerInitialized=function(){A.default.log("dispatched "+I.default.AdLoaded),this.emit(I.default.AdLoaded),this.tracker.adManagerReport({action:I.default.AdLoaded})},t.prototype._onWaterfallManagerInitializeError=function(){A.default.log("dispatched "+I.default.AdError),this.emit(I.default.AdError),this.tracker.adManagerReport({action:I.default.AdError})},t.prototype._setChannelTimeout=function(e){var t=this;e&&!isNaN(e)&&setTimeout(function(){t._waterfallManager&&t._waterfallManager.impressionOccurred||(t.tracker.reportError({action:I.default.AdError,errorcode:g.ERROR_CODES.CHANNEL_TIMEOUT}),h.default.unbindVPAIDEvents(t._waterfallManager,t._vpaidEventsListeners),h.default.unbindEvents(t._waterfallManager,t._endCardEventListeners,g.END_CARD_EVENTS),t.emit(I.default.AdError),t._state=w.default.AD_STOPPED)},e)},t.prototype.getVPAID=function(){return this},t.prototype.handshakeVersion=function(e){return e||"2.0.0"},t.prototype.initAd=function(e,t,n,r,i,o){function a(e){try{A.default.log("onSettingsCreated");try{this.settings.srPlayer=e.environmentVars&&"sr"===e.environmentVars.player,this.settings.srPlayer&&(this.settings.playerVersion=e.environmentVars.playerVersion)}catch(e){}this.settings.sessionId=this._userSessionId||e.configObject&&e.configObject.sid||h.default.getQueryParam(e.queryParams,"SID"),this._userSessionId||(A.default.log("setting user session id to "+this.settings.sessionId),(0,p.setUserSessionId)(this.settings.sessionId),A.default.setId(this.settings.sessionId)),this.settings.isMobile=(0,D.default)(),(0,f.default)(this.settings,e),this.settings.config=this.config=new T.default(this.settings.configObject),this.tracker.init(this.settings),this.tracker.reportInit(),this.settings.tracker=this.tracker,this.settings.srPlayer&&this.settings.environmentVars&&this.settings.environmentVars.videoSlot&&this.settings.environmentVars.videoSlot.setFetchManifestSettings&&this.settings.environmentVars.videoSlot.setFetchManifestSettings({settings:{trafficChannelId:this.tracker.settings.tc,orgId:this.tracker.settings.org,bundleId:this.tracker.settings.bundleid,domain:this.tracker.settings.ddomain}}),this._waterfallManager=new E.default(this.settings),this._bindVPAIDEvents(),this._waterfallManager.initAd(this.settings.waterfallObject).then(this._onWaterfallManagerInitialized.bind(this)).catch(this._onWaterfallManagerInitializeError.bind(this)),this._setChannelTimeout(this.settings.channelTimeout)}catch(e){this._initError(e.message)}return!0}if(A.default.log("initAd requested"),this._state===w.default.CREATED)return this._state=w.default.INIT_AD_CALLED,i?i.AdParameters?void(0,P.default)(e,t,n,r,i.AdParameters,o).then(a.bind(this)).catch(this._initError.bind(this)):void this._initError("creativeData AdParameters missing!"):void this._initError("creativeData is missing!")},t.prototype.startAd=function(){A.default.log("startAd requested"),this._state===w.default.INIT_AD_CALLED&&(this._state=w.default.START_AD_CALLED,this._waterfallManager.startAd())},t.prototype.resizeAd=function(e,t,n){A.default.log("resizeAd requested"),this._state===w.default.AD_STARTED&&(this.tracker.updateSize(e,t),this._waterfallManager.resizeAd(e,t,n,d))},t.prototype.stopAd=function(){return A.default.log("stopAd requested"),this._state===w.default.AD_STOPPED?void this.emit(I.default.AdStopped):(h.default.unbindVPAIDEvents(this._waterfallManager,this._vpaidEventsListeners),this._state===w.default.AD_STARTED&&this._waterfallManager.stopAd(d),this._state=w.default.AD_STOPPED,void this.emit(I.default.AdStopped))},t.prototype.pauseAd=function(){A.default.log("pauseAd requested"),this._state===w.default.AD_STARTED&&this._waterfallManager.pauseAd(d)},t.prototype.resumeAd=function(){A.default.log("resumeAd requested"),this._state===w.default.AD_STARTED&&this._waterfallManager.resumeAd(d)},t.prototype.expandAd=function(){A.default.log("expandAd requested"),this._state===w.default.AD_STARTED&&this._waterfallManager.expandAd(d)},t.prototype.collapseAd=function(){A.default.log("collapseAd requested"),this._state===w.default.AD_STARTED&&this._waterfallManager.collapseAd(d)},t.prototype.skipAd=function(){A.default.log("skipAd requested"),this._state===w.default.AD_STARTED&&this._waterfallManager.skipAd(d)},t.prototype.getAdLinear=function(){return A.default.log("getAdLinear called"),!this._waterfallManager||this._waterfallManager.getAdLinear()},t.prototype.getAdWidth=function(){return A.default.log("getAdWidth called"),this._waterfallManager?this._waterfallManager.getAdWidth():this.settings.width},t.prototype.getAdHeight=function(){return A.default.log("getAdHeight called"),this._waterfallManager?this._waterfallManager.getAdHeight():this.settings.height},t.prototype.getAdExpanded=function(){return A.default.log("getAdExpanded called"),!!this._waterfallManager&&this._waterfallManager.getAdExpanded()},t.prototype.getAdSkippableState=function(){return A.default.log("getAdSkippableState called"),!!this._waterfallManager&&this._waterfallManager.getAdSkippableState()},t.prototype.getAdRemainingTime=function(){return A.default.log("getAdRemainingTime called"),this._waterfallManager?this._waterfallManager.getAdRemainingTime():-2},t.prototype.getAdDuration=function(){return A.default.log("getAdDuration called"),this._waterfallManager?this._waterfallManager.getAdDuration():-2},t.prototype.getAdVolume=function(){return A.default.log("getAdVolume called"),this._waterfallManager?this._waterfallManager.getAdVolume():-1},t.prototype.getAdCompanions=function(){return A.default.log("getAdCompanions called"),this._waterfallManager?this._waterfallManager.getAdCompanions():""},t.prototype.getAdIcons=function(){return A.default.log("getAdIcons called"),!!this._waterfallManager&&this._waterfallManager.getAdCompanions()},t.prototype.setAdVolume=function(e){A.default.log("setAdVolume called "+e),this._waterfallManager&&this._waterfallManager.setAdVolume(e)},t.prototype.subscribe=function(e,t,n){this.on(t,e,n)},t.prototype.unsubscribe=function(e,t){this.off(t,e)},t}(l.default);t.default=L,e.exports=t.default},function(e,t){window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""))},function(e,t){if(!window.btoa||!window.atob){var n={};n.PADCHAR="=",n.ALPHA="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n.makeDOMException=function(){try{return new DOMException(DOMException.INVALID_CHARACTER_ERR)}catch(t){var e=new Error("DOM Exception 5");return e.code=e.number=5,e.name=e.description="INVALID_CHARACTER_ERR",e.toString=function(){return"Error: "+e.name+": "+e.message},e}},n.getbyte64=function(e,t){var r=n.ALPHA.indexOf(e.charAt(t));if(r===-1)throw n.makeDOMException();return r},n.decode=function(e){e=""+e;var t=n.getbyte64,r=void 0,i=void 0,o=void 0,a=e.length;if(0===a)return e;if(a%4!==0)throw n.makeDOMException();r=0,e.charAt(a-1)===n.PADCHAR&&(r=1,e.charAt(a-2)===n.PADCHAR&&(r=2),a-=4);var s=[];for(i=0;i<a;i+=4)o=t(e,i)<<18|t(e,i+1)<<12|t(e,i+2)<<6|t(e,i+3),s.push(String.fromCharCode(o>>16,o>>8&255,255&o));switch(r){case 1:o=t(e,i)<<18|t(e,i+1)<<12|t(e,i+2)<<6,s.push(String.fromCharCode(o>>16,o>>8&255));break;case 2:o=t(e,i)<<18|t(e,i+1)<<12,s.push(String.fromCharCode(o>>16))}return s.join("")},n.getbyte=function(e,t){var r=e.charCodeAt(t);if(r>255)throw n.makeDOMException();return r},n.encode=function(e){if(1!==arguments.length)throw new SyntaxError("Not enough arguments");var t=n.PADCHAR,r=n.ALPHA,i=n.getbyte,o=void 0,a=void 0,s=[];e=""+e;var d=e.length-e.length%3;if(0===e.length)return e;for(o=0;o<d;o+=3)a=i(e,o)<<16|i(e,o+1)<<8|i(e,o+2),s.push(r.charAt(a>>18)),s.push(r.charAt(a>>12&63)),s.push(r.charAt(a>>6&63)),s.push(r.charAt(63&a));switch(e.length-d){case 1:a=i(e,o)<<16,s.push(r.charAt(a>>18)+r.charAt(a>>12&63)+t+t);break;case 2:a=i(e,o)<<16|i(e,o+1)<<8,s.push(r.charAt(a>>18)+r.charAt(a>>12&63)+r.charAt(a>>6&63)+t)}return s.join("")},window.btoa=n.encode,window.atob=n.decode}},function(e,t,n){"use strict";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(){this._events=new r,this._eventsCount=0}var a=Object.prototype.hasOwnProperty,s="~";Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(s=!1)),o.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)a.call(e,t)&&n.push(s?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},o.prototype.listeners=function(e,t){var n=s?s+e:e,r=this._events[n];if(t)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},o.prototype.emit=function(e,t,n,r,i,o){var a=s?s+e:e;if(!this._events[a])return!1;var d,u,l=this._events[a],c=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),c){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,r),!0;case 5:return l.fn.call(l.context,t,n,r,i),!0;case 6:return l.fn.call(l.context,t,n,r,i,o),!0}for(u=1,d=new Array(c-1);u<c;u++)d[u-1]=arguments[u];l.fn.apply(l.context,d)}else{var f,p=l.length;for(u=0;u<p;u++)switch(l[u].once&&this.removeListener(e,l[u].fn,void 0,!0),c){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,t);break;case 3:l[u].fn.call(l[u].context,t,n);break;case 4:l[u].fn.call(l[u].context,t,n,r);break;default:if(!d)for(f=1,d=new Array(c-1);f<c;f++)d[f-1]=arguments[f];l[u].fn.apply(l[u].context,d)}}return!0},o.prototype.on=function(e,t,n){var r=new i(t,n||this),o=s?s+e:e;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],r]:this._events[o].push(r):(this._events[o]=r,this._eventsCount++),this},o.prototype.once=function(e,t,n){var r=new i(t,n||this,!0),o=s?s+e:e;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],r]:this._events[o].push(r):(this._events[o]=r,this._eventsCount++),this},o.prototype.removeListener=function(e,t,n,i){var o=s?s+e:e;if(!this._events[o])return this;if(!t)return 0===--this._eventsCount?this._events=new r:delete this._events[o],this;var a=this._events[o];if(a.fn)a.fn!==t||i&&!a.once||n&&a.context!==n||(0===--this._eventsCount?this._events=new r:delete this._events[o]);else{for(var d=0,u=[],l=a.length;d<l;d++)(a[d].fn!==t||i&&!a[d].once||n&&a[d].context!==n)&&u.push(a[d]);u.length?this._events[o]=1===u.length?u[0]:u:0===--this._eventsCount?this._events=new r:delete this._events[o]}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=s?s+e:e,this._events[t]&&(0===--this._eventsCount?this._events=new r:delete this._events[t])):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function(){return this},o.prefixed=s,o.EventEmitter=o,e.exports=o},function(e,t){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=Object.prototype.hasOwnProperty,i=Object.prototype.toString,o=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===i.call(e)},a=function(e){if(!e||"[object Object]"!==i.call(e))return!1;var t=r.call(e,"constructor"),n=e.constructor&&e.constructor.prototype&&r.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!t&&!n)return!1;var o;for(o in e);return"undefined"==typeof o||r.call(e,o)};e.exports=function e(){var t,r,i,s,d,u,l=arguments[0],c=1,f=arguments.length,p=!1;for("boolean"==typeof l?(p=l,l=arguments[1]||{},c=2):("object"!==("undefined"==typeof l?"undefined":n(l))&&"function"!=typeof l||null==l)&&(l={});c<f;++c)if(t=arguments[c],null!=t)for(r in t)i=l[r],s=t[r],l!==s&&(p&&s&&(a(s)||(d=o(s)))?(d?(d=!1,u=i&&o(i)?i:[]):u=i&&a(i)?i:{},l[r]=e(p,u,s)):"undefined"!=typeof s&&(l[r]=s));return l}},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t="?";for(var n in e)e.hasOwnProperty(n)&&(t+=n+"="+e[n]+"&");return t=t.slice(0,-1)}function o(e,t){return e[t[0]]||e[t[1]]}function a(e){w.noFill=w.noFill||{},w.noFill[e]=(w.noFill[e]||0)+1}function s(e){return e.noFillRequestCap&&w.noFill&&w.noFill[e.id]&&w.noFill[e.id]>=e.noFillRequestCap}function d(){return w.sid}function u(e){w.sid=e}function l(e){return e&&!(0,R.default)(e)&&(e="http://"+e),e}function c(e,t){var n=JSON.parse(atob(h.WITH_CREDENTIALS_LIST[t]||h.WITH_CREDENTIALS_DEFAULT)),r=(0,b.default)(e);return n.some(function(e){return r.indexOf(e)>-1})}function f(e){return"undefined"!=typeof e?e:""}function p(){}Object.defineProperty(t,"__esModule",{value:!0}),t.createQueryString=i,t.getAdParametersValue=o,t.incrementAdSourceNoFill=a,t.didReachAdSourceNoFillRequestCap=s,t.getUserSessionId=d,t.setUserSessionId=u,t.normalizePageUrl=l,t.shouldUseCredentilas=c,t.normalizeValue=f,t.Empty=p;var h=n(7),_=n(12),A=r(_),g=n(8),v=r(g),E=n(16),m=r(E),y=n(17),S=r(y),T=n(20),R=r(T),I=n(22),b=r(I),w=(0,m.default)("session",(0,S.default)()),O={},P=new A.default(window.navigator.userAgent).getResult();O.retrieveCallingURL=function(e){for(var t=document.getElementsByTagName("script"),n="",r=0;r<t.length;r+=1)if(t[r].src.indexOf(e)!==-1){n=t[r].src;break}return n},O.parseQueryString=function(e){var t={};if(e.indexOf("?")<0)return t;var n=e.slice(e.indexOf("?")+1);return n.split("&").forEach(function(e){var n=e.split("=");t[n[0]]=decodeURIComponent(n[1])}),t},O.extractQueryParam=function(e){try{var t=O.retrieveCallingURL("sr.ads.manager"),n=O.parseQueryString(t);return n[e]}catch(e){return"ERROR"}},O.bindEvents=function(e,t,n){var r={};if(e)for(var i in n)if(n.hasOwnProperty(i))try{!function(n){var i=function(e){t(n,e)};e.addEventListener?e.addEventListener(n,i):e.on&&e.on(n,i),r[n]=i}(n[i])}catch(e){}return r},O.unbindEvents=function(e,t,n){if(e)for(var r in n)n.hasOwnProperty(r)&&!function(n){e.removeEventListener?e.removeEventListener(n,t[n]):e.off&&e.off(n,t[n])}(r)},O.bindVPAIDEvents=function(e,t){return O.bindEvents(e,t,v.default)},O.unbindVPAIDEvents=function(e,t){return O.unbindEvents(e,t,v.default)},O.shouldUpdateAdProperties=function(e){return e===v.default.AdStarted||e===v.default.AdLoaded||e.indexOf("Change")>-1},O.getAdPropertiesToUpdate=function(e){return e===v.default.AdStarted?h.VPAID_PROPERTIES:e===v.default.AdLoaded?["adLinear"]:e===v.default.AdLinearChange?["adLinear"]:e===v.default.AdDurationChange?["adDuration"]:e===v.default.AdSkippableStateChange?["adSkippableState"]:e===v.default.AdExpandedChange?["adExpanded"]:e===v.default.AdRemainingTimeChange?["adRemainingTime"]:e===v.default.AdVolumeChange?["adVolume"]:e===v.default.AdSizeChange?["adWidth","adHeight"]:[]},O.getPlayerSize=function(e,t){if(!e||!t)return null;var n=e*t;return n<=h.PLAYER_SIZE.SMALL.SIZE?h.PLAYER_SIZE.SMALL.LABEL:n>=h.PLAYER_SIZE.LARGE.SIZE?h.PLAYER_SIZE.LARGE.LABEL:h.PLAYER_SIZE.MEDIUM.LABEL},O.getUserAgent=function(){return P.ua},O.decryptAdParameters=function(e){try{return JSON.parse(e)}catch(t){return e=e.replace(/@/g,"Y").replace(/#\^/g,"A").replace(/~!/g,"="),JSON.parse(atob(e))}},O.getErrorCodeCategory=function(e){e=parseInt(e);for(var t in h.ERROR_CODES_CATEGORIES)if(h.ERROR_CODES_CATEGORIES.hasOwnProperty(t)&&h.ERROR_CODES_CATEGORIES[t].indexOf(e)>-1)return t;return"invalid"},O.extractCustomParams=function(e,t){for(var n=0;n<10;n++)t.hasOwnProperty("param"+n)&&(e["param"+n]=t["param"+n])},O.getQueryParam=function(e,t){var n=e[h.QUERY_PARAMS[t]]||e[h.QUERY_PARAMS_SHORT[t]]||"";return 0===n.indexOf("[")&&n.indexOf("]")===n.length-1&&(n=""),n},O.canPlayWithFlash=function(e){return!(!e||!e.type)&&(e.type===h.MEDIA_FILES.X_FLV||e.type===h.MEDIA_FILES.FLV||e.type===h.MEDIA_FILES.X_MP4||e.type===h.MEDIA_FILES.MP4)},O.convertAdEventToVPAIDEvent=function(e){var t=e.type,n=void 0;switch(t){case google.ima.AdEvent.Type.STARTED:n=v.default.AdStarted;break;case google.ima.AdEvent.Type.FIRST_QUARTILE:n=v.default.AdVideoFirstQuartile;break;case google.ima.AdEvent.Type.MIDPOINT:n=v.default.AdVideoMidpoint;break;case google.ima.AdEvent.Type.THIRD_QUARTILE:n=v.default.AdVideoThirdQuartile;break;case google.ima.AdEvent.Type.COMPLETE:n=v.default.AdVideoComplete;break;case google.ima.AdEvent.Type.VOLUME_CHANGED:n=v.default.AdVolumeChange;break;case google.ima.AdEvent.Type.PAUSED:n=v.default.AdPaused;break;case google.ima.AdEvent.Type.RESUMED:n=v.default.AdPlaying;break;case google.ima.AdEvent.Type.CLICKED:n=v.default.AdClickThru;break;case google.ima.AdEvent.Type.DURATION_CHANGED:n=v.default.AdDurationChange;break;case google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED:n=v.default.AdSkippableStateChange;break;case google.ima.AdEvent.Type.STOPPED:n=v.default.AdStopped;break;case google.ima.AdEvent.Type.SKIPPED:n=v.default.AdSkipped;break;case google.ima.AdEvent.Type.SIZE_CHANGED:n=v.default.AdSizeChange;break;case google.ima.AdEvent.Type.LOG:n=v.default.AdLog;break;case google.ima.AdEvent.Type.USER_ACCEPTED_INVITATION:n=v.default.AdUserAcceptInvitation;break;case google.ima.AdEvent.Type.USER_CLOSED:n=v.default.AdUserClose;break;case google.ima.AdEvent.Type.USER_MINIMIZED:n=v.default.AdUserMinimize;break;case google.ima.AdEvent.Type.EXPANDED_CHANGED:n=v.default.AdExpandedChange;break;case google.ima.AdEvent.Type.INTERACTION:n=v.default.AdInteraction;break;case google.ima.AdErrorEvent.Type.AD_ERROR:n=v.default.AdError}return n},O.chooseCompanion=function(e,t,n){var r=null;if(e){var i=t/n,o=null;e.filter(function(e){return e.staticResource}).forEach(function(e){var t=e.width/e.height,n=Math.pow(i-t,2);(!o||o>n)&&(o=n,r=e)})}return r},O.createEndCardDiv=function(){var e=document.createElement("div");return e.style.position="absolute",e.style.left=0,e.style.top=0,e.style.right=0,e.style.bottom=0,e.style.width="100%",e.style.height="100%",e.style.backgroundColor="black",e},O.createEndCardStaticResource=function(e){var t=document.createElement("img");return t.style.display="block",t.style.maxWidth="100%",t.style.maxHeight="100%",t.src=e,t},O.createEndCardLink=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=document.createElement("a");return n.href=e||"javascript:void(0)",n.target=t?"_blank":"",n.style.display="block",n.style.margin="auto",n.style.position="relative",n.style.top="50%",n.style.transform="translateY(-50%)",n},O.isIE=function(){return"IE"===P.browser.name||"Edge"===P.browser.name},t.default=O},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.WITH_CREDENTIALS_LIST=t.WITH_CREDENTIALS_MOBILE_APP=t.WITH_CREDENTIALS_DEFAULT=t.BL_SCORE_EVENTS=t.IAS_DOMAIN=t.IMA_SETTINGS_LOAD_VIDEO_TIMEOUT=t.IMA_SETTINGS_VAST_LOAD_TIME=t.IMA_SETTINGS_NUM_REDIRECTS=t.EXCLUDED_TRACKING_ACTIONS=t.DISABLE_FLASH_KEY_NAME=t.APS=t.DEFAULT_BILLED_EVENT=t.BITWISE_REPORT_TYPES=t.JS_THIRD_PARTY_PIXEL=t.IFRAME_THIRD_PARTY_PIXEL=t.IMAGE_THIRD_PARTY_PIXEL=t.END_CARD_DEFAULT_TIME=t.END_CARD_EVENTS=t.IMA_FLASH_LOADER_URL=t.IMA_SDK_LOADER_URL=t.MEDIA_FILES=t.WATERFALL_REQUEST_METHOD=t.WATERFALL_OBJECT=t.THIRD_PARTY_TRACKING=t.AD_SOURCE_STATUS=t.AD_PARAMETERS=t.SAM_CONFIG=t.VPAID_PROPERTIES=t.VPAID_METHODS=t.EVENTS_BLACKLIST=t.EVENTS_SHORT_VERSION=t.VPAID_TO_VAST_EVENTS=t.ERROR_CATEGORY_PREBID=t.ERROR_CODES_CATEGORIES=t.ERROR_CODES=t.ERRORS=t.PLAYER_SIZE=t.AD_SERVER_REPORTS=t.REPORT_TYPE=t.REPORT_CATEGORIES=t.VIEW_MODE=t.CHANNEL_TIMEOUT=t.VPAID_AD_IMPRESSION_TIMEOUT=t.VPAID_AD_STARTED_TIMEOUT=t.VPAID_AD_LOADED_TIMEOUT=t.VPAID_RESPONSE_TIMEOUT=t.TRACK_EVENT_CAP=t.WAIT_FOR_DOWNLOADS=t.AD_SOURCE_REQUEST_TO=t.QUERY_PARAMS_SHORT=t.QUERY_PARAMS=t.EVENT_DELAY_BEFORE_DONE=t.MINIMAL_FLASH_VERSION=t.VERSION=t.AD_SOURCE_REPORTING_ENDPOINT=t.FLASH_PLAYER_ENDPOINT=t.VPAID_FLASH_ENDPOINT=void 0;var i=n(8),o=r(i),a=n(9),s=r(a),d=(t.VPAID_FLASH_ENDPOINT="https://"+s.default.sdk+"/swf/v1.9/VPAIDFlash.swf",t.FLASH_PLAYER_ENDPOINT="https://"+s.default.sdk+"/swf/v1.9/sr.ads.swf",t.AD_SOURCE_REPORTING_ENDPOINT="https://"+s.default.eventManager+"/srplayer?data=[DATA]&cb=[CB]",t.VERSION="1144",t.MINIMAL_FLASH_VERSION="10.1.0",t.EVENT_DELAY_BEFORE_DONE=200,t.QUERY_PARAMS={ORGANIZATION:"org",TRAFFIC_CHANNEL:"tc",TRAFFIC_CHANNEL_NAME:"tc_name",COST:"cost",DOMAIN:"domain",AD_POSITION:"pos",PAGE_URL:"page_url",WIDTH:"width",HEIGHT:"height",AUTOPLAY:"autoplay",MUTE:"mute",CONTENT_DURATION:"video_duration",CONTENT_DESCRIPTION:"video_description",CONTENT_URL:"video_url",CONTENT_ID:"video_id",CONTENT_TITLE:"video_title",USER_LATITUDE:"user_lat",USER_LONGITUDE:"user_lon",USER_IP:"ip",USER_AGENT:"ua",PLAYER_ID:"playerid",PLAYER_NAME:"playername",SUB_ID:"sub_id",LOOP:"loop",SAM_JS_VERSION:"sam_js_ver",APP_NAME:"appname",IFA:"ifa",BUNDLE_ID:"bundleid",ENV:"env",SID:"sid",TRAFFIC_CHANNEL_DATA:"tc_data",APP_STORE_URL:"app_store_url",APP_CATEGORY:"app_category",COUNTRY_CODE:"cc",PLAYER_VERSION:"pv",NEST_LEVEL:"ns",DO_NOT_TRACK:"dnt"},t.QUERY_PARAMS_SHORT={ORGANIZATION:"org",TRAFFIC_CHANNEL:"tc",TRAFFIC_CHANNEL_NAME:"tcn",COST:"tcc",DOMAIN:"domain",AD_POSITION:"pos",PAGE_URL:"u",WIDTH:"w",HEIGHT:"h",AUTOPLAY:"ap",MUTE:"m",CONTENT_DURATION:"vdur",CONTENT_DESCRIPTION:"vdesc",CONTENT_URL:"vurl",CONTENT_ID:"vid",CONTENT_TITLE:"vtitle",USER_LATITUDE:"lat",USER_LONGITUDE:"lon",USER_IP:"ip",USER_AGENT:"ua",PLAYER_ID:"pid",PLAYER_NAME:"pn",SUB_ID:"subid",SAM_JS_VERSION:"sjs",APP_NAME:"app_name",IFA:"ifa",BUNDLE_ID:"bundle_id",ENV:"env",SID:"sid",TRAFFIC_CHANNEL_DATA:"tc_data",APP_STORE_URL:"app_store_url",APP_CATEGORY:"app_category",COUNTRY_CODE:"cc",PLAYER_VERSION:"pv",NEST_LEVEL:"ns",DO_NOT_TRACK:"dnt"},t.AD_SOURCE_REQUEST_TO=15e3,t.WAIT_FOR_DOWNLOADS=2e3,t.TRACK_EVENT_CAP=100,t.VPAID_RESPONSE_TIMEOUT=15e3,t.VPAID_AD_LOADED_TIMEOUT=3e4,t.VPAID_AD_STARTED_TIMEOUT=3e4,t.VPAID_AD_IMPRESSION_TIMEOUT=1e4,t.CHANNEL_TIMEOUT=12e4,t.VIEW_MODE={NORMAL:"normal",FULLSCREEN:"fullscreen",THUMBNAIL:"thumbnail"},t.REPORT_CATEGORIES={AD_SERVER:"adserver",AD_UNIT:"adunit",AD_MANAGER:"admanager"},t.REPORT_TYPE={VPAID_JS:"vpaid-js"},t.AD_SERVER_REPORTS={REQUEST:"req",BID:"bid",LOSE:"lose",ERROR:"err",WIN:"win",SCRIPT_INIT:"am",OPPORTUNITY:"opp",INIT_ERROR:"no-ad-params"}),u=(t.PLAYER_SIZE={SMALL:{LABEL:"small",SIZE:76800},MEDIUM:{LABEL:"medium"},LARGE:{LABEL:"large",SIZE:248832}},t.ERRORS={INVALID_DOM_CONTAINER_EL:"invalid container HtmlElement",INVALID_DOM_VIDEO_EL:"invalid HTMLVideoElement",MISSING_CALLBACK:"missing valid callback",INVALID_MEDIA_FILE:"invalid MediaFile",NO_ADS:"no ads"},t.ERROR_CODES={DEFAULT:901,UNKNOWN:999,FLASH_MEDIA_FILE_NOT_FOUND:100,HANDSHAKE_VERSION_MISMATCH:101,LOAD_AD_TO:102,START_AD_TO:103,VPAID_ERROR:104,SUPPORTED_MEDIA_FILE_NOT_FOUND:105,CANNOT_START_FLASH_PLAYER:106,MISSING_SLOT_OR_VIDEO_SLOT:107,AD_IMPRESSION_TO:108,EXCEPTION:110,CHANNEL_TIMEOUT:111,FLASH_MARKED_AS_DISABLED:112,LOAD_AD_UNIT_FAILED:113,LOAD_AD_UNIT_NO_GET_VPAID:114,LOAD_AD_UNIT_NOT_COMPLAINT:115,LOAD_AD_UNIT_NO_IFRAME:116,LOAD_AD_UNIT_TIMEOUT:117,LOAD_AD_UNIT_JS_ERROR:118,ERROR_PARSING_XML:200,NO_AD_IN_VAST_TREE:201,VAST_VERSION_NOT_SUPPORTED:202,INLINE_AND_WRAPPER_IN_RESPONSE:203,INLINE_AND_WRAPPER_NOT_IN_RESPONSE:204,MISSING_CREATIVE_AND_VIDEO_IN_INLINE:205,MISSING_CREATIVE_IN_INLINE:206,MISSING_VASTADTAGURI_IN_WRAPPER:207,AD_TYPE_NOT_SUPPORTED:208,OFFSET_ATTRIBUTE_ERROR:209,AD_SOURCE_REQUEST_TO:210,IMA_ADS_LOAD_ERROR_HANDLER:300,NO_ADS:500,HTTP_ERROR:404,AD_SOURCE_REPLACED_BY_VAST:700,AD_SOURCE_NO_FILL_REQUEST_CAP:802,AD_SOURCE_DETECTED_SIZE_MISS_MATCH:803,SPOTX_DIRECT_SDK_INTERNAL_ERROR:211},t.ERROR_CODES_CATEGORIES={"prebid-error":[200,201,202,203,204,205,206,207,208,209,210,211,404,999],"targeting-error":[802,803],"tech-error":[100,101,105,106,107,110,112,113,114,115,116,117,118,901],"vpaid-error":[104,300],"timeout-error":[102,103,108,111,700],"no-ads":[500]},t.ERROR_CATEGORY_PREBID="prebid-error",t.VPAID_TO_VAST_EVENTS={AdStarted:"creativeView",AdSkipped:"skip",AdUnMute:"unmute",AdMute:"mute",AdVideoStart:"start",AdVideoFirstQuartile:"firstQuartile",AdVideoMidpoint:"midpoint",AdVideoThirdQuartile:"thirdQuartile",AdVideoComplete:"complete",AdUserAcceptInvitation:"acceptInvitation",AdUserMinimize:"collapse",AdUserClose:"close",AdPaused:"pause",AdPlaying:"resume",AdError:"error"},t.EVENTS_SHORT_VERSION={AdStarted:"as",AdLoaded:"al",AdImpression:"ai",AdClickThru:"ct",AdVideoComplete:"avc",AdVideoStart:"avs",am:"am",win:"win",END_CARD_VIEW:"ecv"}),l=(t.EVENTS_BLACKLIST=["opp","req",o.default.AdStopped,o.default.AdPaused,o.default.AdSkipped,o.default.AdSizeChange,o.default.AdLog,o.default.AdLinearChange,o.default.AdUserClose,o.default.AdPlaying,o.default.AdExpandedChange,o.default.AdSkippableStateChange,o.default.AdRemainingTimeChange,o.default.AdVolumeChange,o.default.AdDurationChange,o.default.AdUserAcceptInvitation,o.default.AdInteraction],t.VPAID_METHODS=["resizeAd","pauseAd","resumeAd","expandAd","collapseAd","skipAd"],t.VPAID_PROPERTIES=["adLinear","adWidth","adHeight","adExpanded","adSkippableState","adRemainingTime","adDuration","adVolume","adCompanions","adIcons"],t.SAM_CONFIG={QUERY_PARAMS:"qs",CHANNEL_TIMEOUT:"timeout",WATERFALL:"waterfall",CONFIG:"config",HALFPIPE_HOSTNAME:"halfpipe_hostname",MODULE_VERSION:"module_version",DYNAMIC_VALUES:"dynamicValues"},t.AD_PARAMETERS={CONFIG_HASH:"p1",USER_IP:"p2",LATITUDE:"p3",LONGITUDE:"p4",MODULE_VERSION:"p5",HALFPIPE_HOSTNAME:"p6",CUSTOM_PARAMS:"p7"},t.AD_SOURCE_STATUS={LOADING:"loading",ERROR:"error",SUCCESS:"success"},t.THIRD_PARTY_TRACKING={AD_SOURCE_NAME:"[SR_AD_SOURCE_NAME]",AD_SOURCE_ID:"[SR_AD_SOURCE_ID]",AD_SOURCE_RATE:"[SR_AD_SOURCE_RATE]",TRAFFIC_CHANNEL_NAME:"[SR_TRAFFIC_CHANNEL_NAME]",TRAFFIC_CHANNEL_ID:"[SR_TRAFFIC_CHANNEL_ID]",PAGE_URL:"[PAGE_URL]",DOMAIN:"[DOMAIN]",CUSTOM_PARAM:"[SR_CUSTOM_PARAM_IDX]"},t.WATERFALL_OBJECT={TIERS:"tiers",WATERFALL_ID:"waterfallId",WATERFALL_NAME:"waterfallName",REQUEST_METHOD:"requestMethod",WATERFALL_DATA:"waterfall_data"},t.WATERFALL_REQUEST_METHOD={SERIAL:"serial",PARALLEL:"parallel"},t.MEDIA_FILES={X_FLV:"video/x-flv",FLV:"video/flv",MP4:"video/mp4",X_MP4:"video/x-mp4"},t.IMA_SDK_LOADER_URL="//imasdk.googleapis.com/js/sdkloader/ima3.js",t.IMA_FLASH_LOADER_URL="https://"+s.default.sdk+"/swf/v1.9/IMALoader.swf",t.END_CARD_EVENTS={EndCardView:"EndCardView"}),c=(t.END_CARD_DEFAULT_TIME=5e3,t.IMAGE_THIRD_PARTY_PIXEL="img",t.IFRAME_THIRD_PARTY_PIXEL="iframe",t.JS_THIRD_PARTY_PIXEL="js",t.BITWISE_REPORT_TYPES={REQUEST:1,IMPRESSION:2,IAS:4,IAS_IMPRESSION:6},t.DEFAULT_BILLED_EVENT=u[o.default.AdImpression],t.APS={MODULE_VERSION:["m","module_version"],HALFPIPE_HOSTNAME:["h","halfpipe_hostname"],WATERFALL:["w","waterfall"],WATERFALL_NAME:["n","waterfallName"],WATERFALL_ID:["i","waterfallId"],TIERS:["t","tiers"],TIER:["t","tier"],AD_SOURCES:["a","adSources"],ID:["i","id"],URL:["u","url"],BLID:["bl","BLId"],REQUEST_METHOD:["r","requestMethod"],SIZE:["s","size"],CONFIG:["c","config"],QUERY_PARAMS:["qs","qs"],TIMEOUT:["t","timeout"],SERIAL:["s","serial"],PARALLEL:["p","parallel"],EM_REPORT_TYPE:["e","emReportType"],DISPLAY_END_CARD:["d","displayEndCard"],END_CARD_TIME:["et","endCardTime"],THIRD_PARTY_PIXELS:["t","thirdPartyPixels"],EVENT:["e","event"],TYPE:["t","type"],SAMPLE:["s","sample"],RATE:["r","rate"],COST:["c","cost"],FROM_BL:["f","fromBL"],NO_FILL_REQUEST_CAP:["n","noFillRequestCap"],BILLED_EVENT:["b","billedEvent"],BL:["b","bl"],SID:["s","sid"],NESTED:["ns","nested"],BUNDLE_ID:["b","bundleId"],SER:["q","ser"],BL_SCORE:["bs","blScore"],NESTED_MEDIA_FILE:["mf","mediaFiles"],NESTED_AD_PARAMETERS:["ap","adParameters"],DYNAMIC_VALUES:["z","dynamicValues"]},t.DISABLE_FLASH_KEY_NAME="disableFlash",t.EXCLUDED_TRACKING_ACTIONS={admanager:[o.default.AdRemainingTimeChange,o.default.AdVolumeChange,o.default.AdDurationChange,o.default.AdVideoComplete,o.default.AdVideoStart,o.default.AdStarted,o.default.AdImpression,o.default.AdLoaded,o.default.AdError,l.EndCardView],adunit:[o.default.AdRemainingTimeChange,o.default.AdVolumeChange,o.default.AdDurationChange],adserver:[]},t.IMA_SETTINGS_NUM_REDIRECTS=6,t.IMA_SETTINGS_VAST_LOAD_TIME=9e3,t.IMA_SETTINGS_LOAD_VIDEO_TIMEOUT=12e3,t.IAS_DOMAIN="pixel.adsafeprotected.com",t.BL_SCORE_EVENTS=[d.ERROR,d.BID,d.WIN,d.LOSE,o.default.AdImpression],t.WITH_CREDENTIALS_DEFAULT="WyJhZHMuYWRhcHR2LmFkdmVydGlzaW5nLmNvbSIsInN0cmVhbXJhaWwubmV0IiwibGtxZC5uZXQiLCJhZHMuc3RpY2t5YWRzdHYuY29tIiwidmlkLnNwcmluZ3NlcnZlLmNvbSIsIm9wdGltYXRpYy5jb20iLCJ2YXN0LnZlcnRhbWVkaWEuY29tIiwic2VhcmNoLnNwb3R4Y2hhbmdlLmNvbSIsImFyZW5hLmFsdGl0dWRlcGxhdGZvcm0uY29tIiwiYWx0aXR1ZGUtYXJlbmEuY29tIiwiaW1hM3ZwYWlkLmFwcHNwb3QuY29tIiwidmFzdC55YXNoaS5jb20iLCJzc3AuYW55Y2xpcC1tZWRpYS5jb20iLCJhcy5ldS5hbmdzcnZyLmNvbSIsImJ0cmxsLmNvbSIsImMuYWRmb3JnZWluYy5jb20iLCJpb21zLmJmbWlvLmNvbSIsInZhc3QudmlkZWUudHYiLCJkYXNoYmlkYS5jb20iLCJwLmFsZ292aWQuY29tIiwiYXAubGlqaXQuY29tIiwidmFzdC5kZWxpYWRzLmNvbSIsImFkcy5jb250ZXh0d2ViLmNvbSIsInB1YmFkcy5nLmRvdWJsZWNsaWNrLm5ldCIsInZhc3QubWFuZ29tZWRpYWFkcy5jb20iLCJzbWFydGFkc2VydmVyLmNvbSIsInN1cmYucm9sbG1vYi5jb20iLCJwdWJtYXRpYy5jb20iLCJwaXhlbC5hZHNhZmVwcm90ZWN0ZWQuY29tIiwic3QudmlkZW9qYW0udHYiLCJyZXEudGlkYWx0di5jb20iLCJ0YWdzLnJsbGNsbC5jb20iLCJwcm9kLWUuc3BydGFkLmNvbSIsInZpZGVvLmJubWxhLmNvbSIsIm1lZ2EudmFzdC5tZWdhLXRhZ3MuY29tIiwicnRiLnR1YmVtb2d1bC5jb20iLCJzdmFzdHgubW9hdGFkcy5jb20iLCJ2YXN0LnZtcy5jaWduYWxpby5jb20iLCJ3bC5xMW1lZGlhLmNvbSIsImxvb3BtZS5tZSIsImFwaS52aXJhbGl6ZS50diIsInF1YXNhci5jb3VsbC5jb20iLCJvcHRpbWl6ZWQtYnkucnViaWNvbnByb2plY3QuY29tIiwiaWIuYWRueHMuY29tIiwiYWRzLm5leGFnZS5jb20iLCJkZXMuc21hcnRjbGlwLm5ldCIsImFkeC5hZGZvcm0ubmV0IiwiYWQuc3hwLnNtYXJ0Y2xpcC5uZXQiLCJvcGVueC5uZXQiLCJhZHMudHJlbW9yaHViLmNvbSIsImFkLjM2MHlpZWxkLmNvbSIsImltYTN2cGFpZC5hcHBzcG90LmNvbSJd"),f=t.WITH_CREDENTIALS_MOBILE_APP="WyJhZHMuYWRhcHR2LmFkdmVydGlzaW5nLmNvbSIsInN0cmVhbXJhaWwubmV0IiwibGtxZC5uZXQiLCJhZHMuc3RpY2t5YWRzdHYuY29tIiwidmlkLnNwcmluZ3NlcnZlLmNvbSIsIm9wdGltYXRpYy5jb20iLCJ2YXN0LnZlcnRhbWVkaWEuY29tIiwic2VhcmNoLnNwb3R4Y2hhbmdlLmNvbSIsImFyZW5hLmFsdGl0dWRlcGxhdGZvcm0uY29tIiwiYWx0aXR1ZGUtYXJlbmEuY29tIiwiaW1hM3ZwYWlkLmFwcHNwb3QuY29tIiwidmFzdC55YXNoaS5jb20iLCJzc3AuYW55Y2xpcC1tZWRpYS5jb20iLCJhcy5ldS5hbmdzcnZyLmNvbSIsImJ0cmxsLmNvbSIsImMuYWRmb3JnZWluYy5jb20iLCJpb21zLmJmbWlvLmNvbSIsInZhc3QudmlkZWUudHYiLCJkYXNoYmlkYS5jb20iLCJwLmFsZ292aWQuY29tIiwiYXAubGlqaXQuY29tIiwidmFzdC5kZWxpYWRzLmNvbSIsImFkcy5jb250ZXh0d2ViLmNvbSIsInB1YmFkcy5nLmRvdWJsZWNsaWNrLm5ldCIsInZhc3QubWFuZ29tZWRpYWFkcy5jb20iLCJzbWFydGFkc2VydmVyLmNvbSIsInN1cmYucm9sbG1vYi5jb20iLCJwdWJtYXRpYy5jb20iLCJwaXhlbC5hZHNhZmVwcm90ZWN0ZWQuY29tIiwic3QudmlkZW9qYW0udHYiLCJyZXEudGlkYWx0di5jb20iLCJ0YWdzLnJsbGNsbC5jb20iLCJwcm9kLWUuc3BydGFkLmNvbSIsInZpZGVvLmJubWxhLmNvbSIsIm1lZ2EudmFzdC5tZWdhLXRhZ3MuY29tIiwicnRiLnR1YmVtb2d1bC5jb20iLCJzdmFzdHgubW9hdGFkcy5jb20iLCJ2YXN0LnZtcy5jaWduYWxpby5jb20iLCJ3bC5xMW1lZGlhLmNvbSIsImxvb3BtZS5tZSIsImFwaS52aXJhbGl6ZS50diIsInF1YXNhci5jb3VsbC5jb20iLCJvcHRpbWl6ZWQtYnkucnViaWNvbnByb2plY3QuY29tIiwiaWIuYWRueHMuY29tIiwiYWRzLm5leGFnZS5jb20iLCJkZXMuc21hcnRjbGlwLm5ldCIsImFkeC5hZGZvcm0ubmV0IiwiYWQuc3hwLnNtYXJ0Y2xpcC5uZXQiLCJvcGVueC5uZXQiLCJhZC4zNjB5aWVsZC5jb20iLCJpbWEzdnBhaWQuYXBwc3BvdC5jb20iXQ";
t.WITH_CREDENTIALS_LIST={desktop:c,mobile_web:c,mobile_app:f}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={AdLoaded:"AdLoaded",AdStarted:"AdStarted",AdStopped:"AdStopped",AdSkipped:"AdSkipped",AdLinearChange:"AdLinearChange",AdSizeChange:"AdSizeChange",AdExpandedChange:"AdExpandedChange",AdSkippableStateChange:"AdSkippableStateChange",AdRemainingTimeChange:"AdRemainingTimeChange",AdDurationChange:"AdDurationChange",AdVolumeChange:"AdVolumeChange",AdImpression:"AdImpression",AdVideoStart:"AdVideoStart",AdVideoFirstQuartile:"AdVideoFirstQuartile",AdVideoMidpoint:"AdVideoMidpoint",AdVideoThirdQuartile:"AdVideoThirdQuartile",AdVideoComplete:"AdVideoComplete",AdClickThru:"AdClickThru",AdInteraction:"AdInteraction",AdUserAcceptInvitation:"AdUserAcceptInvitation",AdUserMinimize:"AdUserMinimize",AdUserClose:"AdUserClose",AdPaused:"AdPaused",AdPlaying:"AdPlaying",AdLog:"AdLog",AdError:"AdError",AdUnMute:"AdUnMute",AdMute:"AdMute",creativeView:"creativeView"};t.QUARTILE_EVENTS=["AdVideoFirstQuartile","AdVideoMidpoint","AdVideoThirdQuartile","AdVideoComplete"]},function(e,t,n){(function(t){var r=n(11),i=t.env.SDK_DOMAIN||r.sdk,o=t.env.COLLECTOR_DOMAIN||r.collector,a=t.env.REMOTE_CONFIG1_DOMAIN||r.remoteConfig1,s=t.env.REMOTE_CONFIG2_DOMAIN||r.remoteConfig2,d=t.SSP_DOMAIN||r.ssp,u=t.FF_DOMAIN||r.ff,l=t.FFCDN_DOMAIN||r.ffcdn,c=t.EVENT_MANAGER_DOMAIN||r.eventManager;e.exports={sdk:i,collector:o,remoteConfig1:a,remoteConfig2:s,ssp:d,ff:u,ffcdn:l,eventManager:c}}).call(t,n(10))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function o(e){if(c===clearTimeout)return clearTimeout(e);if((c===r||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(e);try{return c(e)}catch(t){try{return c.call(null,e)}catch(t){return c.call(this,e)}}}function a(){_&&p&&(_=!1,p.length?h=p.concat(h):A=-1,h.length&&s())}function s(){if(!_){var e=i(a);_=!0;for(var t=h.length;t;){for(p=h,h=[];++A<t;)p&&p[A].run();A=-1,t=h.length}p=null,_=!1,o(e)}}function d(e,t){this.fun=e,this.array=t}function u(){}var l,c,f=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{c="function"==typeof clearTimeout?clearTimeout:r}catch(e){c=r}}();var p,h=[],_=!1,A=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new d(e,t)),1!==h.length||_||i(s)},d.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=u,f.addListener=u,f.once=u,f.off=u,f.removeListener=u,f.removeAllListeners=u,f.emit=u,f.prependListener=u,f.prependOnceListener=u,f.listeners=function(e){return[]},f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(e,t){e.exports={sdk:"sdk.streamrail.com",collector:"k.streamrail.com",remoteConfig1:"playa.streamrail.com",remoteConfig2:"rc.streamrail.net",ssp:"ssp.streamrail.net",ff:"ff.streamrail.net",ffcdn:"ffcdn.streamrail.net",eventManager:"events.streamrail.net",vast:"vast.streamrail.net"}},function(e,t,n){var r;(function(e){var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(o,a){"use strict";var s="0.7.8",d="",u="?",l="function",c="undefined",f="object",p="string",h="major",_="model",A="name",g="type",v="vendor",E="version",m="architecture",y="console",S="mobile",T="tablet",R="smarttv",I="wearable",b="embedded",w={extend:function(e,t){for(var n in t)"browser cpu device engine os".indexOf(n)!==-1&&t[n].length%2===0&&(e[n]=t[n].concat(e[n]));return e},has:function(e,t){return"string"==typeof e&&t.toLowerCase().indexOf(e.toLowerCase())!==-1},lowerize:function(e){return e.toLowerCase()},major:function(e){return("undefined"==typeof e?"undefined":i(e))===p?e.split(".")[0]:a}},O={rgx:function(){for(var e,t,n,r,o,s,d,u=0,p=arguments;u<p.length&&!s;){var h=p[u],_=p[u+1];if(("undefined"==typeof e?"undefined":i(e))===c){e={};for(r in _)o=_[r],("undefined"==typeof o?"undefined":i(o))===f?e[o[0]]=a:e[o]=a}for(t=n=0;t<h.length&&!s;)if(s=h[t++].exec(this.getUA()))for(r=0;r<_.length;r++)d=s[++n],o=_[r],("undefined"==typeof o?"undefined":i(o))===f&&o.length>0?2==o.length?i(o[1])==l?e[o[0]]=o[1].call(this,d):e[o[0]]=o[1]:3==o.length?i(o[1])!==l||o[1].exec&&o[1].test?e[o[0]]=d?d.replace(o[1],o[2]):a:e[o[0]]=d?o[1].call(this,d,o[2]):a:4==o.length&&(e[o[0]]=d?o[3].call(this,d.replace(o[1],o[2])):a):e[o]=d?d:a;u+=2}return e},str:function(e,t){for(var n in t)if(i(t[n])===f&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(w.has(t[n][r],e))return n===u?a:n}else if(w.has(t[n],e))return n===u?a:n;return e}},P={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},C={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[A,E],[/\s(opr)\/([\w\.]+)/i],[[A,"Opera"],E],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi)\/([\w\.-]+)/i],[A,E],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[A,"IE"],E],[/(edge)\/((\d+)?[\w\.]+)/i],[A,E],[/(yabrowser)\/([\w\.]+)/i],[[A,"Yandex"],E],[/(comodo_dragon)\/([\w\.]+)/i],[[A,/_/g," "],E],[/FBAV\/([\w\.]+);/i],[E,[A,"Facebook"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i,/(uc\s?browser|qqbrowser)[\/\s]?([\w\.]+)/i],[A,E],[/(dolfin)\/([\w\.]+)/i],[[A,"Dolphin"],E],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[A,"Chrome"],E],[/XiaoMi\/MiuiBrowser\/([\w\.]+)/i],[E,[A,"MIUI Browser"]],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)/i],[E,[A,"Android Browser"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[E,[A,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[E,A],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[A,[E,O.str,P.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[A,E],[/(navigator|netscape)\/([\w\.-]+)/i],[[A,"Netscape"],E],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[A,E]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[m,"amd64"]],[/(ia32(?=;))/i],[[m,w.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[m,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[m,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[m,/ower/,"",w.lowerize]],[/(sun4\w)[;\)]/i],[[m,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[m,w.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[_,v,[g,T]],[/applecoremedia\/[\w\.]+ \((ipad)/],[_,[v,"Apple"],[g,T]],[/(apple\s{0,1}tv)/i],[[_,"Apple TV"],[v,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[v,_,[g,T]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[_,[v,"Amazon"],[g,T]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[_,O.str,P.device.amazon.model],[v,"Amazon"],[g,S]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[_,v,[g,S]],[/\((ip[honed|\s\w*]+);/i],[_,[v,"Apple"],[g,S]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[v,_,[g,S]],[/\(bb10;\s(\w+)/i],[_,[v,"BlackBerry"],[g,S]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7)/i],[_,[v,"Asus"],[g,T]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[v,"Sony"],[_,"Xperia Tablet"],[g,T]],[/(?:sony)?(?:(?:(?:c|d)\d{4})|(?:so[-l].+))\sbuild\//i],[[v,"Sony"],[_,"Xperia Phone"],[g,S]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[v,_,[g,y]],[/android.+;\s(shield)\sbuild/i],[_,[v,"Nvidia"],[g,y]],[/(playstation\s[3portablevi]+)/i],[_,[v,"Sony"],[g,y]],[/(sprint\s(\w+))/i],[[v,O.str,P.device.sprint.vendor],[_,O.str,P.device.sprint.model],[g,S]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[v,_,[g,T]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[v,[_,/_/g," "],[g,S]],[/(nexus\s9)/i],[_,[v,"HTC"],[g,T]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[_,[v,"Microsoft"],[g,y]],[/(kin\.[onetw]{3})/i],[[_,/\./g," "],[v,"Microsoft"],[g,S]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i],[_,[v,"Motorola"],[g,S]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[_,[v,"Motorola"],[g,T]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n8000|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[v,"Samsung"],_,[g,T]],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-n900))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[v,"Samsung"],_,[g,S]],[/(samsung);smarttv/i],[v,_,[g,R]],[/\(dtv[\);].+(aquos)/i],[_,[v,"Sharp"],[g,R]],[/sie-(\w+)*/i],[_,[v,"Siemens"],[g,S]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[v,"Nokia"],_,[g,S]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[_,[v,"Acer"],[g,T]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[v,"LG"],_,[g,T]],[/(lg) netcast\.tv/i],[v,_,[g,R]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i],[_,[v,"LG"],[g,S]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[_,[v,"Lenovo"],[g,T]],[/linux;.+((jolla));/i],[v,_,[g,S]],[/((pebble))app\/[\d\.]+\s/i],[v,_,[g,I]],[/android.+;\s(glass)\s\d/i],[_,[v,"Google"],[g,I]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus)?[\s_]*(?:\d\w)?)\s+build/i],[[_,/_/g," "],[v,"Xiaomi"],[g,S]],[/(mobile|tablet);.+rv\:.+gecko\//i],[[g,w.lowerize],v,_]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[E,[A,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[A,E],[/rv\:([\w\.]+).*(gecko)/i],[E,A]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[A,E],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[A,[E,O.str,P.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[A,"Windows"],[E,O.str,P.os.windows.version]],[/\((bb)(10);/i],[[A,"BlackBerry"],E],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[A,E],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[A,"Symbian"],E],[/\((series40);/i],[A],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[A,"Firefox OS"],E],[/(nintendo|playstation)\s([wids3portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[A,E],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[A,"Chromium OS"],E],[/(sunos)\s?([\w\.]+\d)*/i],[[A,"Solaris"],E],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[A,E],[/(ip[honead]+)(?:.*os\s*([\w]+)*\slike\smac|;\sopera)/i],[[A,"iOS"],[E,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[A,"Mac OS"],[E,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[A,E]]},D=function e(t,n){if(!(this instanceof e))return new e(t,n).getResult();var r=t||(o&&o.navigator&&o.navigator.userAgent?o.navigator.userAgent:d),i=n?w.extend(C,n):C;return this.getBrowser=function(){var e=O.rgx.apply(this,i.browser);return e.major=w.major(e.version),e},this.getCPU=function(){return O.rgx.apply(this,i.cpu)},this.getDevice=function(){return O.rgx.apply(this,i.device)},this.getEngine=function(){return O.rgx.apply(this,i.engine)},this.getOS=function(){return O.rgx.apply(this,i.os)},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=e,this},this.setUA(r),this};D.VERSION=s,D.BROWSER={NAME:A,MAJOR:h,VERSION:E},D.CPU={ARCHITECTURE:m},D.DEVICE={MODEL:_,VENDOR:v,TYPE:g,CONSOLE:y,MOBILE:S,SMARTTV:R,TABLET:T,WEARABLE:I,EMBEDDED:b},D.ENGINE={NAME:A,VERSION:E},D.OS={NAME:A,VERSION:E},i(t)!==c?(i(e)!==c&&e.exports&&(t=e.exports=D),t.UAParser=D):i(n(14))===l&&n(15)?(r=function(){return D}.call(t,n,t,e),!(r!==a&&(e.exports=r))):o.UAParser=D}("object"===("undefined"==typeof window?"undefined":i(window))?window:void 0)}).call(t,n(13)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t){(function(t){e.exports=t}).call(t,{})},function(e,t){function n(e,t){var n,o,a;if(t=t||r,!t)return!1;for(e=e?i+"."+e:i,n=e.split("."),o=n.shift();o;)a=t[o]||{},t=t[o]=a,o=n.shift();return a}var r,i="SR_NS";r="undefined"!=typeof window?window:{},e.exports=n},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(){var e=window;try{for(;(0,a.default)(e)&&(0,d.default)(e);)e=e.parent}catch(t){return e}return e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(18),a=r(o),s=n(19),d=r(s);e.exports=t.default},function(e,t){function n(e){e=e||window;try{return e.self!==e.parent}catch(e){return!0}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t){function n(e){e=e||window;try{return e.parent.document.getElementById("x"),!0}catch(e){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=(0,a.default)(e);if(!t)return"";var n=new RegExp("^(?:[a-z]+:)?//","i"),r=t.match(n);return r&&r.length?r[0]:""}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(21),a=r(o);e.exports=t.default},function(e,t){function n(e){if(e){var t=e;try{for(;t!==decodeURIComponent(t);)t=decodeURIComponent(t)}catch(e){}return t}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=(0,a.default)(e);if(t){t.indexOf("://")===-1&&(t="http://"+t);var n=document.createElement("a");return n.href=t,n.hostname}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(21),a=r(o);e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(24),o=r(i),a={},s=["#FFCDD2","#F48FB1","#E1BEE7","#E57373","#EA80FC","#B39DDB","#9FA8DA","#64B5F6","#B3E5FC","#4FC3F7","#80DEEA","#E0F7FA","#B2DFDB","#E0F2F1","#CFD8DC","#90A4AE","#FBE9E7","#EFEBE9","#EEEEEE","#E0E0E0","#FFCC80","#FFF9C4","#DCE775","#DCEDC8","#A5D6A7"],d=["#E53935","#880E4F","#7B1FA2","#9575CD","#7986CB","#283593","#2196F3","#1565C0","#039BE5","#0097A7","#009688","#43A047","#689F38","#757575","#424242","#A1887F","#78909C","#546E7A","#263238"],u=0===Math.floor(2*Math.random())?"#000000":"#FFFFFF",l="#000000"===u?s[Math.floor(Math.random()*s.length)]:d[Math.floor(Math.random()*d.length)],c=new o.default({target:"sam",color:u,bgColor:l});a.log=function(e){c.log(e)},a.setId=function(e){a.id=e},t.default=a,e.exports=t.default},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){var t=window[e];return"undefined"==typeof t&&E()&&(t=window.top[e]),t}function o(e){var t=i("debugSrInternals");return t||(t=window.location.search&&(window.location.search.indexOf("forceConsole")>-1||window.location.search.indexOf("debugSrInternals")>-1)),!t&&E()&&(t=window.top.location.search&&(window.top.location.search.indexOf("forceConsole")>-1||window.top.location.search.indexOf("debugSrInternals")>-1)),t&&e&&(i("debugSrInternalsTargetsWhiteList")&&(t=i("debugSrInternalsTargetsWhiteList").indexOf(e)!==-1),t&&i("debugSrInternalsTargetsBlackList")&&(t=i("debugSrInternalsTargetsBlackList").indexOf(e)===-1)),window.console&&!!t}function a(e){var t=i("debugSrInternals");return t&&(i("debugSrInternalsRegExpWhiteList")&&(t=i("debugSrInternalsRegExpWhiteList").some(function(t){return t.test(e)})),t&&i("debugSrInternalsRegExpBlackList")&&(t=i("debugSrInternalsRegExpBlackList").every(function(t){return!t.test(e)}))),t}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:A;m&&o(t)&&a(e)&&window.console.log("%cSR::"+(f?f+"::":"")+t+":: "+e,"color: "+n+"; background: "+r)}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:A;m&&o(t)&&a(e)&&window.console.debug("%cSR::"+(f?f+"::":"")+t+":: "+e,"color: "+n+"; background: "+r)}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:A;m&&o(t)&&a(e)&&window.console.warn("%cSR::"+(f?f+"::":"")+t+":: "+e,"color: "+n+"; background: "+r)}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:A;m&&o(t)&&a(e)&&window.console.error("%cSR::"+(f?f+"::":"")+t+":: "+e,"color: "+n+"; background: "+r)}function c(e){e&&!p&&(f=e,p=!0)}Object.defineProperty(t,"__esModule",{value:!0});var f="",p=!1,h="general",_="#A0368E",A="#FFFFFF",g=function(){var e=!1;try{e=!!window.top.document}catch(t){e=!1}return e},v=g(),E=function(){return v&&g()},m=o();t.log=s,t.debug=d,t.warn=u,t.error=l,t.setGlobalTarget=c;var y=function(){function e(t){var n=t.target,i=t.color,o=t.bgColor,a=t.globalTarget;r(this,e),this._target=n,this._color=i,this._bgColor=o,c(a)}return e.prototype.debug=function(e){d(e,this._target,this._color,this._bgColor)},e.prototype.log=function(e){s(e,this._target,this._color,this._bgColor)},e.prototype.warn=function(e){u(e,this._target,this._color,this._bgColor)},e.prototype.error=function(e){l(e,this._target,this._color,this._bgColor)},e.setGlobalTarget=function(e){c(e)},e.isEnabled=function(){return o()},e}();t.default=y},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}return e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):i(e,t))}function d(){}Object.defineProperty(t,"__esModule",{value:!0});var u=n(4),l=r(u),c=n(5),f=r(c),p=n(26),h=r(p),_=n(27),A=r(_),g=n(6),v=r(g),E=n(23),m=r(E),y=n(34),S=r(y),T=n(76),R=r(T),I=n(83),b=r(I),w=n(85),O=r(w),P=n(22),C=r(P),D=n(16),L=r(D),N=n(7),M=n(8),V=r(M),k=n(59),U=r(k),x=function(){return!1},F=g.Empty;x=n(67).isFlashSupported,F=n(143);var j=(0,L.default)(),H=function(e){function t(n){o(this,t),m.default.log("WaterfallManager CTOR");var r=a(this,e.call(this));return r.settings=n,r.tracker=n.tracker,r.config=n.config,r.adObject={},r.waterfallHelper=void 0,r._currentIntegrator=void 0,r.vpaidEventListeners={},r._currentAdSource=void 0,r.initAdObject(n.width,n.height),r}return s(t,e),t.prototype.initAdObject=function(e,t){this.adObject.adRemainingTime=-2,this.adObject.adDuration=-2,this.adObject.adLinear=!0,this.adObject.adWidth=e,this.adObject.adHeight=t,this.adObject.adExpanded=!1,this.adObject.adSkippableState=!1,this.adObject.adVolume=-1,this.adObject.adCompanions="",this.adObject.adIcons=!1},t.prototype.initAd=function(e){var t=this;return m.default.log("WaterfallManager: initAd"),new A.default(function(n,r){e?(m.default.log("WaterfallManager: got waterfall as parameter: "+JSON.stringify(e)),t.waterfallHelper=new O.default(e,t.settings,t._onFoundVAST.bind(t)),e[N.WATERFALL_OBJECT.REQUEST_METHOD]!==N.WATERFALL_REQUEST_METHOD.SERIAL?(t.waterfallHelper.getVASTResponseForTier(),t.waterfallHelper.getNextAdSource().then(function(e){t._currentAdSource=e,n()}).catch(function(){m.default.log("did not find any ads to play :("),r()})):n()):r()})},t.prototype.startAd=function(){this.waterfallHelper?this._tryToPlayAdSource():this.emit(V.default.AdError)},t.prototype.stopAd=function(e){this._currentIntegrator.stopAd(e)},t.prototype._changeAdSource=function(){this._destroyAdSource(),this._tryToPlayAdSource()},t.prototype._bindVPAIDEventsHandler=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this._replacingAdSource){var n=(0,f.default)({action:e},t);if(t={},v.default.shouldUpdateAdProperties(e))try{this._populateAdSourceProperties(v.default.getAdPropertiesToUpdate(e))}catch(e){}if(e===V.default.AdError){var r=!(this.waterfallHelper&&this.waterfallHelper.currentTier&&this.waterfallHelper.currentTier.adSources&&this.waterfallHelper.currentTier.adSources.length&&this.waterfallHelper.currentTier.adSources[0].injected);if(r&&this.tracker.reportIntegratorError(n),(0,g.incrementAdSourceNoFill)(this._currentAdSource.id),!this.impressionOccurred)return void this._changeAdSource();this._destroyAdSource()}else if(this.tracker.adUnitReport(n),e===V.default.AdImpression){if(this.impressionOccurred)return;this.impressionOccurred=!0,this.settings.srPlayer&&(t.adSourceId=this._currentAdSource&&this._currentAdSource.id),"undefined"!=typeof this._currentAdSource[N.APS.SER[1]]&&(t.srx=!0,t.adsourcerate=this._currentAdSource[N.APS.COST[1]],t.cost=this._currentAdSource[N.APS.SER[1]])}else if(e===V.default.AdStopped){var i=this._currentAdSource;if(this._destroyAdSource(),this.settings.srPlayer&&i&&i.vastResponse&&i.displayEndCard){var o=v.default.chooseCompanion(i.vastResponse.companionAds,this.settings.width,this.settings.height);if(o)return void this._handleEndCard(o,(0,f.default)({},n))}}else if(e===V.default.AdLoaded)return;m.default.log("WaterfallManager dispatchEvent "+e),this.emit(e,t)}},t.prototype._handleEndCard=function(e,t,n){var r=this;m.default.log("WaterfallManager showing end card"),t.action=N.EVENTS_SHORT_VERSION.END_CARD_VIEW,this._showCompanion(e,this.settings.environmentVars.slot,n||N.END_CARD_DEFAULT_TIME,t).then(function(){r.emit(V.default.AdStopped)})},t.prototype._showCompanion=function(e,t,n,r){var i=this;return new A.default(function(o){try{var a=v.default.createEndCardDiv();if(e.staticResource){var s=v.default.createEndCardStaticResource(e.staticResource),d=v.default.createEndCardLink(e.companionClickThrough);d.appendChild(s),a.appendChild(d),e.trackingEvents&&e.trackingEvents.length&&(s.onload=function(){i.tracker.adUnitReport(r),e.trackingEvents.forEach(function(e){"creativeView"===e.name&&(0,U.default)([e.uri])})}),e.companionClickTracking&&(a.onclick=function(){e.companionClickTracking&&(0,U.default)([e.companionClickTracking])})}t.innerHTML="",t.appendChild(a),i.emit(N.END_CARD_EVENTS.EndCardView,{}),setTimeout(function(){(e.trackingEvents||[]).forEach(function(e){"close"===e.name&&(0,U.default)([e.uri])}),o()},n)}catch(e){o()}})},t.prototype._tryToPlayAdSource=function(){var e=this;this._currentAdSource?this._playAdSource(this._currentAdSource):this.waterfallHelper.getNextAdSource().then(function(t){e._currentAdSource=t,e._playAdSource(t)},function(){m.default.log("did not find any ads to play :("),e.emit(V.default.AdError,N.ERRORS.NO_ADS)})},t.prototype._playAdSource=function(e){var t=function(e){e?m.default.log("WaterfallManager playAdCallback "+e):m.default.log("WaterfallManager playAdCallback success")},n=this.tracker.addDynamicValuesToReportOptions({tier:this.waterfallHelper.currentTier.tier,tierlength:this.waterfallHelper.currentTierAdSourceLength,adsourceid:e.id,adsourcetype:e.type,adsourcename:e.name,adsourcerate:e.rate,cost:e.cost,rank:e.index,fromBL:(0,g.normalizeValue)(e.fromBL),blScore:(0,g.normalizeValue)(e.blScore),emReportType:(0,g.normalizeValue)(e.emReportType),nest:(0,g.normalizeValue)(e.nested),fc:(0,g.normalizeValue)(e.fc),bundleid:e.bundleId},e);this.tracker.modifyTrackingSettings(n),this.tracker.reportWin(),this._isIASWrapper(e.url)?this.tracker.isIASWrapper=!0:this.tracker.isIASWrapper=!1,m.default.log("finding integrator for ad source");var r=void 0,i=void 0;e.isVAST?(r=R.default,i="VASTIntegrator"):e.isVPAID?(r=S.default,i="VPAIDIntegrator"):e.isIMA&&(x()&&v.default.isIE()?(r=F,i="IMAFlashIntegrator"):(r=b.default,i="IMAIntegrator")),m.default.log("starting "+i+" with ad source "+e.id+" ("+e.name+")");var o=this.settings.environmentVars&&this.settings.environmentVars.videoSlot?this.settings.environmentVars.videoSlot:void 0;this.settings.srPlayer&&o&&o.setFetchManifestSettings&&(o.setFetchManifestSettings({settings:{adSourceId:e.id}}),j.fetchManifestSettings=o.setFetchManifestSettings({})),o&&this.settings.mute&&(o.volume=0,o.muted=!0,o.setAttribute("muted","muted"));var a=(0,f.default)({},this.settings);if(e.isVPAID&&o&&o.parentNode&&this.config.moatID()){var s={vpaid:"",container:o.parentNode,ids:{level1:"js",level2:this.settings.queryParams.org,level3:this.settings.queryParams.tc,level4:e.id},partnerCode:this.config.moatID()};(0,f.default)(a,{moat:s})}this._currentIntegrator=new r(e,a),this.vpaidEventListeners=v.default.bindVPAIDEvents(this._currentIntegrator,this._bindVPAIDEventsHandler.bind(this)),this._currentIntegrator.playAd(t)},t.prototype._destroyAdSource=function(){this._currentIntegrator.destroy(),v.default.unbindVPAIDEvents(this._currentIntegrator,this.vpaidEventListeners),this.vpaidEventListeners={},this._currentIntegrator=void 0,this._currentAdSource=void 0,this._replacingAdSource=!1},t.prototype._populateAdSourceProperties=function(e){var t=this;e.forEach(function(e){try{var n="get"+(0,h.default)(e),r=function(n,r){n?m.default.log("could not get "+e+" from adUnit"):(t.adObject[e]=r,m.default.log("updating "+e+" to "+r))};t._currentIntegrator[n](r)}catch(t){m.default.log("could not get "+e+" from adUnit - "+t.message)}})},t.prototype._onFoundVAST=function(){var e=this;this._replacingAdSource||!this._currentAdSource||this._currentAdSource.isVAST||this.impressionOccurred||!this._currentIntegrator||(m.default.log("replacing current integrator with VAST"),this._replacingAdSource=!0,this._currentIntegrator.stopAd(function(){}),this.tracker.reportReplaceError({}),setTimeout(function(){e._changeAdSource()},0))},t.prototype._isIASWrapper=function(e){return(0,C.default)(e)===N.IAS_DOMAIN},t}(l.default);N.VPAID_METHODS.forEach(function(e){!function(e){H.prototype[e]=function(){if(this._currentIntegrator){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];this._currentIntegrator[e](n)}}}(e)}),N.VPAID_PROPERTIES.forEach(function(e){var t="get"+(0,h.default)(e);H.prototype[t]=function(){return this.adObject[e]}}),H.prototype.setAdVolume=function(e){this._currentIntegrator&&this._currentIntegrator.setAdVolume(e,d)},t.default=H,e.exports=t.default},function(e,t){function n(e){return e.charAt(0).toUpperCase()+e.slice(1)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.reject=t.resolve=t.race=t.all=t.Promise=void 0;var r=n(28),i={},o=n(29);i.Promise=o,i.all=o.all.bind(o),i.race=o.race.bind(o),i.resolve=o.resolve.bind(o),i.reject=o.reject.bind(o);var a={Promise:void 0,all:void 0,race:void 0,resolve:void 0,reject:void 0};"function"==typeof r.Promise?(a.Promise=r.Promise,a.all=r.all.bind(r.Promise),a.race=r.race.bind(r.Promise),a.resolve=r.resolve.bind(r.Promise),a.reject=r.reject.bind(r.Promise)):(a.Promise=i.Promise,a.all=i.all,a.race=i.race,a.resolve=i.resolve,a.reject=i.reject);var s=t.Promise=a.Promise;t.all=a.all,t.race=a.race,t.resolve=a.resolve,t.reject=a.reject;t.default=s},function(e,t,n){(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n={Promise:void 0,all:void 0,race:void 0,resolve:void 0,reject:void 0},r="true"===e.env.PREFER_NATIVE_PROMISE;if(r&&"function"==typeof window.Promise){var i=window.Promise;"undefined"==typeof i.prototype.timeout&&(i.prototype.timeout=function(e,t){var n=this;return new i(function(r,i){var o=setTimeout(function(){t&&"string"!=typeof t||(t=new Error(t||"Timed out after "+e+" ms"),t.code="ETIMEDOUT"),i(t)},e);n.then(function(e){clearTimeout(o),r(e)},function(e){clearTimeout(o),i(e)})})},i.prototype.finally=function(e){return this.then(function(t){return i.resolve(e()).then(function(){return t})},function(t){return i.resolve(e()).then(function(){throw t})})}),n.Promise=i,n.all=i.all.bind(i),n.race=i.race.bind(i),n.resolve=i.resolve.bind(i),n.reject=i.reject.bind(i)}var o=t.Promise=n.Promise;t.all=n.all,t.race=n.race,t.resolve=n.resolve,t.reject=n.reject;t.default=o}).call(t,n(10))},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}return e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):i(e,t))}Object.defineProperty(t,"__esModule",{value:!0});var d=n(30),u=r(d),l=n(31),c=r(l),f=function(){},p=function e(t){t&&("function"!=typeof t._onFulfilled||t._onFulfilled._isFinally||(t._onFulfilled=f),"function"!=typeof t._onRejected||t._onRejected._isFinally||(t._onRejected=f),e(t[0]))},h=function(e){function t(n){if(o(this,t),"function"==typeof n&&3===n.length){
var r=void 0,i=void 0,s=function(e){i=function(){e(),p(d),r(),r=i=null}},d=a(this,e.call(this,function(e,t){r=t,n(e,t,s)}));d._onCancel=i}else var d=a(this,e.call(this,n));return a(d)}return s(t,e),t.prototype.cancel=function(){"function"==typeof this._onCancel&&this._onCancel()},t.prototype.timeout=function(e,t){var n=t;return n&&"string"!=typeof n||(n=new Error(n||"Timed out after "+e+" ms"),n.code="ETIMEDOUT"),(0,c.default)(this,e,n)},t.prototype.finally=function(e){var t=function(t){return u.default.resolve(e()).then(function(){return t})},n=function(t){return u.default.resolve(e()).then(function(){throw t})};return t._isFinally=n._isFinally=!0,this.then(t,n)},t}(u.default);t.default=h,e.exports=t.default},function(e,t){(function(t){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(){"use strict";function r(){return Z[F]||j}function i(e,t){for(var n in t)e.prototype[n]=t[n];return e}function o(e){return e&&"object"===("undefined"==typeof e?"undefined":n(e))}function a(e){return"function"==typeof e}function s(e,t){return e instanceof t}function d(e,t,n){if(!t(e))throw p(n)}function u(){try{return b.apply(w,arguments)}catch(e){return Q.e=e,Q}}function l(e,t){return b=e,w=t,u}function c(e,t){function n(){for(var n=0;n<i;)t(r[n],r[n+1]),r[n++]=I,r[n++]=I;i=0,r.length>e&&(r.length=e)}var r=N(e),i=0;return function(e,t){r[i++]=e,r[i++]=t,2===i&&J(n)}}function f(e,t){var n,r,i,o,d=0;if(!e)throw p(B);var u=e[Z[x]];if(a(u))r=u.call(e);else{if(!a(e.next)){if(s(e,N)){for(n=e.length;d<n;)t(e[d],d++);return d}throw p(B)}r=e}for(;!(i=r.next()).done;)if(o=l(t)(i.value,d++),o===Q)throw a(r[H])&&r[H](),o.e;return d}function p(e){return new TypeError(e)}function h(e,t){var n="on"+e.toLowerCase(),r=C[n];L&&L.listeners(e).length?e===q?L.emit(e,t._v,t):L.emit(e,t):r&&r({reason:t._v,promise:t})}function _(e){return e&&e._Yaku}function A(e){if(_(e))return new e(X);var t,n,r;return t=new e(function(e,i){if(t)throw p();n=e,r=i}),d(n,a),d(r,a),t}function g(e,t){var n=!1;return function(r){n||(n=!0,t===V?S(e,r):y(e,t,r))}}function v(e,t,n,r){return a(n)&&(t._onFulfilled=n),a(r)&&(e[W]&&h(z,e),t._onRejected=r),e[e._pCount++]=t,e._s!==k&&ee(e,t),t}function E(e){if(e._umark)return!0;e._umark=!0;for(var t,n=0,r=e._pCount;n<r;)if(t=e[n++],t._onRejected||E(t))return!0}function m(e,t){return e(t)}function y(e,t,n){var r=0,i=e._pCount;if(e._s===k)for(e._s=t,e._v=n,t===M&&te(e);r<i;)ee(e,e[r++]);return e}function S(e,t){if(t===e&&t)return y(e,M,p(G)),e;if(t!==O&&(a(t)||o(t))){var n=l(T)(t);if(n===Q)return y(e,M,n.e),e;a(n)?_(t)?R(e,t,n):J(function(){R(e,t,n)}):y(e,V,t)}else y(e,V,t);return e}function T(e){return e.then}function R(e,t,n){var r=l(n,t)(function(n){t&&(t=O,S(e,n))},function(n){t&&(t=O,y(e,M,n))});r===Q&&t&&(y(e,M,r.e),t=O)}var I,b,w,O=null,P="object"===("undefined"==typeof window?"undefined":n(window)),C=P?window:t,D=C.Promise,L=C.process,N=Array,M=0,V=1,k=2,U="Symbol",x="iterator",F="species",j=U+"("+F+")",H="return",W="_uh",Y="Invalid this",B="Invalid argument",G="Chaining cycle detected for promise",z="rejectionHandled",q="unhandledRejection",Q={e:O},X=function(){},Z=C[U]||{},J=P?function(e){D?new D(function(e){e()}).then(e):setTimeout(e)}:L.nextTick,K=function(e,t){var n=e.constructor;return n?n[r()]||t:t},$=function(e){var t,n=this;if(!o(n)||n._s!==I)throw p(Y);if(n._s=k,e!==X){if(!a(e))throw p(B);t=l(e)(g(n,V),g(n,M)),t===Q&&y(n,M,t.e)}};$.default=$,i($,{then:function(e,t){if(void 0===this._s)throw p();return v(this,A(K(this,$)),e,t)},catch:function(e){return this.then(I,e)},finally:function(e){return this.then(function(t){return $.resolve(e()).then(function(){return t})},function(t){return $.resolve(e()).then(function(){throw t})})},_pCount:0,_pre:O,_Yaku:1}),$.resolve=function(e){return _(e)?e:S(A(this),e)},$.reject=function(e){return y(A(this),M,e)},$.race=function(e){var t=this,n=A(t),r=function(e){y(n,V,e)},i=function(e){y(n,M,e)},o=l(f)(e,function(e){t.resolve(e).then(r,i)});return o===Q?t.reject(o.e):n},$.all=function(e){function t(e){y(i,M,e)}var n,r=this,i=A(r),o=[];return n=l(f)(e,function(e,a){r.resolve(e).then(function(e){o[a]=e,--n||y(i,V,o)},t)}),n===Q?r.reject(n.e):(n||y(i,V,[]),i)},l(function(){Object.defineProperty($,r(),{get:function(){return this}})})(),$._Yaku=1;var ee=c(999,function(e,t){var n,r;return r=e._s?t._onFulfilled:t._onRejected,r===I?void y(t,e._s,e._v):(n=l(m)(r,e._v),n===Q?void y(t,M,n.e):void S(t,n))}),te=c(9,function(e){E(e)||(e[W]=1,h(q,e))});try{e.exports=$}catch(e){C.Yaku=$}}()}).call(t,function(){return this}())},function(e,t,n){var r=n(32);e.exports=function(e,t,n){return void 0===n&&(n=new Error("time out")),new r.Promise(function(i,o){setTimeout(o,t,n),r.Promise.resolve(e).then(i,o)})}},function(e,t,n){var r=n(33);e.exports={extendPrototype:function(e,t){for(var n in t)e.prototype[n]=t[n];return e},isFunction:function(e){return"function"==typeof e},isNumber:function(e){return"number"==typeof e},Promise:r,slice:[].slice}},function(e,t){(function(t){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(){"use strict";function r(){return se[Y][G]||z}function i(e,t){for(var n in t)e[n]=t[n]}function o(e){return e&&"object"===("undefined"==typeof e?"undefined":n(e))}function a(e){return"function"==typeof e}function s(e,t){return e instanceof t}function d(e){return s(e,F)}function u(e,t,n){if(!t(e))throw h(n)}function l(){try{return P.apply(C,arguments)}catch(e){return ie.e=e,ie}}function c(e,t){return P=e,C=t,l}function f(e,t){function n(){for(var n=0;n<i;)t(r[n],r[n+1]),r[n++]=O,r[n++]=O;i=0,r.length>e&&(r.length=e)}var r=x(e),i=0;return function(e,t){r[i++]=e,r[i++]=t,2===i&&se.nextTick(n)}}function p(e,t){var n,r,i,o,d=0;if(!e)throw h(K);var u=e[se[Y][B]];if(a(u))r=u.call(e);else{if(!a(e.next)){if(s(e,x)){for(n=e.length;d<n;)t(e[d],d++);return d}throw h(K)}r=e}for(;!(i=r.next()).done;)if(o=c(t)(i.value,d++),o===ie)throw a(r[q])&&r[q](),o.e;return d}function h(e){return new TypeError(e)}function _(e){return(e?"":$)+(new F).stack}function A(e,t){var n="on"+e.toLowerCase(),r=N[n];V&&V.listeners(e).length?e===re?V.emit(e,t._v,t):V.emit(e,t):r?r({reason:t._v,promise:t}):se[e](t._v,t)}function g(e){return e&&e._s}function v(e){if(g(e))return new e(oe);var t,n,r;return t=new e(function(e,i){if(t)throw h();n=e,r=i}),u(n,a),u(r,a),t}function E(e,t){var n=!1;return function(r){n||(n=!0,U&&(e[Z]=_(!0)),t===H?I(e,r):R(e,t,r))}}function m(e,t,n,r){return a(n)&&(t._onFulfilled=n),a(r)&&(e[Q]&&A(ne,e),t._onRejected=r),U&&(t._p=e),e[e._c++]=t,e._s!==W&&de(e,t),t}function y(e){if(e._umark)return!0;e._umark=!0;for(var t,n=0,r=e._c;n<r;)if(t=e[n++],t._onRejected||y(t))return!0}function S(e,t){function n(e){return r.push(e.replace(/^\s+|\s+$/g,""))}var r=[];return U&&(t[Z]&&n(t[Z]),function e(t){t&&X in t&&(e(t._next),n(t[X]+""),e(t._p))}(t)),(e&&e.stack?e.stack:e)+("\n"+r.join("\n")).replace(ae,"")}function T(e,t){return e(t)}function R(e,t,n){var r=0,i=e._c;if(e._s===W)for(e._s=t,e._v=n,t===j&&(U&&d(n)&&(n.longStack=S(n,e)),ue(e));r<i;)de(e,e[r++]);return e}function I(e,t){if(t===e&&t)return R(e,j,h(ee)),e;if(t!==D&&(a(t)||o(t))){var n=c(b)(t);if(n===ie)return R(e,j,n.e),e;a(n)?(U&&g(t)&&(e._next=t),g(t)?w(e,t,n):se.nextTick(function(){w(e,t,n)})):R(e,H,t)}else R(e,H,t);return e}function b(e){return e.then}function w(e,t,n){var r=c(n,t)(function(n){t&&(t=D,I(e,n))},function(n){t&&(t=D,R(e,j,n))});r===ie&&t&&(R(e,j,r.e),t=D)}var O,P,C,D=null,L="object"===("undefined"==typeof window?"undefined":n(window)),N=L?window:t,M=N.Promise,V=N.process,k=N.console,U=!1,x=Array,F=Error,j=1,H=2,W=3,Y="Symbol",B="iterator",G="species",z=Y+"("+G+")",q="return",Q="_uh",X="_pt",Z="_st",J="Invalid this",K="Invalid argument",$="\nFrom previous ",ee="Chaining cycle detected for promise",te="Uncaught (in promise)",ne="rejectionHandled",re="unhandledRejection",ie={e:D},oe=function(){},ae=/^.+\/node_modules\/yaku\/.+\n?/gm,se=function(e){var t,n=this;if(!o(n)||n._s!==O)throw h(J);if(n._s=W,U&&(n[X]=_()),e!==oe){if(!a(e))throw h(K);t=c(e)(E(n,H),E(n,j)),t===ie&&R(n,j,t.e)}};se.default=se,i(se.prototype,{then:function(e,t){if(void 0===this._s)throw h();return m(this,v(se.speciesConstructor(this,se)),e,t)},catch:function(e){return this.then(O,e)},finally:function(e){return this.then(function(t){return se.resolve(e()).then(function(){return t})},function(t){return se.resolve(e()).then(function(){throw t})})},_c:0,_p:D}),se.resolve=function(e){return g(e)?e:I(v(this),e)},se.reject=function(e){return R(v(this),j,e)},se.race=function(e){var t=this,n=v(t),r=function(e){R(n,H,e)},i=function(e){R(n,j,e)},o=c(p)(e,function(e){t.resolve(e).then(r,i)});return o===ie?t.reject(o.e):n},se.all=function(e){function t(e){R(i,j,e)}var n,r=this,i=v(r),o=[];return n=c(p)(e,function(e,a){r.resolve(e).then(function(e){o[a]=e,--n||R(i,H,o)},t)}),n===ie?r.reject(n.e):(n||R(i,H,[]),i)},se.Symbol=N[Y]||{},c(function(){Object.defineProperty(se,r(),{get:function(){return this}})})(),se.speciesConstructor=function(e,t){var n=e.constructor;return n?n[r()]||t:t},se.unhandledRejection=function(e,t){k&&k.error(te,U?t.longStack:S(e,t))},se.rejectionHandled=oe,se.enableLongStackTrace=function(){U=!0},se.nextTick=L?function(e){M?new M(function(e){e()}).then(e):setTimeout(e)}:V.nextTick,se._s=1;var de=f(999,function(e,t){var n,r;return r=e._s!==j?t._onFulfilled:t._onRejected,r===O?void R(t,e._s,e._v):(n=c(T)(r,e._v),n===ie?void R(t,j,n.e):void I(t,n))}),ue=f(9,function(e){y(e)||(e[Q]=1,A(re,e))});try{e.exports=se}catch(e){N.Yaku=se}}()}).call(t,function(){return this}())},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}return e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):i(e,t))}Object.defineProperty(t,"__esModule",{value:!0});var d=n(4),u=r(d),l=n(35),c=r(l),f=n(26),p=r(f),h=n(36),_=r(h),A=n(42),g=r(A),v=n(7),E=n(23),m=r(E),y=n(6),S=r(y),T=n(43),R=r(T),I=n(45),b=r(I),w=n(58),O=r(w),P=n(8),C=r(P),D=n(65),L=r(D),N=y.Empty,M=function(){return!0};N=n(66),M=n(67).isFlashDisabled;var V=function(e){function t(n,r){o(this,t);var i=a(this,e.call(this));return i.adSource=n,i.settings=r,i.vastTracker=void 0,i.containerEl=i._createVPAIDContainerEl(),i.techs=[b.default,N].filter(function(e){return!!e}),i.numberOfImpressions=0,i.vpaidEventListeners=null,i.tech=null,m.default.log("VPAIDIntegrator initialized"),i}return s(t,e),t.prototype._createVPAIDContainerEl=function(){var e=document.createElement("div");return e.className="sam-container",e.style.width="100%",e.style.height="100%",this.settings.isMobile||(e.style.position="absolute",e.style.top="-10000px",e.style.left="0"),this.settings.environmentVars&&this.settings.environmentVars.slot?this.settings.environmentVars.slot.appendChild(e):document.body.appendChild(e),e},t.prototype.playAd=function(e){var t=this,n=this._findSupportedTech(this.adSource.vastResponse);if(n&&n instanceof N&&M()){var r=new c.default("flash was marked as disabled",v.ERROR_CODES.FLASH_MARKED_AS_DISABLED);e(r),this.emit(C.default.AdError,r)}else if(n)this.tech=n,(0,_.default)([function(e){e(null,n,t.adSource.vastResponse)},this._loadAdUnit.bind(this),this._playAdUnit.bind(this)],function(n,r,i){t.destroyed||(n&&(m.default.log("VPAIDIntegrator playAd error"),t.emit(C.default.AdError,n)),e(n,i))});else{var i=new c.default("failed to find supported tech",v.ERROR_CODES.SUPPORTED_MEDIA_FILE_NOT_FOUND);e(i),this.emit(C.default.AdError,i)}},t.prototype.stopAd=function(e){try{this.wrappedAdUnit.stopAd(e)}catch(e){}},t.prototype._loadAdUnit=function(e,t,n){var r=this;m.default.log("VPAIDIntegrator loading ad unit");var i=this.settings.environmentVars?this.settings.environmentVars.videoSlot:void 0;e.loadAdUnit(this.containerEl,i,function(i,o){i&&(i=e.isHTML5?new c.default("loadAdUnit error",i||v.ERROR_CODES.LOAD_AD_UNIT_FAILED):new c.default(i.message||i,v.ERROR_CODES.LOAD_AD_UNIT_FAILED),n(i,o,t));try{var a={};r.settings.environmentVars&&(a.convertedVideo=!!r.settings.environmentVars.convertedVideo,a.playerSDK=r.settings.environmentVars.playerSDK,a.versionSDK=r.settings.environmentVars.versionSDK),r.wrappedAdUnit=new R.default(o,{src:e.mediaFile.src,config:r.settings.config,envVarsToPropagate:a}),n(null,r.wrappedAdUnit,t)}catch(e){var s=new c.default("could not init VPAIDAdUnitWrapper",v.ERROR_CODES.EXCEPTION);n(s,o,t)}})},t.prototype._playAdUnit=function(e,t,n){m.default.log("VPAIDIntegrator playing ad unit"),(0,_.default)([function(n){n(null,e,t)},this._handshake.bind(this),this._setupEvents.bind(this),this._initAd.bind(this),this._startAd.bind(this),this._waitForImpression.bind(this)],n)},t.prototype._handshake=function(e,t,n){function r(e){var t=i(e);return t>=1&&t<=2}function i(e){var t=(e||"").toString().split(".");return parseInt(t[0],10)}e.handshakeVersion("2.0",function(i,o){var a=i&&i.message?i.message:'on VPAIDIntegrator._handshake, unsupported version "'+o+'"',s=new c.default(a,v.ERROR_CODES.HANDSHAKE_VERSION_MISMATCH);return i?n(s,e,t):o&&r(o)?n(null,e,t):n(s,e,t)})},t.prototype._initAd=function(e,t,n){m.default.log("VPAIDIntegrator initAd"),e.initAd(this.settings.width,this.settings.height,v.VIEW_MODE.NORMAL,-1,{AdParameters:t.adParameters||""},function(r){r=r?new c.default(r.message||C.default.AdError,v.ERROR_CODES.LOAD_AD_TO):null,n(r,e,t)})},t.prototype._setupEvents=function(e,t,n){var r=this,i=function(t,n){if(!r.destroyed){try{m.default.log("VPAIDIntegrator adUnit eventName="+t+" eventData="+JSON.stringify(n))}catch(e){m.default.log("VPAIDIntegrator adUnit eventName="+t)}var i=void 0;if(i=n&&n.srx?n:n&&n.length>0&&n[0]&&n[0].srx?n[0]:{},P.QUARTILE_EVENTS.indexOf(t)>-1&&0===r.numberOfImpressions)return void m.default.log("VPAIDIntegrator - no impression - ignoring event "+t);if(t===C.default.AdStopped)r.adStoppedTimeout?(clearTimeout(r.adStoppedTimeout),r.adStoppedTimeout=null):0===r.numberOfImpressions&&(m.default.log("VPAIDIntegrator - no impression - replacing event "+t+" to AdError"),i=new c.default(C.default.AdError,v.ERROR_CODES.VPAID_ERROR),t=C.default.AdError);else if(t===C.default.AdError)i=new c.default(C.default.AdError,v.ERROR_CODES.VPAID_ERROR);else if(t===C.default.AdImpression){if(r.numberOfImpressions+=1,r.numberOfImpressions>1)return;r._showContainer(),r._initMoat(e)}else t===C.default.AdVideoComplete?r.hasEndCard?i.hasEndCard=!0:r.adStoppedTimeout=setTimeout(function(){r.emit(C.default.AdStopped)},1e3):t===C.default.AdClickThru?i=n||{}:t===C.default.AdStarted&&(0,g.default)(r.containerEl,"viralgains.com")&&(r._showContainer(),r.hasEndCard=!0);r.vastTracker.trackEvent(t),r.emit(t,i)}};this.vastTracker=new O.default(e.settings.src,t),this.vpaidEventListeners=S.default.bindVPAIDEvents(e,i.bind(this)),n(null,e,t)},t.prototype._startAd=function(e,t,n){m.default.log("VPAIDIntegrator startAd"),e.startAd(function(r){r=r?new c.default(r.message||C.default.AdError,v.ERROR_CODES.START_AD_TO):null,n(r,e,t)})},t.prototype._waitForImpression=function(e,t,n){var r=this;m.default.log("VPAIDIntegrator waitForImpression"),this.numberOfImpressions>0?n(null,e,t):e.waitForEvent(C.default.AdImpression,function(i){0===r.numberOfImpressions&&(i=i?new c.default(i.message||C.default.AdError,v.ERROR_CODES.AD_IMPRESSION_TO):null),n(i,e,t)})},t.prototype._findSupportedTech=function(e){if(!e||"[object VASTResponse]"!==e.toString())return null;for(var t=e.mediaFiles.filter(function(e){return e.isVPAID()}),n=0;n<this.techs.length;n++)for(var r=this.techs[n],i=0;i<t.length;i++){var o=t[i];if(r.supports(o.type))return new r(this.settings,o)}return null},t.prototype._initMoat=function(e){this.tech.isHTML5&&this.settings.moat&&(0,L.default)(e._adUnit._creative,this.settings.moat.container,this.settings.moat.ids,this.settings.moat.partnerCode)},t.prototype._showContainer=function(){this.settings.isMobile||(this.containerEl.style.top=this.containerEl.style.left=0,this.containerEl.style.position="")},t.prototype.destroy=function(){m.default.log("destroy"),this.destroyed=!0,this.vpaidEventListeners&&(S.default.unbindVPAIDEvents(this.wrappedAdUnit,this.vpaidEventListeners),this.vpaidEventListeners=null),this.tech&&(this.tech.unloadAdUnit(),this.tech=null),this.wrappedAdUnit=null,this.adSource=null,this.settings=null,this.vastTracker=null,this.containerEl=null,this.techs=null,this.numberOfImpressions=null},t}(u.default);v.VPAID_METHODS.forEach(function(e){!function(e){V.prototype[e]=function(t){try{this.wrappedAdUnit[e](t[0],t[1],t[2],t[3])}catch(e){}}}(e)}),v.VPAID_PROPERTIES.forEach(function(e){var t="get"+(0,p.default)(e);V.prototype[t]=function(e){try{this.wrappedAdUnit[t](e)}catch(e){}}}),V.prototype.setAdVolume=function(e,t){try{this.wrappedAdUnit.setAdVolume(e,t)}catch(e){}},t.default=V,e.exports=t.default},function(e,t){function n(e,t,n){this.message=e||"VAST Error",this.vastResponse=n,t&&(this.code=t)}Object.defineProperty(t,"__esModule",{value:!0}),n.prototype=new Error,n.prototype.name="VAST Error",n.prototype.toString=function(){return this.message+" ("+this.code+")"},t.default=n;t.ERROR_PARSING_XML=n.ERROR_PARSING_XML=200,t.NO_AD_IN_VAST_TREE=n.NO_AD_IN_VAST_TREE=201,t.VAST_VERSION_NOT_SUPPORTED=n.VAST_VERSION_NOT_SUPPORTED=202,t.INLINE_AND_WRAPPER_IN_RESPONSE=n.INLINE_AND_WRAPPER_IN_RESPONSE=203,t.INLINE_AND_WRAPPER_NOT_IN_RESPONSE=n.INLINE_AND_WRAPPER_NOT_IN_RESPONSE=204,t.MISSING_CREATIVE_AND_VIDEO_IN_INLINE=n.MISSING_CREATIVE_AND_VIDEO_IN_INLINE=205,t.MISSING_CREATIVE_IN_INLINE=n.MISSING_CREATIVE_IN_INLINE=206,t.MISSING_VASTADTAGURI_IN_WRAPPER=n.MISSING_VASTADTAGURI_IN_WRAPPER=207,t.AD_TYPE_NOT_SUPPORTED=n.AD_TYPE_NOT_SUPPORTED=208,t.OFFSET_ATTRIBUTE_ERROR=n.OFFSET_ATTRIBUTE_ERROR=209,t.AD_SOURCE_REQUEST_TO=n.AD_SOURCE_REQUEST_TO=210,t.MISSING_AD_TAG_URL=n.MISSING_AD_TAG_URL=211,t.HTTP_ERROR=n.HTTP_ERROR=404},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};if(!(0,a.default)(e)){var n=new Error("First argument to waterfall must be an array of functions");return t(n)}if(!e.length)return t();var r=function e(n){return function(){for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];if(i&&i[0])t.apply(null,i),t=function(){};else{var a=Array.prototype.slice.call(i,1),s=n.next();s?a.push(e(s)):a.push(t),(0,d.default)(function(){n.apply(null,a)})}}};r((0,l.default)(e))()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(37),a=r(o),s=n(38),d=r(s),u=n(41),l=r(u);e.exports=t.default},function(e,t){function n(e){return"[object Array]"===Object.prototype.toString.call(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t,n){(function(n){function n(e){setTimeout(e,0)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default}).call(t,n(39).setImmediate)},function(e,t,n){function r(e,t){this._id=e,this._clearFn=t}var i=Function.prototype.apply;t.setTimeout=function(){return new r(i.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new r(i.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(40),t.setImmediate=setImmediate,t.clearImmediate=clearImmediate},function(e,t,n){(function(e,t){!function(e,n){"use strict";function r(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return _[h]=r,p(h),h++}function i(e){delete _[e]}function o(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}function a(e){if(A)setTimeout(a,0,e);else{var t=_[e];if(t){A=!0;try{o(t)}finally{i(e),A=!1}}}}function s(){p=function(e){t.nextTick(function(){a(e)})}}function d(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}function u(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&a(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),p=function(n){e.postMessage(t+n,"*")}}function l(){var e=new MessageChannel;e.port1.onmessage=function(e){var t=e.data;a(t)},p=function(t){e.port2.postMessage(t)}}function c(){var e=g.documentElement;p=function(t){var n=g.createElement("script");n.onreadystatechange=function(){a(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}function f(){p=function(e){setTimeout(a,0,e)}}if(!e.setImmediate){var p,h=1,_={},A=!1,g=e.document,v=Object.getPrototypeOf&&Object.getPrototypeOf(e);v=v&&v.setTimeout?v:e,"[object process]"==={}.toString.call(e.process)?s():d()?u():e.MessageChannel?l():g&&"onreadystatechange"in g.createElement("script")?c():f(),v.setImmediate=r,v.clearImmediate=i}}("undefined"==typeof self?"undefined"==typeof e?void 0:e:self)}).call(t,function(){return this}(),n(10))},function(e,t){function n(e){var t=function t(n){var r=function t(){if(e.length){for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];e[n].apply(null,i)}return t.next()};return r.next=function(){return n<e.length-1?t(n+1):null},r};return t(0)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t){function n(e,t){return!!e&&Array.prototype.some.call(e.getElementsByTagName("iframe"),function(e){if(e.src.indexOf(t)>-1)return!0;try{return n(e.contentWindow.document.body,t)}catch(e){return!1}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(){}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=n(35),d=r(s),u=n(44),l=r(u),c=n(23),f=r(c),p=n(26),h=r(p),_=function(){function e(t,n){var r=this;i(this,e),this._adUnit=t,this.settings=n,this.settings.responseTimeout=n.config.vpaidAdResponseTimeout(),this.settings.responseTimeouts={AdLoaded:n.config.vpaidAdLoadTimeout(),AdStarted:n.config.vpaidAdStartedTimeout(),AdImpression:n.config.vpaidAdImpressionTimeout()};var o=function(e,t){if(!e||!r.checkVPAIDInterface(e))throw new d.default("on VPAIDAdUnitWrapper, the passed VPAID adUnit does not fully implement the VPAID interface");if(t&&"object"!==("undefined"==typeof t?"undefined":a(t)))throw new d.default("on VPAIDAdUnitWrapper, expected settings hash  but got '"+t+"'")};o(t,n)}return e.prototype.checkVPAIDInterface=function(e){function t(e){return"function"==typeof e.subscribe||"function"==typeof e.addEventListener||"function"==typeof e.on}function n(e){return"function"==typeof e.unsubscribe||"function"==typeof e.removeEventListener||"function"==typeof e.off}for(var r=["handshakeVersion","initAd","startAd","stopAd","resizeAd","pauseAd","expandAd","collapseAd"],i=0,o=r.length;i<o;i++)if(!e||"function"!=typeof e[r[i]])return!1;return t(e)&&n(e)},e.prototype.adUnitAsyncCall=function(){function e(e,t,n){if(!(0,l.default)(e)||"function"!=typeof n[e])throw new d.default("on VPAIDAdUnitWrapper.adUnitAsyncCall, invalid method name");if("function"!=typeof t)throw new d.default("on VPAIDAdUnitWrapper.adUnitAsyncCall, missing callback")}function t(){return function(){u&&clearTimeout(u),s.apply(this,arguments)}}for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.shift(),s=r.pop(),u=void 0;e(a,s,this._adUnit),r.push(t()),this._adUnit[a].apply(this._adUnit,r),u=setTimeout(function(){u=null,s(new d.default("on VPAIDAdUnitWrapper, timeout while waiting for a response on call '"+a+"'")),s=o},this.settings.responseTimeout)},e.prototype.on=function(e,t){var n=this._adUnit.addEventListener||this._adUnit.subscribe||this._adUnit.on;n.call(this._adUnit,e,t)},e.prototype.off=function(e,t){var n=this._adUnit.removeEventListener||this._adUnit.unsubscribe||this._adUnit.off;n.call(this._adUnit,e,t)},e.prototype.waitForEvent=function(e,t,n){function r(e,t){if(!(0,l.default)(e))throw new d.default("on VPAIDAdUnitWrapper.waitForEvent, missing evt name");if("function"!=typeof t)throw new d.default("on VPAIDAdUnitWrapper.waitForEvent, missing callback")}function i(){u&&(clearTimeout(u),u=null)}function a(){i();for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];r.unshift(null),t.apply(n,r)}var s=this.settings.responseTimeouts[e]||this.settings.responseTimeout;f.default.log("VPAIDAdUnitWrapper waitForEvent "+e+" for "+s);var u=void 0;r(e,t),n=n||null,this.on(e,a),u=setTimeout(function(){var n="VPAIDAdUnitWrapper.waitForEvent, timeout while waiting for event "+e;f.default.log(n),t(new d.default(n)),u=null,t=o},s)},e.prototype.handshakeVersion=function(e,t){this.adUnitAsyncCall("handshakeVersion",e,t)},e.prototype.initAd=function(e,t,n,r,i,o){this.waitForEvent("AdLoaded",o),this._adUnit.initAd(e,t,n,r,i,this.settings.envVarsToPropagate)},e.prototype.resizeAd=function(e,t,n,r){this.adUnitAsyncCall("resizeAd",e,t,n,r)},e.prototype.startAd=function(e){this.waitForEvent("AdStarted",e),this._adUnit.startAd()},e.prototype.stopAd=function(e){this.waitForEvent("AdStopped",e),this._adUnit.stopAd()},e.prototype.pauseAd=function(e){this.waitForEvent("AdPaused",e),this._adUnit.pauseAd()},e.prototype.resumeAd=function(e){this.waitForEvent("AdPlaying",e),this._adUnit.resumeAd()},e.prototype.expandAd=function(e){this.waitForEvent("AdExpandedChange",e),this._adUnit.expandAd()},e.prototype.collapseAd=function(e){this.waitForEvent("AdExpandedChange",e),this._adUnit.collapseAd()},e.prototype.skipAd=function(e){this.waitForEvent("AdSkipped",e),this._adUnit.skipAd()},e.prototype.setAdVolume=function(e,t){this.adUnitAsyncCall("setAdVolume",e,t)},e}();["adLinear","adWidth","adHeight","adExpanded","adSkippableState","adRemainingTime","adDuration","adVolume","adCompanions","adIcons"].forEach(function(e){var t="get"+(0,h.default)(e);_.prototype[t]=function(e){this.adUnitAsyncCall(t,e)}}),t.default=_,e.exports=t.default},function(e,t){function n(e){return"string"==typeof e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=n(35),a=r(o),s=n(46),d=r(s),u=n(57),l=r(u),c=n(7),f=n(23),p=r(f),h=function(){function e(t,n){i(this,e),this.settings=t,this.mediaFile=n,this.containerEl=void 0,this.vpaidHTMLClient=void 0,this.isHTML5=!0}return e.prototype.loadAdUnit=function(e,t,n){function r(e,t,n){if(!e)throw new a.default(c.ERRORS.INVALID_DOM_CONTAINER_EL);if(!t)throw new a.default(c.ERRORS.INVALID_DOM_CONTAINER_EL);if("function"!=typeof n)throw new a.default(c.ERRORS.MISSING_CALLBACK)}try{r(e,t,n)}catch(e){return void n(e)}this.containerEl=e,this.vpaidHTMLClient=new d.default(e,t,{},null,this.settings),this.vpaidHTMLClient.loadAdUnit(this.mediaFile.src,n)},e.prototype.unloadAdUnit=function(){if(this.vpaidHTMLClient){try{this.vpaidHTMLClient.destroy()}catch(e){p.default.log("VAST ERROR: trying to unload the VPAID adUnit")}this.vpaidHTMLClient=null}this.containerEl&&((0,l.default)(this.containerEl),this.containerEl=null)},e}();h.supports=function(e){return e&&(e.indexOf("javascript")>-1||e.indexOf("ecmascript")>-1||e.indexOf("jscript")>-1||e.indexOf("livescript")>-1)},t.default=h,e.exports=t.default},function(e,t,n){(function(t){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,n,r,i,o){r=r||{},this._id=v(),this._destroyed=!1,this._frameContainer=g.createElementInEl(e,"div"),this._videoEl=n,this._vpaidOptions=i||{timeout:1e4},this._vpaidIntegratorOptions=o||{},this._templateConfig={template:r.template||(t.env.MOBILE_VPAID_BOOTSTRAP_SCRIPT_NAME&&S()?y:m),extraOptions:r.extraOptions||{}}}function o(e){var t=this[e];t&&(t.remove?t.remove():t.parentNode.removeChild(t),delete this[e])}function a(){try{u.call(this),s.call(this)}catch(e){}}function s(){d.call(this),o.call(this,"_frame")}function d(){this._onLoad&&(this._onLoad.__isGlobalOn&&this._onLoad.__isGlobalOn[this.callbackName]&&(this._onLoad.__isGlobalOn[this.callbackName]=null,this._onLoad.__isGlobalOn=null),g.clearCallbackTimeout(this._onLoad),delete this._onLoad)}function u(){this._adUnit&&(this._adUnit._destroy(),delete this._adUnit)}function l(){if(this._destroyed)throw new Error("VPAIDHTML5Client already destroyed!")}var c=n(5),f=r(c),p=n(47),h=r(p),_=n(48),A=r(_),g=n(49),v=g.unique("vpaidIframe"),E=n(51),m=n(54),y=n(55),S=n(56);i.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,a.call(this))},i.prototype.isDestroyed=function(){return this._destroyed},i.prototype.loadAdUnit=function(e,r){function i(e){var t,n,i;if(e){if(this._frame&&this._frame.contentWindow?(i=this._frame.contentWindow.getVPAIDAd,t=g.validate("function"==typeof i,"114")):t="116",!t){var o=this._frame.contentWindow.document.querySelector(".ad-element");n=new E(i(),o,this._videoEl,this._frame),t=g.validate(n.isValidVPAIDAd(),"115")}}else t="118";return this._adUnit=n,d.call(this),r(t,t?null:n),!0}function o(){r("117",null)}l.call(this),a.call(this);window.location.protocol+"//"+window.location.host;this._iframeID=this.getID()+(new Date).getTime(),this.callbackName="vpaid_callback_"+this._iframeID,this._onLoad=g.callbackTimeout(this._vpaidOptions.timeout,i.bind(this),o.bind(this));var s=this._frameContainer&&this._frameContainer.ownerDocument&&this._frameContainer.ownerDocument.defaultView;if(s&&s!==window)try{s[this.callbackName]=this._onLoad,this._onLoad.__isGlobalOn=s}catch(e){setTimeout(g.callbackTimeout(this._vpaidOptions.timeout,i.bind(this),o.bind(this)).bind(this,!0),Math.max(0,this._vpaidOptions.timeout-100))}else window[this.callbackName]=this._onLoad,this._onLoad.__isGlobalOn=window;this._frame=(0,h.default)(),this._frame.marginWidth="0",this._frame.marginHeight="0",this._frame.frameBorder="0",this._frame.width="100%",this._frame.height="100%",this._frame.style.position="absolute",this._frame.style.left="0",this._frame.style.top="0",this._frame.style.margin="0px",this._frame.style.padding="0px",this._frame.style.border="none",this._frame.setAttribute("SCROLLING","NO"),this._frameContainer.appendChild(this._frame),(0,A.default)(this._frame,g.simpleTemplate(this._templateConfig.template,(0,f.default)({mobileVPAIDBootstrap_JS:""+n.p+t.env.MOBILE_VPAID_BOOTSTRAP_SCRIPT_NAME+".js",
iframeURL_JS:e,iframeID:this._iframeID},this._templateConfig.extraOptions)))},i.prototype.unloadAdUnit=function(){a.call(this)},i.prototype.getID=function(){return this._id},e.exports=i}).call(t,n(10))},function(e,t){function n(e,t,n,r){var i=document.createElement("iframe");return i.src=r||"about:blank",i.width=isNaN(t)?"100%":t+"px",i.height=isNaN(n)?"100%":n+"px",i.style.border="none",e&&i.setAttribute("id",e),i.setAttribute("SCROLLING","NO"),i}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t){function n(e,t){var n=e.contentWindow&&e.contentWindow.document;return!!n&&(n.open(),n.write(t),n.close(),!0)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(){}function o(e,t){return e?null:new Error(t)}function a(e){var t=h[e.guid];t&&(clearTimeout(t),delete h[e.guid])}function s(e,t,n){var r,o,s=(new p.default).NewGuid();return o=setTimeout(function(){t=i,delete h[r.guid],n()},e),r=function(){t.apply(this,arguments)&&a(r)},r.guid=s,h[s]=o,r}function d(e,t,n){var r=document.createElement(t);return n&&(r.id=n),e.appendChild(r),r}function u(e,t){return Object.keys(t).forEach(function(n){var r="object"===("undefined"==typeof r?"undefined":c(r))?JSON.stringify(t[n]):t[n];e=e.replace(new RegExp("{{"+n+"}}","g"),r)}),e}function l(e){var t=-1;return function(){return e+"_"+ ++t}}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f=n(50),p=r(f),h={};e.exports={noop:i,validate:o,clearCallbackTimeout:a,callbackTimeout:s,createElementInEl:d,simpleTemplate:u,unique:l}},function(e,t){"use strict";var n=function(){this.NewGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"==e?t:3&t|8;return n.toString(16)})}};e.exports=n},function(e,t,n){(function(t){function r(e,t,n,r){this._isValid=c(e),this._isValid&&(this._eventHandlers=[],this._creative=e,this._el=t,this._videoEl=n,this._subscribers=new l,i.call(this))}function i(){_.forEach(function(e){var t=a.bind(this,e);this._eventHandlers.push({event:e,handler:t}),this._creative.subscribe(t,e)}.bind(this));var e=o.bind(this);this._eventHandlers.push({event:h,handler:e}),this._creative.subscribe(e,h)}function o(e,t,n){this._subscribers.triggerSync(h,{url:e,id:t,playerHandles:n})}function a(e){this._subscribers.trigger(e,Array.prototype.slice.call(arguments,1))}function s(e,t,n,r){e?e(n,r):n&&t.trigger(p,n)}var d=n(5),u=n(52),l=n(53),c=u.checkVPAIDInterface,f=n(49),p="AdError",h="AdClickThru",_=u.EVENTS.filter(function(e){return e!=h});_.push("EndCardView"),r.prototype=Object.create(u.prototype),r.prototype.isValidVPAIDAd=function(){return this._isValid},u.METHODS.forEach(function(e){var t=["subscribe","unsubscribe","initAd"];t.indexOf(e)===-1&&(r.prototype[e]=function(){var t=u.prototype[e].length,n=Array.prototype.slice.call(arguments),r=t===n.length?n.pop():void 0;setTimeout(function(){var t,i=null;try{t=this._creative[e].apply(this._creative,n)}catch(e){i=e}s(r,this._subscribers,i,t)}.bind(this),0)})}),r.prototype.initAd=function(e,n,r,i,o,a,u){o=o||{};var l={slot:this._el,videoSlot:this._videoEl};this._videoEl&&this._videoEl.srvideo&&"pepsi"===this._videoEl["data-player-type"]?l.convertedVideo=!0:l.convertedVideo=!1,t.env.PLAYER_SDK&&(l.playerSDK=t.env.PLAYER_SDK),t.env.SDK_VERSION&&(l.versionSDK=t.env.SDK_VERSION),a=d(l,a||{}),setTimeout(function(){var t;try{this._creative.initAd(e,n,r,i,o,a)}catch(e){t=e}s(u,this._subscribers,t)}.bind(this),0)},r.prototype.subscribe=function(e,t,n){this._subscribers.subscribe(t,e,n)},r.prototype.unsubscribe=function(e,t){this._subscribers.unsubscribe(t,e)},r.prototype.on=r.prototype.subscribe,r.prototype.off=r.prototype.unsubscribe,u.GETTERS.forEach(function(e){r.prototype[e]=function(t){setTimeout(function(){var n,r=null;try{n=this._creative[e]()}catch(e){r=e}s(t,this._subscribers,r,n)}.bind(this),0)}}),r.prototype.setAdVolume=function(e,t){setTimeout(function(){var n,r=null;try{this._creative.setAdVolume(e),n=this._creative.getAdVolume()}catch(e){r=e}r||(r=f.validate(n===e,"failed to apply volume: "+e)),s(t,this._subscribers,r,n)}.bind(this),0)},r.prototype._destroy=function(){var e=this;this._eventHandlers.forEach(function(t){var n=t.event,r=t.handler;try{e._creative.unsubscribe(r,n)}catch(e){}}),this._subscribers.unsubscribeAll(),this._eventHandlers=null,this._creative=null,this._el=null,this._videoEl=null},e.exports=r}).call(t,n(10))},function(e,t){function n(e,t,n){}function r(e,t,n){Object.defineProperty(e,t,{writable:!1,configurable:!1,value:n})}var i=["handshakeVersion","initAd","startAd","stopAd","skipAd","resizeAd","pauseAd","resumeAd","expandAd","collapseAd","subscribe","unsubscribe"],o=["AdLoaded","AdStarted","AdStopped","AdSkipped","AdSkippableStateChange","AdSizeChange","AdLinearChange","AdDurationChange","AdExpandedChange","AdRemainingTimeChange","AdVolumeChange","AdImpression","AdVideoStart","AdVideoFirstQuartile","AdVideoMidpoint","AdVideoThirdQuartile","AdVideoComplete","AdClickThru","AdInteraction","AdUserAcceptInvitation","AdUserMinimize","AdUserClose","AdPaused","AdPlaying","AdLog","AdError"],a=["getAdLinear","getAdWidth","getAdHeight","getAdExpanded","getAdSkippableState","getAdRemainingTime","getAdDuration","getAdVolume","getAdCompanions","getAdIcons"],s=["setAdVolume"];n.prototype.handshakeVersion=function(e,t){},n.prototype.initAd=function(e,t,n,r,i,o,a){},n.prototype.startAd=function(e){},n.prototype.stopAd=function(e){},n.prototype.skipAd=function(e){},n.prototype.resizeAd=function(e,t,n,r){},n.prototype.pauseAd=function(e){},n.prototype.resumeAd=function(e){},n.prototype.expandAd=function(e){},n.prototype.collapseAd=function(e){},n.prototype.subscribe=function(e,t,n){},n.prototype.unsubscribe=function(e,t){},n.prototype.getAdLinear=function(e){},n.prototype.getAdWidth=function(e){},n.prototype.getAdHeight=function(e){},n.prototype.getAdExpanded=function(e){},n.prototype.getAdSkippableState=function(e){},n.prototype.getAdRemainingTime=function(e){},n.prototype.getAdDuration=function(e){},n.prototype.getAdVolume=function(e){},n.prototype.getAdCompanions=function(e){},n.prototype.getAdIcons=function(e){},n.prototype.setAdVolume=function(e,t){},r(n,"METHODS",i),r(n,"GETTERS",a),r(n,"SETTERS",s),r(n,"EVENTS",o);var d=i.filter(function(e){return["skipAd"].indexOf(e)===-1});r(n,"checkVPAIDInterface",function(e){var t=d.every(function(t){return"function"==typeof e[t]});return t}),e.exports=n},function(e,t){function n(){this._subscribers={}}n.prototype.subscribe=function(e,t,n){this.get(t).push({handler:e,context:n})},n.prototype.unsubscribe=function(e,t){e?this._subscribers[t]=this.get(t).filter(function(t){return e!==t.handler}):this._subscribers[t]=[]},n.prototype.unsubscribeAll=function(){this._subscribers={}},n.prototype.trigger=function(e,t){var n=this;n.get(e).forEach(function(r){setTimeout(function(){n.get(e)&&r.handler.call(r.context,t)},0)})},n.prototype.triggerSync=function(e,t){this.get(e).forEach(function(e){e.handler.call(e.context,t)})},n.prototype.get=function(e){return this._subscribers[e]||(this._subscribers[e]=[]),this._subscribers[e]},e.exports=n},function(e,t){e.exports='<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <style>\n\t\thtml {\n\t\t\theight: 100%;\n\t\t\twidth: 100%;\n\t\t}\n\t\tbody {\n\t\t\tmargin: 0;\n\t\t\tpadding: 0;\n\t\t\theight: 100%;\n\t\t\twidth: 100%;\n\t\t}\n\t\t.ad-element {\n\t\t\theight: 100%;\n\t\t\twidth: 100%;\n\t\t}\n\t</style>\n</head>\n<body>\n\t<div class="ad-element">\n\t</div>\n\t<script>\n\t\tfunction notifyReady(success) {\n\t\t\tvar parentCallback = parent["vpaid_callback_{{iframeID}}"];\n\t\t\tif (typeof parentCallback === \'function\'){\n\t\t\t\tparentCallback(success);\n\t\t\t}\n\t\t}\n\t</script>\n    <script type="text/javascript" src="{{iframeURL_JS}}" onload="notifyReady(true)" onerror="notifyReady(false)"></script>\n</body>\n</html>\n'},function(e,t){e.exports='<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <style>\n\t\thtml {\n\t\t\theight: 100%;\n\t\t\twidth: 100%;\n\t\t}\n\t\tbody {\n\t\t\tmargin: 0;\n\t\t\tpadding: 0;\n\t\t\theight: 100%;\n\t\t\twidth: 100%;\n\t\t}\n\t\t.ad-element {\n\t\t\theight: 100%;\n\t\t\twidth: 100%;\n\t\t}\n\t</style>\n</head>\n<body>\n    <script src="{{mobileVPAIDBootstrap_JS}}"></script>\n    <script type="text/javascript" src="{{iframeURL_JS}}"></script>\n    <script>\n        if (!window.location.origin) {\n            window.location.origin = window.location.protocol + "//" + window.location.hostname + (window.location.port ? \':\' + window.location.port: \'\');\n        }\n\n\t\tif (document.readyState !== \'loading\') {\n\t\t\tnotifyReady();\n\t\t} else {\n\t\t\tdocument.addEventListener(\'DOMContentLoaded\', notifyReady);\n\t\t}\n\n\t\tfunction notifyReady() {\n\t\t\tparent.postMessage(\'{"event": "ready", "id": "{{iframeID}}", "vendor": "streamrail"}\', \'*\');\n\t\t}\n    </script>\n    <div class="ad-element">\n    </div>\n</body>\n</html>\n'},function(e,t,n){function r(){if(window.location.href.indexOf("nomobile=1")>-1)return!1;if(window.location.href.indexOf("forcemobile=1")>-1)return!0;if(a&&"null"!==a)return!0;var e=o.os?o.os.name:"";if(s.indexOf(e.toLowerCase())>-1)return!0;var t=!1;return function(e){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0)}(navigator.userAgent||navigator.vendor||window.opera),t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(12),o=new i(window.navigator.userAgent).getResult(),a=o.device.type,s=["android","ios","windows phone","blackberry"];e.exports=t.default},function(e,t){function n(e){var t=void 0;return e&&("string"==typeof e?t="#"===e[0]?document.getElementById(e.slice(1)):document.querySelector(e):e.tagName&&(t=e),t&&t.parentNode&&"function"==typeof t.parentNode.removeChild&&t.parentNode.removeChild(t)),t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=n(59),a=r(o),s=n(62),d=r(s),u=n(5),l=r(u),c=n(37),f=r(c),p=n(7),h=n(8),_=r(h),A=function(){function e(t,n){i(this,e),this.assetURI=t,this.response=n}return e.prototype.trackURLs=function(e,t){(0,f.default)(e)&&e.length>0&&(t=(0,l.default)({ASSETURI:this.assetURI,CONTENTPLAYHEAD:(0,d.default)(this.progress)},t||{}),(0,a.default)(e,t))},e.prototype.trackEvent=function(e,t){function n(e){var t=void 0;return e&&(t=[],e.forEach(function(e){t.push(e.uri)})),t}if(e===_.default.AdImpression)this.trackURLs(this.response.impressions);else if(e===_.default.AdClickThru)this.trackURLs(this.response.clickTrackings);else if(e===_.default.AdError)this.trackURLs(this.response.errorURLMacros,{ERRORCODE:p.ERROR_CODES.DEFAULT});else{var r=p.VPAID_TO_VAST_EVENTS[e]||e;this.trackURLs(n(this.response.trackingEvents[r])),t&&(this.response.trackingEvents[e]=void 0)}},e}();t.default=A,e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=(0,a.default)(e,t),r=[];try{n.forEach(function(e){var t=new Image;t.src=e,r.push(t)})}catch(e){}return r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(60),a=r(o);e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=[];return t=t||{},t.CACHEBUSTING||(t.CACHEBUSTING=Math.round(1e10*Math.random())),e.forEach(function(e){n.push((0,a.default)(e,t))}),n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(61),a=r(o);e.exports=t.default},function(e,t){function n(e,t){return t=t||{},Object.keys(t).forEach(function(n){e=e.replace(new RegExp("\\["+n+"\\]","gm"),t[n])}),e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e/36e5;t=Math.floor(t);var n=e/6e4%60;n=Math.floor(n);var r=e/1e3%60;r=Math.floor(r);var i=e%1e3;return(0,a.default)(t,2)+":"+(0,a.default)(n,2)+":"+(0,a.default)(r,2)+"."+(0,a.default)(i,3)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(63),a=r(o);e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=e+"";if(t=(0,a.default)(t)?t:0,e=(0,a.default)(e)?e:parseInt(e,10),(0,a.default)(e)&&!isNaN(e)){for(n=e+"";n.length<t;)n="0"+n;return n}return"NaN"}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(64),a=r(o);e.exports=t.default},function(e,t){function n(e){return"number"==typeof e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t){function n(e,t,n,r){var i=document.createElement("script"),o={events:[],addEvent:function(e){s.sendEvent?(o.events&&(s.sendEvent(o.events),o.events=!1),s.sendEvent(e)):o.events.push(e)}},a=function(t){return function(){var n,r=-1;if(e&&e.getAdVolume&&(n=e.getAdVolume()),"number"==typeof n&&!isNaN(n)&&n>=0&&(r=n),o.addEvent({type:t,adVolume:r}),l.indexOf(t)!==-1&&e&&e.unsubscribe&&!u){u=!0;for(var i in d)if(d.hasOwnProperty&&d.hasOwnProperty(i))try{e.unsubscribe(d[i],i)}catch(e){}}}},s={adData:{ids:n,vpaid:e,build:"cc07a80-clean"},dispatchEvent:o.addEvent};n="_moatApi"+Math.floor(1e8*Math.random());var d={AdStarted:a("AdStarted"),AdStopped:a("AdStopped"),AdSkipped:a("AdSkipped"),AdLoaded:a("AdLoaded"),AdLinearChange:a("AdLinearChange"),AdSizeChange:a("AdSizeChange"),AdExpandedChange:a("AdExpandedChange"),AdSkippableStateChange:a("AdSkippableStateChange"),AdDurationChange:a("AdDurationChange"),AdRemainingTimeChange:a("AdRemainingTimeChange"),AdVolumeChange:a("AdVolumeChange"),AdImpression:a("AdImpression"),AdClickThru:a("AdClickThru"),AdInteraction:a("AdInteraction"),AdVideoStart:a("AdVideoStart"),AdVideoFirstQuartile:a("AdVideoFirstQuartile"),AdVideoMidpoint:a("AdVideoMidpoint"),AdVideoThirdQuartile:a("AdVideoThirdQuartile"),AdVideoComplete:a("AdVideoComplete"),AdUserAcceptInvitation:a("AdUserAcceptInvitation"),AdUserMinimize:a("AdUserMinimize"),AdUserClose:a("AdUserClose"),AdPaused:a("AdPaused"),AdPlaying:a("AdPlaying"),AdError:a("AdError")},u=!1,l=["AdStopped","AdSkipped","AdVideoComplete"];!function(){if(e&&e.subscribe)for(var t in d)d.hasOwnProperty&&d.hasOwnProperty(t)&&e.subscribe(d[t],t)}();var c,f;try{c=t.ownerDocument,f=c.defaultView||c.parentWindow}catch(e){c=document,f=window}return f[n]=s,i.type="text/javascript",t&&t.insertBefore(i,t.childNodes[0]||null),i.src="https://z.moatads.com/"+r+"/moatvideo.js#"+n,s}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=n(67),a=n(68),s=r(a),d=n(57),u=r(d),l=n(7),c=n(23),f=r(c),p=function(){function e(t,n){i(this,e),this.settings=t,this.mediaFile=n}return e.prototype.loadAdUnit=function(e,t,n){var r=this,i={data:l.VPAID_FLASH_ENDPOINT},a=function(e){return e?((0,o.disableFlash)(),n(e)):void r.vpaidFlashClient.loadAdUnit(r.mediaFile.src,n)};this.containerEl=e,this.vpaidFlashClient=new s.default(e,a,i)},e.prototype.unloadAdUnit=function(){if(this.vpaidFlashClient){try{this.vpaidFlashClient.destroy()}catch(e){f.default.log("VAST ERROR: trying to unload the VPAID adUnit")}this.vpaidFlashClient=null}this.containerEl&&((0,u.default)(this.containerEl),this.containerEl=null)},e}();p.supports=function(e){return e&&e.indexOf("shockwave-flash")>-1&&(0,o.isFlashInstalled)()},t.default=p,e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(){return!!(0,f.default)("session",(0,l.default)())[g.DISABLE_FLASH_KEY_NAME]}function o(){return a()&&!i()}function a(){return!(0,h.default)()&&A.default.isSupported()}function s(){(0,f.default)("session",(0,l.default)())[g.DISABLE_FLASH_KEY_NAME]=!0}function d(){(0,f.default)("session",(0,l.default)())[g.DISABLE_FLASH_KEY_NAME]=!1}Object.defineProperty(t,"__esModule",{value:!0}),t.isFlashDisabled=i,t.isFlashSupported=o,t.isFlashInstalled=a,t.disableFlash=s,t.enableFlash=d;var u=n(17),l=r(u),c=n(16),f=r(c),p=n(56),h=r(p),_=n(68),A=r(_),g=n(7)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){if(this._destroyed)throw new error("VPAIDFlashToJS is destroyed!")}function o(){this._loadLater&&(this.loadAdUnit(this._loadLater.url,this._loadLater.callback),delete this._loadLater)}function a(e,t){Object.defineProperty(A,e,{writable:!1,configurable:!1,value:t})}var s=n(69).JSFlashBridge,d=n(73).VPAIDAdUnit,u=n(75),l=n(70).noop,c=n(70).callbackTimeout,f=n(70).isPositiveInt,p=n(70).createElementWithID,h=n(70).unique("vpaid"),_="10.1.0",A=function(){function e(t,n){function i(e){return setTimeout(function(){n(new Error(e))},0),this}var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{data:"VPAIDFlash.swf",width:300,height:250},d=this,A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{wmode:"transparent",salign:"tl",align:"left",allowScriptAccess:"always",scale:"noScale",allowFullScreen:"true",quality:"high"},g=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{debug:!1,timeout:1e4,forceMute:!0};if(r(this,e),this._vpaidParentEl=t,this._flashID=h(),this._destroyed=!1,n=n||l,a.width=f(a.width,300),a.height=f(a.height,250),p(t,this._flashID),A.movie=a.data,A.FlashVars="flashid="+this._flashID+"&handler="+s.VPAID_FLASH_HANDLER+"&debug="+g.debug+"&salign="+A.salign+"&forceMute="+g.forceMute,!e.isSupported())return i("user don't support flash or doesn't have the minimum required version of flash "+_);if(this.el=u.createSWF(a,A,this._flashID),!this.el)return i("swfobject failed to create object in element");try{this.el.scrollIntoView=this.el.scrollIntoViewIfNeeded=function(){}}catch(e){}var v=c(g.timeout,function(e,t){o.call(d),n(e,t)},function(){n("vpaid flash load timeout "+g.timeout)});this._flash=new s(this.el,a.data,this._flashID,a.width,a.height,v)}return e.prototype.destroy=function(){this._destroyAdUnit(),this._flash&&(this._flash.destroy(),this._flash=null),this.el=null,this._destroyed=!0},e.prototype.isDestroyed=function(){return this._destroyed},e.prototype._destroyAdUnit=function(){delete this._loadLater,this._adUnitLoad&&(this._adUnitLoad=null,this._flash.removeCallback(this._adUnitLoad)),this._adUnit&&(this._adUnit._destroy(),this._adUnit=null)},e.prototype.loadAdUnit=function(e,t){var n=this;i.call(this),this._adUnit&&this._destroyAdUnit(),this._flash.isReady()?(this._adUnitLoad=function(e,r){e||(n._adUnit=new d(n._flash)),n._adUnitLoad=null,t(e,n._adUnit)},this._flash.callFlashMethod("loadAdUnit",[e],this._adUnitLoad)):this._loadLater={url:e,callback:t}},e.prototype.unloadAdUnit=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;i.call(this),this._destroyAdUnit(),this._flash.callFlashMethod("unloadAdUnit",[],e)},e.prototype.getFlashID=function(){return i.call(this),this._flash.getFlashID()},e.prototype.getFlashURL=function(){return i.call(this),this._flash.getFlashURL()},e}();a("isSupported",function(){return u.hasFlashPlayerVersion(_)}),e.exports=A},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n){var r=this;setTimeout(function(){var i=r._callbacks.get(e);i&&(r._callbacks.remove(e),i(t,n))},0)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(70).unique,a=n(70).isPositiveInt,s=n(70).stringEndsWith,d=n(71).SingleValueRegistry,u=n(71).MultipleValuesRegistry,l=n(72),c=o("vpaid_video_flash_handler")(),f="AdError",p=t.JSFlashBridge=function(){function e(t,n,i,a,s,c){r(this,e),this._el=t,this._flashID=i,this._flashURL=n,this._width=a,this._height=s,this._handlers=new u,this._callbacks=new d,this._uniqueMethodIdentifier=o(this._flashID),this._ready=!1,this._handShakeHandler=c,l.addInstance(this._flashID,this)}return e.prototype.on=function(e,t){this._handlers.add(e,t)},e.prototype.off=function(e,t){return this._handlers.remove(e,t)},e.prototype.offEvent=function(e){return this._handlers.removeByKey(e)},e.prototype.offAll=function(){return this._handlers.removeAll()},e.prototype.callFlashMethod=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r="";n&&(r=this._uniqueMethodIdentifier()+"_"+e,this._callbacks.add(r,n));try{if(this._el&&"function"!=typeof this._el[e]){var o=this.getFlashError(e);throw o}this._el[e]([r].concat(t))}catch(e){n?i.call(this,r,e):this._trigger(f,e)}},e.prototype.getFlashError=function(e){var t=this,n="flash object does not implement "+e+".",r={existingMethods:[],missingMethods:[]};["loadAdUnit","unloadAdUnit","handshakeVersion","initAd","resizeAd","startAd","stopAd","pauseAd","resumeAd","expandAd","collapseAd","skipAd","getAdLinear","getAdWidth","getAdHeight","getAdExpanded","getAdSkippableState","getAdRemainingTime","getAdDuration","getAdVolume","setAdVolume","getAdCompanions","getAdIcons"].forEach(function(e){"function"==typeof t._el[e]?r.existingMethods.push(e):r.missingMethods.push(e)}),n=n+" "+JSON.stringify(r);var i=new Error(n);return i.isFlashError=!0,i},e.prototype.removeCallback=function(e){return this._callbacks.removeByValue(e)},e.prototype.removeCallbackByMethodName=function(e){var t=this;this._callbacks.filterKeys(function(t){return s(t,e)}).forEach(function(e){t._callbacks.remove(e)})},e.prototype.removeAllCallbacks=function(){return this._callbacks.removeAll()},e.prototype._trigger=function(e,t){var n=this;this._handlers.get(e).forEach(function(r){"AdClickThru"===e?r(t):setTimeout(function(){n._handlers.get(e).length>0&&r(t)},0)})},e.prototype._callCallback=function(e,t,n,r){var o=this._callbacks.get(t);return o?void i.call(this,t,n,r):void(n&&""===t&&this.trigger(f,n))},e.prototype._handShake=function(e,t){this._ready=!0,this._handShakeHandler&&(this._handShakeHandler(e,t),delete this._handShakeHandler)},e.prototype.getSize=function(){return{width:this._width,height:this._height}},e.prototype.setSize=function(e,t){this._width=a(e,this._width),this._height=a(t,this._height),this._el.setAttribute("width",this._width),this._el.setAttribute("height",this._height)},e.prototype.getWidth=function(){return this._width},e.prototype.setWidth=function(e){this.setSize(e,this._height)},e.prototype.getHeight=function(){return this._height},e.prototype.setHeight=function(e){this.setSize(this._width,e)},e.prototype.getFlashID=function(){return this._flashID},e.prototype.getFlashURL=function(){return this._flashURL},e.prototype.isReady=function(){return this._ready},e.prototype.destroy=function(){this.offAll(),this.removeAllCallbacks(),l.removeInstanceByID(this._flashID),this._el.parentElement&&this._el.parentElement.removeChild(this._el)},e}();Object.defineProperty(p,"VPAID_FLASH_HANDLER",{writable:!1,configurable:!1,value:c}),window[c]=function(e,t,n,r,i,o){var a=l.getInstanceByID(e);a&&("handShake"===n?a._handShake(i,o):"event"!==t?a._callCallback(n,r,i,o):a._trigger(n,o))}},function(e,t){"use strict";function n(e){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(n){return e+"_"+(t()+"_"+t()+"_"+t()+"_"+t())}}function r(){}function i(e,t,n){var i=setTimeout(function(){t=r,n()},e);return function(){clearTimeout(i),t.apply(this,arguments)}}function o(e,t){var n=document.createElement("div");return n.id=t,e.innerHTML="",e.appendChild(n),n}function a(e,t){return!isNaN(parseFloat(e))&&isFinite(e)&&e>0?e:t}function s(e,t){return d.call(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.unique=n,t.noop=r,t.callbackTimeout=i,t.createElementWithID=o,t.isPositiveInt=a,t.stringEndsWith=s;var d=function(){return String.prototype.endsWith?String.prototype.endsWith:function(e,t){var n=this.toString();(void 0===t||t>n.length)&&(t=n.length),t-=e.length;var r=n.indexOf(e,t);return r!==-1&&r===t}}()},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});t.MultipleValuesRegistry=function(){function e(){n(this,e),this._registries={}}return e.prototype.add=function(e,t){this._registries[e]||(this._registries[e]=[]),this._registries[e].indexOf(t)===-1&&this._registries[e].push(t)},e.prototype.get=function(e){return this._registries[e]||[]},e.prototype.filterKeys=function(e){return Object.keys(this._registries).filter(e)},e.prototype.findByValue=function(e){var t=this,n=Object.keys(this._registries).filter(function(n){return t._registries[n].indexOf(e)!==-1});return n},e.prototype.remove=function(e,t){if(this._registries[e]){if("undefined"==typeof t)return void(this._registries[e]=[]);var n=this._registries[e].indexOf(t);if(!(n<0))return this._registries[e].splice(n,1)}},e.prototype.removeByKey=function(e){var t=this._registries[e];return delete this._registries[e],t},e.prototype.removeByValue=function(e){var t=this,n=this.findByValue(e);return n.map(function(n){return t.remove(n,e)})},e.prototype.removeAll=function(){var e=this._registries;return this._registries={},e},e.prototype.size=function(){return Object.keys(this._registries).length},e}(),t.SingleValueRegistry=function(){function e(){n(this,e),this._registries={}}return e.prototype.add=function(e,t){this._registries[e]=t},e.prototype.get=function(e){return this._registries[e]},e.prototype.filterKeys=function(e){return Object.keys(this._registries).filter(e)},e.prototype.findByValue=function(e){var t=this,n=Object.keys(this._registries).filter(function(n){return t._registries[n]===e});return n},e.prototype.remove=function(e){var t=this._registries[e];return delete this._registries[e],t},e.prototype.removeByValue=function(e){var t=this,n=this.findByValue(e);return n.map(function(e){return t.remove(e)})},e.prototype.removeAll=function(){var e=this._registries;return this._registries={},e},e.prototype.size=function(){return Object.keys(this._registries).length},e}()},function(e,t,n){"use strict";var r=n(71).SingleValueRegistry,i=new r,o={};Object.defineProperty(o,"addInstance",{writable:!1,configurable:!1,value:function(e,t){i.add(e,t)}}),Object.defineProperty(o,"getInstanceByID",{writable:!1,configurable:!1,value:function(e){return i.get(e)}}),Object.defineProperty(o,"removeInstanceByID",{writable:!1,configurable:!1,value:function(e){return i.remove(e)}}),e.exports=o},function(e,t,n){(function(e){"use strict";function r(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}return e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):r(e,t))}Object.defineProperty(t,"__esModule",{value:!0});var s=n(5),d=n(74).IVPAIDAdUnit,u=Object.getOwnPropertyNames(d.prototype).filter(function(e){return["constructor"].indexOf(e)===-1});t.VPAIDAdUnit=function(t){function n(e){i(this,n);var r=o(this,t.call(this));return r._destroyed=!1,r._flash=e,r}return a(n,t),n.prototype._destroy=function(){var e=this;this._destroyed=!0,u.forEach(function(t){e._flash.removeCallbackByMethodName(t)}),d.EVENTS.forEach(function(t){e._flash.offEvent(t)}),this._flash=null},n.prototype.isDestroyed=function(){return this._destroyed},n.prototype.on=function(e,t){this._flash&&this._flash.on(e,t)},n.prototype.off=function(e,t){this._flash&&this._flash.off(e,t)},n.prototype.handshakeVersion=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"2.0",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;this._flash&&this._flash.callFlashMethod("handshakeVersion",[e],t)},n.prototype.initAd=function(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{AdParameters:""},a=arguments[5],d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:void 0;if(this._flash){this._flash.setSize(t,n),o=o||{AdParameters:""};var u={};e.env.PLAYER_SDK&&(u.playerSDK=e.env.PLAYER_SDK),e.env.SDK_VERSION&&(u.versionSDK=e.env.SDK_VERSION),a=s(u,a||{}),this._flash.callFlashMethod("initAd",[this._flash.getWidth(),this._flash.getHeight(),r,i,o.AdParameters||"",JSON.stringify(a)],d)}},n.prototype.resizeAd=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this._flash&&(this._flash.setSize(e,t),this._flash.callFlashMethod("resizeAd",[this._flash.getWidth(),this._flash.getHeight(),n],r))},n.prototype.startAd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this._flash&&this._flash.callFlashMethod("startAd",[],e)},n.prototype.stopAd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this._flash&&this._flash.callFlashMethod("stopAd",[],e)},n.prototype.pauseAd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this._flash&&this._flash.callFlashMethod("pauseAd",[],e)},n.prototype.resumeAd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this._flash&&this._flash.callFlashMethod("resumeAd",[],e)},n.prototype.expandAd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this._flash&&this._flash.callFlashMethod("expandAd",[],e)},n.prototype.collapseAd=function(){
var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this._flash&&this._flash.callFlashMethod("collapseAd",[],e)},n.prototype.skipAd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this._flash&&this._flash.callFlashMethod("skipAd",[],e)},n.prototype.getAdLinear=function(e){this._flash&&this._flash.callFlashMethod("getAdLinear",[],e)},n.prototype.getAdWidth=function(e){this._flash&&this._flash.callFlashMethod("getAdWidth",[],e)},n.prototype.getAdHeight=function(e){this._flash&&this._flash.callFlashMethod("getAdHeight",[],e)},n.prototype.getAdExpanded=function(e){this._flash&&this._flash.callFlashMethod("getAdExpanded",[],e)},n.prototype.getAdSkippableState=function(e){this._flash&&this._flash.callFlashMethod("getAdSkippableState",[],e)},n.prototype.getAdRemainingTime=function(e){this._flash&&this._flash.callFlashMethod("getAdRemainingTime",[],e)},n.prototype.getAdDuration=function(e){this._flash&&this._flash.callFlashMethod("getAdDuration",[],e)},n.prototype.setAdVolume=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;this._flash&&this._flash.callFlashMethod("setAdVolume",[e],t)},n.prototype.getAdVolume=function(e){this._flash&&this._flash.callFlashMethod("getAdVolume",[],e)},n.prototype.getAdCompanions=function(e){this._flash&&this._flash.callFlashMethod("getAdCompanions",[],e)},n.prototype.getAdIcons=function(e){this._flash&&this._flash.callFlashMethod("getAdIcons",[],e)},n}(d)}).call(t,n(10))},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=t.IVPAIDAdUnit=function(){function e(){n(this,e)}return e.prototype.handshakeVersion=function(){arguments.length>0&&void 0!==arguments[0]?arguments[0]:"2.0",arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0},e.prototype.initAd=function(e,t,n,r){arguments.length>4&&void 0!==arguments[4]?arguments[4]:{AdParameters:""},arguments.length>5&&void 0!==arguments[5]?arguments[5]:{flashVars:""},arguments.length>6&&void 0!==arguments[6]?arguments[6]:void 0},e.prototype.resizeAd=function(e,t,n){arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0},e.prototype.startAd=function(){arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0},e.prototype.stopAd=function(){arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0},e.prototype.pauseAd=function(){arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0},e.prototype.resumeAd=function(){arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0},e.prototype.expandAd=function(){arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0},e.prototype.collapseAd=function(){arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0},e.prototype.skipAd=function(){arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0},e.prototype.getAdLinear=function(e){},e.prototype.getAdWidth=function(e){},e.prototype.getAdHeight=function(e){},e.prototype.getAdExpanded=function(e){},e.prototype.getAdSkippableState=function(e){},e.prototype.getAdRemainingTime=function(e){},e.prototype.getAdDuration=function(e){},e.prototype.setAdVolume=function(e){arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0},e.prototype.getAdVolume=function(e){},e.prototype.getAdCompanions=function(e){},e.prototype.getAdIcons=function(e){},e}();Object.defineProperty(r,"EVENTS",{writable:!1,configurable:!1,value:["AdLoaded","AdStarted","AdStopped","AdSkipped","AdSkippableStateChange","AdSizeChange","AdLinearChange","AdDurationChange","AdExpandedChange","AdRemainingTimeChange","AdVolumeChange","AdImpression","AdVideoStart","AdVideoFirstQuartile","AdVideoMidpoint","AdVideoThirdQuartile","AdVideoComplete","AdClickThru","AdInteraction","AdUserAcceptInvitation","AdUserMinimize","AdUserClose","AdPaused","AdPlaying","AdLog","AdError"]})},function(e,t){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(){if(!q&&document.getElementsByTagName("body")[0]){try{var e,t=E("span");t.style.display="none",e=j.getElementsByTagName("body")[0].appendChild(t),e.parentNode.removeChild(e),e=null,t=null}catch(e){return}q=!0;for(var n=Y.length,r=0;r<n;r++)Y[r]()}}function t(e){q?e():Y[Y.length]=e}function i(e){if(n(F.addEventListener)!=L)F.addEventListener("load",e,!1);else if(n(j.addEventListener)!=L)j.addEventListener("load",e,!1);else if(n(F.attachEvent)!=L)y(F,"onload",e);else if("function"==typeof F.onload){var t=F.onload;F.onload=function(){t(),e()}}else F.onload=e}function o(){var e=j.getElementsByTagName("body")[0],t=E(N);t.setAttribute("style","visibility: hidden;"),t.setAttribute("type",k);var r=e.appendChild(t);if(r){var i=0;!function o(){if(n(r.GetVariable)!=L)try{var s=r.GetVariable("$version");s&&(s=s.split(" ")[1].split(","),J.pv=[m(s[0]),m(s[1]),m(s[2])])}catch(e){J.pv=[8,0,0]}else if(i<10)return i++,void setTimeout(o,10);e.removeChild(t),r=null,a()}()}else a()}function a(){var e=B.length;if(e>0)for(var t=0;t<e;t++){var r=B[t].id,i=B[t].callbackFn,o={success:!1,id:r};if(J.pv[0]>0){var a=v(r);if(a)if(!S(B[t].swfVersion)||J.wk&&J.wk<312)if(B[t].expressInstall&&d()){var c={};c.data=B[t].expressInstall,c.width=a.getAttribute("width")||"0",c.height=a.getAttribute("height")||"0",a.getAttribute("class")&&(c.styleclass=a.getAttribute("class")),a.getAttribute("align")&&(c.align=a.getAttribute("align"));for(var f={},p=a.getElementsByTagName("param"),h=p.length,_=0;_<h;_++)"movie"!=p[_].getAttribute("name").toLowerCase()&&(f[p[_].getAttribute("name")]=p[_].getAttribute("value"));u(c,f,r,i)}else l(a),i&&i(o);else R(r,!0),i&&(o.success=!0,o.ref=s(r),o.id=r,i(o))}else if(R(r,!0),i){var A=s(r);A&&n(A.SetVariable)!=L&&(o.success=!0,o.ref=A,o.id=A.id),i(o)}}}function s(e){var t=null,r=v(e);return r&&"OBJECT"===r.nodeName.toUpperCase()&&(t=n(r.SetVariable)!==L?r:r.getElementsByTagName(N)[0]||r),t}function d(){return!Q&&S("6.0.65")&&(J.win||J.mac)&&!(J.wk&&J.wk<312)}function u(e,t,r,i){var o=v(r);if(r=g(r),Q=!0,O=i||null,P={success:!1,id:r},o){"OBJECT"==o.nodeName.toUpperCase()?(b=c(o),w=null):(b=o,w=r),e.id=U,(n(e.width)==L||!/%$/.test(e.width)&&m(e.width)<310)&&(e.width="310"),(n(e.height)==L||!/%$/.test(e.height)&&m(e.height)<137)&&(e.height="137");var a=J.ie?"ActiveX":"PlugIn",s="MMredirectURL="+encodeURIComponent(F.location.toString().replace(/&/g,"%26"))+"&MMplayerType="+a+"&MMdoctitle="+encodeURIComponent(j.title.slice(0,47)+" - Flash Player Installation");if(n(t.flashvars)!=L?t.flashvars+="&"+s:t.flashvars=s,J.ie&&4!=o.readyState){var d=E("div");r+="SWFObjectNew",d.setAttribute("id",r),o.parentNode.insertBefore(d,o),o.style.display="none",_(o)}p(e,t,r)}}function l(e){if(J.ie&&4!=e.readyState){e.style.display="none";var t=E("div");e.parentNode.insertBefore(t,e),t.parentNode.replaceChild(c(e),t),_(e)}else e.parentNode.replaceChild(c(e),e)}function c(e){var t=E("div");if(J.win&&J.ie)t.innerHTML=e.innerHTML;else{var n=e.getElementsByTagName(N)[0];if(n){var r=n.childNodes;if(r)for(var i=r.length,o=0;o<i;o++)1==r[o].nodeType&&"PARAM"==r[o].nodeName||8==r[o].nodeType||t.appendChild(r[o].cloneNode(!0))}}return t}function f(e,t){var n=E("div");return n.innerHTML="<object classid='clsid:D27CDB6E-AE6D-11cf-96B8-444553540000'><param name='movie' value='"+e+"'>"+t+"</object>",n.firstChild}function p(e,t,r){var i,o=v(r);if(r=g(r),J.wk&&J.wk<312)return i;if(o){var a,s,d,u=E(J.ie?"div":N);n(e.id)==L&&(e.id=r);for(d in t)t.hasOwnProperty(d)&&"movie"!==d.toLowerCase()&&h(u,d,t[d]);J.ie&&(u=f(e.data,u.innerHTML));for(a in e)e.hasOwnProperty(a)&&(s=a.toLowerCase(),"styleclass"===s?u.setAttribute("class",e[a]):"classid"!==s&&"data"!==s&&u.setAttribute(a,e[a]));J.ie?G[G.length]=e.id:(u.setAttribute("type",k),u.setAttribute("data",e.data)),o.parentNode.replaceChild(u,o),i=u}return i}function h(e,t,n){var r=E("param");r.setAttribute("name",t),r.setAttribute("value",n),e.appendChild(r)}function _(e){var t=v(e);t&&"OBJECT"==t.nodeName.toUpperCase()&&(J.ie?(t.style.display="none",function e(){if(4==t.readyState){for(var n in t)"function"==typeof t[n]&&(t[n]=null);t.parentNode.removeChild(t)}else setTimeout(e,10)}()):t.parentNode.removeChild(t))}function A(e){return e&&e.nodeType&&1===e.nodeType}function g(e){return A(e)?e.id:e}function v(e){if(A(e))return e;var t=null;try{t=j.getElementById(e)}catch(e){}return t}function E(e){return j.createElement(e)}function m(e){return parseInt(e,10)}function y(e,t,n){e.attachEvent(t,n),z[z.length]=[e,t,n]}function S(e){e+="";var t=J.pv,n=e.split(".");return n[0]=m(n[0]),n[1]=m(n[1])||0,n[2]=m(n[2])||0,t[0]>n[0]||t[0]==n[0]&&t[1]>n[1]||t[0]==n[0]&&t[1]==n[1]&&t[2]>=n[2]}function T(e,t,r,i){var o=j.getElementsByTagName("head")[0];if(o){var a="string"==typeof r?r:"screen";if(i&&(C=null,D=null),!C||D!=a){var s=E("style");s.setAttribute("type","text/css"),s.setAttribute("media",a),C=o.appendChild(s),J.ie&&n(j.styleSheets)!=L&&j.styleSheets.length>0&&(C=j.styleSheets[j.styleSheets.length-1]),D=a}C&&(n(C.addRule)!=L?C.addRule(e,t):n(j.createTextNode)!=L&&C.appendChild(j.createTextNode(e+" {"+t+"}")))}}function R(e,t){if(X){var n=t?"visible":"hidden",r=v(e);q&&r?r.style.visibility=n:"string"==typeof e&&T("#"+e,"visibility:"+n)}}function I(e){var t=/[\\\"<>\.;]/,r=null!=t.exec(e);return r&&("undefined"==typeof encodeURIComponent?"undefined":n(encodeURIComponent))!=L?encodeURIComponent(e):e}var b,w,O,P,C,D,L="undefined",N="object",M="Shockwave Flash",V="ShockwaveFlash.ShockwaveFlash",k="application/x-shockwave-flash",U="SWFObjectExprInst",x="onreadystatechange",F=window,j=document,H=navigator,W=!1,Y=[],B=[],G=[],z=[],q=!1,Q=!1,X=!0,Z=!1,J=function(){var e=n(j.getElementById)!=L&&n(j.getElementsByTagName)!=L&&n(j.createElement)!=L,t=H.userAgent.toLowerCase(),r=H.platform.toLowerCase(),i=r?/win/.test(r):/win/.test(t),o=r?/mac/.test(r):/mac/.test(t),a=!!/webkit/.test(t)&&parseFloat(t.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")),s="Microsoft Internet Explorer"===H.appName,d=[0,0,0],u=null;if(n(H.plugins)!=L&&n(H.plugins[M])==N)u=H.plugins[M].description,u&&n(H.mimeTypes)!=L&&H.mimeTypes[k]&&H.mimeTypes[k].enabledPlugin&&(W=!0,s=!1,u=u.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),d[0]=m(u.replace(/^(.*)\..*$/,"$1")),d[1]=m(u.replace(/^.*\.(.*)\s.*$/,"$1")),d[2]=/[a-zA-Z]/.test(u)?m(u.replace(/^.*[a-zA-Z]+(.*)$/,"$1")):0);else if(n(F.ActiveXObject)!=L)try{var l=new ActiveXObject(V);l&&(u=l.GetVariable("$version"),u&&(s=!0,u=u.split(" ")[1].split(","),d=[m(u[0]),m(u[1]),m(u[2])]))}catch(e){}return{w3:e,pv:d,wk:a,ie:s,win:i,mac:o}}();(function(){J.w3&&((n(j.readyState)!=L&&("complete"===j.readyState||"interactive"===j.readyState)||n(j.readyState)==L&&(j.getElementsByTagName("body")[0]||j.body))&&e(),q||(n(j.addEventListener)!=L&&j.addEventListener("DOMContentLoaded",e,!1),J.ie&&(j.attachEvent(x,function t(){"complete"==j.readyState&&(j.detachEvent(x,t),e())}),F==top&&!function t(){if(!q){try{j.documentElement.doScroll("left")}catch(e){return void setTimeout(t,0)}e()}}()),J.wk&&!function t(){if(!q)return/loaded|complete/.test(j.readyState)?void e():void setTimeout(t,0)}()))})();Y[0]=function(){W?o():a()};(function(){J.ie&&window.attachEvent("onunload",function(){for(var e=z.length,t=0;t<e;t++)z[t][0].detachEvent(z[t][1],z[t][2]);for(var n=G.length,i=0;i<n;i++)_(G[i]);for(var o in J)J[o]=null;J=null;for(var a in r)r[a]=null;r=null})})();return{registerObject:function(e,t,n,r){if(J.w3&&e&&t){var i={};i.id=e,i.swfVersion=t,i.expressInstall=n,i.callbackFn=r,B[B.length]=i,R(e,!1)}else r&&r({success:!1,id:e})},getObjectById:function(e){if(J.w3)return s(e)},embedSWF:function(e,r,i,o,a,s,l,c,f,h){var _=g(r),A={success:!1,id:_};J.w3&&!(J.wk&&J.wk<312)&&e&&r&&i&&o&&a?(R(_,!1),t(function(){i+="",o+="";var t={};if(f&&("undefined"==typeof f?"undefined":n(f))===N)for(var g in f)t[g]=f[g];t.data=e,t.width=i,t.height=o;var v={};if(c&&("undefined"==typeof c?"undefined":n(c))===N)for(var E in c)v[E]=c[E];if(l&&("undefined"==typeof l?"undefined":n(l))===N)for(var m in l)if(l.hasOwnProperty(m)){var y=Z?encodeURIComponent(m):m,T=Z?encodeURIComponent(l[m]):l[m];n(v.flashvars)!=L?v.flashvars+="&"+y+"="+T:v.flashvars=y+"="+T}if(S(a)){var I=p(t,v,r);t.id==_&&R(_,!0),A.success=!0,A.ref=I,A.id=I.id}else{if(s&&d())return t.data=s,void u(t,v,r,h);R(_,!0)}h&&h(A)})):h&&h(A)},switchOffAutoHideShow:function(){X=!1},enableUriEncoding:function(e){Z=("undefined"==typeof e?"undefined":n(e))===L||e},ua:J,getFlashPlayerVersion:function(){return{major:J.pv[0],minor:J.pv[1],release:J.pv[2]}},hasFlashPlayerVersion:S,createSWF:function(e,t,n){return J.w3?p(e,t,n):void 0},showExpressInstall:function(e,t,n,r){J.w3&&d()&&u(e,t,n,r)},removeSWF:function(e){J.w3&&_(e)},createCSS:function(e,t,n,r){J.w3&&T(e,t,n,r)},addDomLoadEvent:t,addLoadEvent:i,getQueryParamValue:function(e){var t=j.location.search||j.location.hash;if(t){if(/\?/.test(t)&&(t=t.split("?")[1]),null==e)return I(t);for(var n=t.split("&"),r=0;r<n.length;r++)if(n[r].substring(0,n[r].indexOf("="))==e)return I(n[r].substring(n[r].indexOf("=")+1))}return""},expressInstallCallback:function(){if(Q){var e=v(U);e&&b&&(e.parentNode.replaceChild(b,e),w&&(R(w,!0),J.ie&&(b.style.display="block")),O&&O(P)),Q=!1}},version:"2.3"}}();e.exports=r},function(e,t,n){(function(r){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):o(e,t))}Object.defineProperty(t,"__esModule",{value:!0});var u=n(4),l=i(u),c=n(35),f=i(c),p=n(77),h=i(p),_=n(44),A=i(_),g=n(36),v=i(g),E=n(17),m=i(E),y=n(62),S=i(y),T=n(78),R=i(T),I=n(23),b=i(I),w=n(7),O=n(6),P=i(O),C=n(8),D=i(C),L=n(80),N=n(56),M=i(N),V=n(57),k=i(V),U=function(e){function t(n,r){a(this,t);var i=s(this,e.call(this));i.adSource=n,i.settings=r,i.slot=r.environmentVars?r.environmentVars.slot:void 0,i.videoSlot=r.environmentVars?r.environmentVars.videoSlot:void 0;return i.updateBlockerInterval=void 0,i.skipStateIterval=void 0,i.skipState=!1,i.adExpanded=!1,i.remainingTime=-2,i.hadImpression=!1,b.default.log("VASTIntegrator initialized"),i}return d(t,e),t.prototype.createInlineVideoWrapper=function(){var e=document.createElement("div"),t=document.createElement(((0,M.default)(),"video"));t.height=this.settings.height,t.width=this.settings.width,this.settings.muted&&t.setAttribute("muted","muted");var n=document.createElement("style");return n.innerHTML=r.env.SR_VIDEO_CSS,e.appendChild(n),e.appendChild(t),{wrapper:e,video:t}},t.prototype.removeInlineVideoWrapper=function(){this.inlineVideoWrapper&&((0,k.default)(this.videoSlot),(0,k.default)(this.inlineVideoWrapper),this.videoSlot=this.inlineVideoWrapper=null)},t.prototype.playAd=function(e){var t=this;if(!this._canPlayVAST()){var n=new f.default("missing slot or videoSlot",w.ERROR_CODES.MISSING_SLOT_OR_VIDEO_SLOT);return void this.emit(D.default.AdError,n)}(0,v.default)([function(e){e(null,t.adSource.vastResponse)},this._selectAdSource.bind(this),this._createVASTTracker.bind(this),this._addClickThrough.bind(this),this._addSkipButton.bind(this),this._setupEvents.bind(this),this._playSelectedAd.bind(this)],function(t,n){e(t,n)})},t.prototype._canPlayVAST=function(){return this.slot&&this.videoSlot},t.prototype._selectAdSource=function(e,t){var r=this,i=this.settings.width,o="",a=!1;e.mediaFiles.sort(function(e,t){var n=Math.abs(i-e.width),r=Math.abs(i-t.width);return n-r});for(var s=0;s<e.mediaFiles.length;s++){var d=e.mediaFiles[s];if(""!==this.videoSlot.canPlayType(d.type)){o=d;break}}if(!o&&n(67).isFlashSupported())for(var u=0;u<e.mediaFiles.length;u++){var l=e.mediaFiles[u];if(P.default.canPlayWithFlash(l)){o=l,a=!0;break}}if(o){var c=function n(i){clearTimeout(_),p.removeEventListener("loadedmetadata",n);var a=p.duration;if(b.default.log("VASTIntegrator video onLoadedMetadata timeout = "+(void 0!==i)+", duration = "+a),"number"==typeof p.duration&&!isNaN(a)&&a!==1/0){var s=Math.floor(a);e.duration=1e3*s}p=null,t(null,o,e),r.emit(D.default.AdDurationChange),r.emit(D.default.AdLoaded)},p=void 0;if(a){var h=n(81);this.videoSlot=new h({width:this.settings.width,height:this.settings.height,slot:this.slot,src:o.src}),p=this.videoSlot,p.addEventListener("loadedmetadata",c)}else p=document.createElement("video"),p.setAttribute("preload","metadata"),p.addEventListener("loadedmetadata",c),p.setAttribute("src",o.src);var _=setTimeout(function(){c()},5e3)}else{var A=new f.default("Could not find Ad Media File supported by this player",w.ERROR_CODES.SUPPORTED_MEDIA_FILE_NOT_FOUND);t(A,e),this.emit(D.default.AdError,A)}},t.prototype._createVASTTracker=function(e,t,n){try{this.tracker=new R.default(e.src,t),n(null,e,this.tracker,t)}catch(e){n(e,t)}},t.prototype._addClickThrough=function(e,t,n,r){function i(e,t,n){var r=s&&s.settings&&s.settings.queryParams&&"mobile_app"===s.settings.queryParams.env,i=window.document.createElement(r?"div":"a"),o=n.clickThrough;return i.style.display="block",i.style.position="absolute",i.style.margin=0,i.style.padding=0,i.style.height="100%",i.style.width="100%",i.style.top=0,i.style.left=0,i.style.right=0,i.style.bottom=0,i.href=a(o,e),(0,A.default)(o)&&(i.target="_blank"),i.onclick=function(n){return e.paused&&!e.forceNotPaused?(s.resumeAd(),void 0!==window.Event.prototype.stopPropagation&&n.stopPropagation(),!1):(r&&(0,m.default)().open(i.href,"_blank"),s.pauseAd(),t.trackEvent(D.default.AdClickThru),void s.emit(D.default.AdClickThru))},i}function o(e,t,n){e.href=a(t.clickThrough,n)}function a(t,n){var r={ASSETURI:e.src,CONTENTPLAYHEAD:(0,S.default)(1e3*n.currentTime)};return t?(0,h.default)(t,r):"#"}var s=this,d=this.videoSlot,u=this.slot,l=i(d,t,n),c=o.bind(this,l,n,d);u.appendChild(l),this.updateBlockerInterval=setInterval(function(){c()},250),r(null,e,t,n)},t.prototype._addSkipButton=function(e,t,n,r){var i=this;n.skipoffset&&(this.skipStateIterval=setInterval(function(){var e=1e3*i.videoSlot.currentTime;e>=n.skipoffset&&(clearInterval(i.skipStateIterval),i.skipStateIterval=void 0,i.skipState=!0,t.trackEvent(D.default.AdSkippableStateChange),i.emit(D.default.AdSkippableStateChange))},250)),r(null,e,t,n)},t.prototype._setupEvents=function(e,t,n,r){function i(){f.removeEventListener("resize",o),f.removeEventListener("play",a),f.removeEventListener("playing",a),f.removeEventListener("pause",s),f.removeEventListener("timeupdate",u),f.removeEventListener("volumechange",l),f.removeEventListener("ended",c),f.removeEventListener("play",d)}function o(){}function a(){this.hadImpression||(this.hadImpression=!0,f.removeEventListener("play",a),f.removeEventListener("playing",a),t.trackEvent(D.default.AdImpression,!0),t.trackEvent(D.default.creativeView,!0),p.emit(D.default.AdImpression))}function s(){f.addEventListener("playing",d),t.trackEvent(D.default.AdPaused),p.emit(D.default.AdPaused)}function d(){f.removeEventListener("playing",d),t.trackEvent(D.default.AdPlaying),p.emit(D.default.AdPlaying)}function u(){p.currentTime=1e3*f.currentTime;var e=t.trackTimeUpdate(p.currentTime);e&&p.emit(e)}function l(){f.volume?t.trackEvent(D.default.AdUnMute):t.trackEvent(D.default.AdMute),p.emit(D.default.AdVolumeChange)}function c(){t.trackEvent(D.default.AdStopped),p.emit(D.default.AdStopped),i()}var f=this.videoSlot,p=this;f.addEventListener("resize",o),f.addEventListener("play",a),f.addEventListener("playing",a),f.addEventListener("pause",s),f.addEventListener("timeupdate",u),f.addEventListener("volumechange",l),f.addEventListener("ended",c),f.addEventListener(L.ERROR,c),r(null,e.src,n)},t.prototype._playSelectedAd=function(e){var t=this.videoSlot;this.emit(D.default.AdStarted),t.setAttribute("src",e),t.load(),t.play(),this._trackRemainingTime()},t.prototype._trackRemainingTime=function(){var e=this;this.adSource&&this.adSource.vastResponse&&(this.remainingTimeInterval=setInterval(function(){e.remainingTime=(e.adSource.vastResponse.duration-e.currentTime)/1e3,e.emit(D.default.AdRemainingTimeChange)},250))},t.prototype.destroy=function(){b.default.log("VASTIntegrator destroy called"),this.removeInlineVideoWrapper(),clearInterval(this.updateBlockerInterval),clearInterval(this.skipStateIterval),clearInterval(this.remainingTimeInterval)},t.prototype.stopAd=function(){b.default.log("VASTIntegrator stopAd called");try{this.videoSlot.dispatchEvent(new Event("ended"))}catch(e){}},t.prototype.resizeAd=function(){this.emit(D.default.AdSizeChange)},t.prototype.pauseAd=function(){this.videoSlot.pause(),clearInterval(this.remainingTimeInterval)},t.prototype.resumeAd=function(){this.videoSlot.play(),this._trackRemainingTime()},t.prototype.expandAd=function(){this.adExpanded=!0},t.prototype.collapseAd=function(){this.adExpanded=!1},t.prototype.skipAd=function(){b.default.log("VASTIntegrator skipAd called"),this.pauseAd(),this.tracker.trackEvent(D.default.AdSkipped),this.emit(D.default.AdSkipped)},t.prototype.getAdLinear=function(e){e(null,!0)},t.prototype.getAdWidth=function(e){e(null,this.videoSlot.clientWidth)},t.prototype.getAdHeight=function(e){e(null,this.videoSlot.clientHeight)},t.prototype.getAdExpanded=function(e){e(null,this.adExpanded)},t.prototype.getAdSkippableState=function(e){e(null,this.skipState)},t.prototype.getAdRemainingTime=function(e){e(null,this.remainingTime)},t.prototype.getAdDuration=function(e){e(null,this.adSource.vastResponse.duration)},t.prototype.getAdVolume=function(e){e(null,this.videoSlot.volume)},t.prototype.getAdCompanions=function(e){e(null,"")},t.prototype.getAdIcons=function(e){e(null,!1)},t.prototype.setAdVolume=function(e){this.videoSlot.volume=e},t}(l.default);t.default=U,e.exports=t.default}).call(t,n(10))},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=t||{},t.CACHEBUSTING||(t.CACHEBUSTING=Math.round(1e10*Math.random())),(0,a.default)(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(61),a=r(o);e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=n(59),a=r(o),s=n(62),d=r(s),u=n(5),l=r(u),c=n(35),f=r(c),p=n(7),h=n(8),_=r(h),A=n(44),g=r(A),v=n(37),E=r(v),m=n(79),y=r(m),S=function(){function e(t,n){function r(e,t){if(!(0,g.default)(e)||(0,y.default)(e))throw new f.default("on VASTTracker constructor, missing required the URI of the ad asset being played");if(!t||"[object VASTResponse]"!==t.toString())throw new f.default("on VASTTracker constructor, missing required VAST response")}i(this,e),r(t,n),this.assetURI=t,this.response=n,this.requestUrl=n.requestUrl,this.progress=0,this.quartiles={start:{tracked:!1,time:function(){return 1}},firstQuartile:{tracked:!1,time:function(){return Math.round(25*n.duration)/100}},midpoint:{tracked:!1,time:function(){return Math.round(50*n.duration)/100}},thirdQuartile:{tracked:!1,time:function(){return Math.round(75*n.duration)/100}},complete:{tracked:!1,time:function(){return n.duration}}}}return e.prototype.trackURLs=function(e,t){(0,E.default)(e)&&e.length>0&&(t=(0,l.default)({ASSETURI:this.assetURI,CONTENTPLAYHEAD:(0,d.default)(this.progress)},t||{}),(0,a.default)(e,t))},e.prototype.trackEvent=function(e){if(e===_.default.AdImpression)this.trackURLs(this.response.impressions);else if(e===_.default.AdClickThru)this.trackURLs(this.response.clickTrackings);else{var t=function(e){var t=void 0;return e&&(t=[],e.forEach(function(e){t.push(e.uri)})),t},n=p.VPAID_TO_VAST_EVENTS[e]||e;this.trackURLs(t(this.response.trackingEvents[n]))}},e.prototype.trackTimeUpdate=function(e){function t(e){a[e]&&s.push({name:e,trackOnce:!0})}function n(e){function n(e,n){var o=i[e];return!!r(o,n)&&(o.tracked=!0,t(e),!0)}var i=this.quartiles,o=i.start,a=i.firstQuartile,s=i.midpoint,u=i.thirdQuartile,l=i.complete,c=!1;o.tracked?a.tracked?s.tracked?u.tracked?l.tracked||(c=n("complete",e),d=c?_.default.AdVideoComplete:void 0):(c=n("thirdQuartile",e),d=c?_.default.AdVideoThirdQuartile:void 0):(c=n("midpoint",e),d=c?_.default.AdVideoMidpoint:void 0):(c=n("firstQuartile",e),d=c?_.default.AdVideoFirstQuartile:void 0):(c=n("start",e),d=c?_.default.AdVideoStart:void 0)}function r(e,t){var n=e.time();return t>=n&&t<=n+5e3}function i(){s.forEach(function(e){this.trackEvent(e.name,e.trackOnce)},this)}function o(e){if((0,E.default)(a.progress)){var t=[],n=this;a.progress.forEach(function(r){r.offset<=e?n.trackURLs([r.uri]):t.push(r)}),a.progress=t}}var a=this.response.trackingEvents,s=[],d=void 0;return n.call(this,e),o.call(this,e),i.call(this),this.progress=e,d},e}();t.default=S,e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return(0,a.default)(e)&&0===e.length}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(44),a=r(o);e.exports=t.default},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.LOADSTART="loadstart",t.PROGRESS="progress",t.SUSPEND="suspend",t.ABORT="abort",t.ERROR="error",t.EMPTIED="emptied",t.STALLED="stalled",t.LOADEDMETADATA="loadedmetadata",t.LOADEDDATA="loadeddata",t.CANPLAY="canplay",t.CANPLAYTHROUGH="canplaythrough",t.PLAYING="playing",t.WAITING="waiting",t.SEEKING="seeking",t.SEEKED="seeked",t.ENDED="ended",t.DURATIONCHANGE="durationchange",t.TIMEUPDATE="timeupdate",t.PLAY="play",t.PAUSE="pause",t.RATECHANGE="ratechange",t.RESIZE="resize",t.VOLUMECHANGE="volumechange",t.FULLSCREENCHANGE="fullscreenchange"},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}return e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):i(e,t))}Object.defineProperty(t,"__esModule",{value:!0});var d=n(4),u=r(d),l=n(82),c=r(l),f=n(23),p=r(f),h=n(7),_=function(e){function t(n){o(this,t);var r=a(this,e.call(this));return r.uid=(new Date).getTime(),r.id="videoPlayer"+r.uid,r.settings=n,r._defineProperties(),r._createPlayer(),p.default.log("FlashPlayer created"),r}return s(t,e),t.prototype._createPlayer=function(){var e=this,t=document.createElement("div");this.settings.slot.appendChild(t);var n={readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",src:this.settings.src,autoplay:!1,preload:"auto",muted:!0},r={allowScriptAccess:"always",bgcolor:"#000000"},i={id:this.id,name:this.id,width:"1px",height:"1px"};window.videojs={Flash:{onReady:function(){e.el=document.getElementById(e.id)},onEvent:function(t,n){"ended"===n&&(clearInterval(e.progressInterval),e.emit("timeupdate")),e.emit(n)},onError:function(){}}},t.innerHTML=this._embedSWF(h.FLASH_PLAYER_ENDPOINT,n,r,i)},t.prototype._embedSWF=function(e,t,n,r){var i='<object type="application/x-shockwave-flash" ',o="",a="",s="";return t&&Object.getOwnPropertyNames(t).forEach(function(e){o+=e+"="+t[e]+"&amp;"}),n=(0,c.default)({movie:e,flashvars:o,allowScriptAccess:"always",allowNetworking:"all"},n),Object.getOwnPropertyNames(n).forEach(function(e){a+='<param name="'+e+'" value="'+n[e]+'" />'}),r.data=e,Object.getOwnPropertyNames(r).forEach(function(e){s+=e+'="'+r[e]+'" '}),""+i+s+">"+a+"</object>"},t.prototype._defineProperties=function(){var e=this;Object.defineProperty(this,"volume",{get:function(){return e.getProperty("volume",0)},set:function(t){e.el&&e.el.vjs_setProperty&&e.el.vjs_setProperty("volume",t)}}),Object.defineProperty(this,"paused",{get:function(){return e.getProperty("paused",!0)}}),Object.defineProperty(this,"duration",{get:function(){return e.getProperty("duration",-1)}}),Object.defineProperty(this,"currentTime",{get:function(){return e.getProperty("currentTime",0)}}),Object.defineProperty(this,"clientWidth",{get:function(){return e.getProperty("videoWidth",e.settings.width)}}),Object.defineProperty(this,"clientHeight",{get:function(){return e.getProperty("videoHeight",e.settings.height)}})},t.prototype.getProperty=function(e,t){return this.el&&this.el.vjs_getProperty?this.el.vjs_getProperty(e):t},t.prototype.addEventListener=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.on.apply(this,t)},t.prototype.removeEventListener=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.off.apply(this,t)},t.prototype.setAttribute=function(){},t.prototype.removeAttribute=function(){},t.prototype.load=function(){},t.prototype.play=function(){var e=this;this.el&&(this.started?this.el.vjs_resume():(this.el.style.width="100%",this.el.style.height="100%",this.el.style.position="absolute",this.el.style.top=0,this.el.style.left=0,this.el.vjs_play(),this.started=!0),this.progressInterval=setInterval(function(){e.emit("timeupdate")},250))},t.prototype.pause=function(){this.el&&(this.el.vjs_pause(),clearInterval(this.progressInterval))},t}(u.default);t.default=_,e.exports=t.default},function(e,t){"use strict";function n(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function r(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==r.join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}var i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=r()?Object.assign:function(e,t){for(var r,s,d=n(e),u=1;u<arguments.length;u++){r=Object(arguments[u]);for(var l in r)o.call(r,l)&&(d[l]=r[l]);if(i){s=i(r);for(var c=0;c<s.length;c++)a.call(r,s[c])&&(d[s[c]]=r[s[c]])}}return d}},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}return e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):i(e,t));
}Object.defineProperty(t,"__esModule",{value:!0});var d=n(4),u=r(d),l=n(23),c=r(l),f=n(8),p=r(f),h=n(35),_=r(h),A=n(27),g=r(A),v=n(7),E=n(84),m=r(E),y=n(58),S=r(y),T=n(6),R=r(T),I=function(e){function t(n,r){o(this,t);var i=a(this,e.call(this));return i.adSource=n,i.settings=r,i.vastTracker=void 0,i.videoSlot=r.environmentVars.videoSlot,i.slot=r.environmentVars.slot,i.numberOfImpressions=0,i.adExpanded=!1,i.log("initialized"),i}return s(t,e),t.prototype.playAd=function(e){var t=this;this.log("playAd"),this.loadIMA().then(this.loadAdUnit.bind(this)).then(this.playAdUnit.bind(this)).then(function(){e()}).catch(function(n){if(!t.destroyed){n=n||new _.default("na",v.ERROR_CODES.IMA_ADS_LOAD_ERROR_HANDLER);try{n.message=n.message||"na",t.log("playAd error "+n.message),e(n.message)}catch(e){}t.emit(p.default.AdError,n)}})},t.prototype.loadIMA=function(){return this.log("loadIMA"),new g.default(function(e,t){try{window.google&&window.google.ima?e():(0,m.default)(v.IMA_SDK_LOADER_URL).then(e).catch(t)}catch(e){t(new _.default("lima: "+e.message,v.ERROR_CODES.EXCEPTION))}})},t.prototype.loadAdUnit=function(){var e=this;return this.log("loadAdUnit"),new g.default(function(t,n){function r(e){if(!this.destroyed){this.log("adsManagerLoaded");try{var r=new google.ima.AdsRenderingSettings;r.loadVideoTimeout=v.IMA_SETTINGS_LOAD_VIDEO_TIMEOUT,r.mimeTypes=[],this.adsManager=e.getAdsManager(this.videoSlot,r),t(!0)}catch(e){n(new _.default("amlh: "+e.message,v.ERROR_CODES.EXCEPTION))}}}function i(e){if(!this.destroyed){this.log("adsManagerLoadError");var t="amle: ";try{var r=e.getError();r&&r.h&&(t+=r.h)}catch(e){}this.log(t),n(new _.default(t,v.ERROR_CODES.IMA_ADS_LOAD_ERROR_HANDLER))}}var o=i.bind(e),a=r.bind(e);try{var s=e.adSource.vastResponse.imaURL;e.log("loading DFP ad unit with url "+s);var d=new google.ima.AdDisplayContainer(e.slot);d.initialize(),e.adsLoader=new google.ima.AdsLoader(d),e.adsLoader.getSettings().setNumRedirects(v.IMA_SETTINGS_NUM_REDIRECTS),e.adsLoader.getSettings().setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),e.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,a,!1,e),e.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,o,!1,e);var u=new google.ima.AdsRequest;u.vastLoadTimeout=v.IMA_SETTINGS_VAST_LOAD_TIME,u.adTagUrl=s,u.linearAdSlotWidth=u.nonLinearAdSlotWidth=e.settings.width,u.linearAdSlotHeight=u.nonLinearAdSlotHeight=e.settings.height,e.adsLoader.requestAds(u)}catch(e){n(new _.default("lau: "+e.message,v.ERROR_CODES.EXCEPTION))}})},t.prototype.playAdUnit=function(){var e=this;return this.log("playAdUnit"),new g.default(function(t,n){try{e.adsManager?e.setupEvents().then(e._playAd.bind(e)).then(t).catch(n):n(new _.default("pau: this.adsManager is null",v.ERROR_CODES.IMA_ADS_LOAD_ERROR_HANDLER))}catch(e){n(new _.default("pau: "+e.message,v.ERROR_CODES.EXCEPTION))}})},t.prototype.setupEvents=function(){var e=this;return this.log("setupEvents"),new g.default(function(t,n){try{e.vastTracker=new S.default("",e.adSource.vastResponse),R.default.bindEvents(e.adsManager,e._eventsHandler.bind(e),google.ima.AdEvent.Type),t()}catch(e){n(new _.default("se: "+e.message,v.ERROR_CODES.EXCEPTION))}})},t.prototype._eventsHandler=function(e,t){var n=this;this.log("adEvent "+e);try{if(this.destroyed)return;if(e===google.ima.AdEvent.Type.ALL_ADS_COMPLETED&&0===this.numberOfImpressions)this.vastTracker.trackEvent(p.default.AdError),this.emit(p.default.AdError);else if(e===google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED)this.videoSlot.pause();else{var r=R.default.convertAdEventToVPAIDEvent(t);if(r){this.log("VPAIDEvent "+r);var i={};if(r===p.default.AdStarted)this.currentAd=t.getAd();else if(r===p.default.AdVideoComplete)setTimeout(function(){n.vastTracker.trackEvent(p.default.AdStopped),n.emit(p.default.AdStopped)},0),this.stopAd();else if(r===p.default.AdError){var o="eh "+t.getError().toString();i=new _.default(o,v.ERROR_CODES.IMA_ADS_LOAD_ERROR_HANDLER)}this.vastTracker.trackEvent(r),this.emit(r,i),r===p.default.AdStarted&&(this.numberOfImpressions+=1,1===this.numberOfImpressions&&(this.vastTracker.trackEvent(p.default.AdImpression),this.vastTracker.trackEvent(p.default.creativeView,!0),this.vastTracker.trackEvent(p.default.AdVideoStart),this.emit(p.default.AdImpression),this.emit(p.default.AdVideoStart)))}}}catch(e){}},t.prototype._playAd=function(){var e=this;return this.log("_playAd"),new g.default(function(t,n){try{e.adsManager.init(e.settings.width,e.settings.height,google.ima.ViewMode.NORMAL),e.adsManager.setVolume(e.videoSlot.muted||0===e.videoSlot.volume?0:e.videoSlot.volume),e.adsManager.start()}catch(e){n(new _.default("_pa: "+e.message,v.ERROR_CODES.EXCEPTION))}})},t.prototype.log=function(e){c.default.log("IMAIntegrator "+e)},t.prototype.destroy=function(){if(this.log("destroy"),!this.destroyed){this.destroyed=!0;try{this.adsManager&&(this.imaEventListeners&&(R.default.unbindEvents(this.adsManager,this.imaEventListeners,google.ima.AdEvent.Type),this.imaEventListeners={}),this.adsManager.adsContainer.parent&&this.adsManager.adsContainer.parent.contains(this.adsManager.adsContainer)&&this.adsManager.adsContainer.parent.removeChild(this.adsManager.adsContainer),this.adsManager.destroy(),this.adsManager=null)}catch(e){}}},t.prototype.getAdLinear=function(e){this.log("adLinear");try{e(null,this.currentAd.isLinear())}catch(t){e(null,!0)}},t.prototype.getAdWidth=function(e){this.log("adWidth");try{e(null,this.currentAd.getWidth()||this.settings.width)}catch(t){e(null,0)}},t.prototype.getAdHeight=function(e){this.log("adHeight");try{e(null,this.currentAd.getHeight()||this.settings.height)}catch(t){e(null,0)}},t.prototype.getAdSkippableState=function(e){this.log("adSkippableState");try{e(null,this.adsManager.getAdSkippableState())}catch(t){e(null,0)}},t.prototype.getAdRemainingTime=function(e){this.log("adRemainingTime");try{e(null,this.adsManager.getRemainingTime())}catch(t){e(null,0)}},t.prototype.getAdDuration=function(e){this.log("adDuration");try{e(null,this.currentAd.getDuration())}catch(t){e(null,0)}},t.prototype.getAdVolume=function(e){this.log("get adVolume");try{e(null,this.adsManager.getVolume())}catch(t){e(null,0)}},t.prototype.setAdVolume=function(e){this.log("set adVolume");try{this.adsManager.setVolume(e)}catch(e){}},t.prototype.resizeAd=function(e){this.log("resizeAd");try{e&&e.length>3&&this.adsManager.resize(e[0],e[1],e[2])}catch(e){}},t.prototype.stopAd=function(){this.log("stopAd");try{this.adsManager.stop()}catch(e){}},t.prototype.pauseAd=function(){this.log("pauseAd");try{this.adsManager.pause()}catch(e){}},t.prototype.resumeAd=function(){this.log("resumeAd");try{this.adsManager.resume()}catch(e){}},t.prototype.expandAd=function(){this.log("expandAd");try{this.adExpanded=!0,this.adsManager.expand()}catch(e){}},t.prototype.collapseAd=function(){this.log("collapseAd");try{this.adExpanded=!1,this.adsManager.collapse()}catch(e){}},t.prototype.getAdExpanded=function(e){this.log("adExpanded");try{e(null,this.adExpanded)}catch(t){e(null,!1)}},t.prototype.skipAd=function(){this.log("skipAd");try{this.adsManager.skip()}catch(e){}},t.prototype.getAdCompanions=function(e){e(null,"")},t.prototype.getAdIcons=function(e){e(null,"")},t}(u.default);t.default=I,e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return new a.default(function(t,n){var r=document.createElement("script"),i=document.getElementsByTagName("script")[0];r.async=1,i.parentNode.insertBefore(r,i),r.onload=r.onreadystatechange=function(e,i){(i||!r.readyState||/loaded|complete/.test(r.readyState))&&(r.onload=r.onreadystatechange=null,r=void 0,i?n():t())},r.src=e})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(27),a=r(o);e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=n(86),a=r(o),s=n(27),d=n(23),u=r(d),l=n(7),c=n(87),f=n(91),p=r(f),h=n(139),_=r(h),A=n(125),g=r(A),v=n(132),E=r(v),m=n(140),y=r(m),S=n(5),T=r(S),R=n(6),I=function(){function e(t,n,r){i(this,e),this.settings=n,this.waterfall=t,this.numberOfTiers=t.tiers.length,this._setNextTier(),this.getVastResponseForTierStartTime=0,this.adSourceIndex=1,this.tracker=n.tracker,this.config=n.config,this.onFoundVASTCallback=r,this.adSourceCache=this.settings.environmentVars&&this.settings.environmentVars.srCache,this._markCachedAdSourced(),this.tracker.reportOpportunity()}return e.prototype.getVASTResponseForTier=function(){var e=this;this.getVastResponseForTierStartTime=(new Date).getTime(),this.numberOfTiers>0&&(u.default.log("sending requests to "+this.currentTier.adSources.length+" sources in tier "+this.currentTier.tier),this.currentTier.adSources.forEach(function(t){e._fetchAdSource(t).then(function(){}).catch(function(){})}))},e.prototype._filterAdSources=function(){var e=this.currentTier.adSources.map(function(e){return e.status}).indexOf(l.AD_SOURCE_STATUS.ERROR)!==-1;e&&(this.currentTier.adSources=this.currentTier.adSources.filter(function(e){return e.status!==l.AD_SOURCE_STATUS.ERROR}))},e.prototype._sortAdSources=function(){var e=this.currentTier.adSources.map(function(e){return e.isVAST}).indexOf(!0)!==-1;e&&(this.currentTier.adSources=this.currentTier.adSources.sort(function(e,t){return e.isVAST?-1:t.isVAST?1:0}))},e.prototype._fetchAdSource=function(e){var t=this,n=this._getAdSourceNoFetchReason(e);return new s.Promise(function(r,i){if(n)return u.default.log("not calling adSource "+e.id+" (no fetch "+n.code+")"),t._analyzeVastResponse(e,null,n).then(r).catch(i),null;if(t._isAdSourceInCache(e)){u.default.log("not calling adSource "+e.id+" (in cache)");var o=t._getAdSourceFromCache(e);return e.fc=o.fc,t._analyzeVastResponse(e,o,null).then(r).catch(i),null}e.status=l.AD_SOURCE_STATUS.LOADING,e.index=t.adSourceIndex,t.adSourceIndex++,t._getVastResponse(e).timeout(t.config.adSourceRequestTimeout()).then(function(e){return t._analyzeVastResponse(e.adSource,e.vastResponse,e.error).then(r).catch(i),null}).catch(function(){return t._analyzeVastResponse(e,null,{code:l.ERROR_CODES.AD_SOURCE_REQUEST_TO}).then(r).catch(i),null})})},e.prototype._getAdSourceNoFetchReason=function(e){if((0,R.didReachAdSourceNoFillRequestCap)(e))return{code:l.ERROR_CODES.AD_SOURCE_NO_FILL_REQUEST_CAP};try{var t=(0,R.getAdParametersValue)(e,l.APS.SIZE),n=this.tracker.settings.dplayersize;if(t&&n){var r=t.split(","),i=r.indexOf(n.charAt(0))>-1;return i?null:(u.default.log("invalid detected size, wanted "+r+", found "+n),{code:l.ERROR_CODES.AD_SOURCE_DETECTED_SIZE_MISS_MATCH})}}catch(e){}return null},e.prototype._getVastResponse=function(e){var t=this;return new s.Promise(function(n){if(t.tracker.reportRequest(e,{tier:t.currentTier.tier,tierlength:t.currentTierAdSourceLength}),e.adParameters&&e.mediaFiles&&(e.url=(0,_.default)({adParams:e.adParameters,mediaFiles:e.mediaFiles})),!(0,g.default)(e.url)){var r=(0,T.default)({},t.settings,{bundleId:e[l.APS.BUNDLE_ID[1]]});e.url=(0,c.injectMacros)(e.url,r,t.tracker)}var i=s.Promise.resolve(e.url);y.default.some(function(n){var r=n.getVAST({timeout:t.config.adSourceRequestTimeout(),url:e.url,settings:t.settings});return!!r&&(i=r,!0)}),i.then(function(e){return(0,p.default)(e,{timeout:t.config.adSourceRequestTimeout(),supportIMA:t.settings.environmentVars&&t.settings.environmentVars.slot&&t.settings.environmentVars.videoSlot,withCredentials:t.settings.queryParams.wc||(0,R.shouldUseCredentilas)(e,t.settings.queryParams.env)})}).then(function(t){u.default.log("got vast response from VASTParser"),n({vastResponse:t,adSource:e,error:null})}).catch(function(t){u.default.log("could not get vast response from VASTParser"),n({error:t,adSource:e,vastResponse:null})})})},e.prototype._analyzeVastResponse=function(e,t,n){var r=this;return u.default.log("analyzeVastResponse"),new s.Promise(function(i,o){var a={tier:r.currentTier.tier,tierlength:r.currentTierAdSourceLength,adsourceid:e.id,adsourcename:e.name,rank:e.index,fromBL:(0,R.normalizeValue)(e.fromBL),blScore:(0,R.normalizeValue)(e.blScore),emReportType:(0,R.normalizeValue)(e.emReportType),nest:(0,R.normalizeValue)(e.nested),adsourcetype:"",fc:(0,R.normalizeValue)(e.fc),bundleid:e.bundleId},s=r.tracker.addDynamicValuesToReportOptions(a,e);!t||n?(e.status=l.AD_SOURCE_STATUS.ERROR,u.default.log("adSource "+e.id+" got error "+(n&&n.code)),n?n instanceof E.default?(s.message=n.code?n.code+" - "+n.message:n.message,s.errorcode=l.ERROR_CODES.HTTP_ERROR):n.code?s.errorcode=n.code.toString():s.errorcode=l.ERROR_CODES.UNKNOWN:s.errorcode=l.ERROR_CODES.UNKNOWN,s.errorcode===l.ERROR_CODES.AD_SOURCE_NO_FILL_REQUEST_CAP||s.errorcode===l.ERROR_CODES.AD_SOURCE_DETECTED_SIZE_MISS_MATCH?r.tracker.reportIntegrationError(s):(s.errorcode===l.ERROR_CODES.HTTP_ERROR?r.tracker.reportHttpError(s):r.tracker.reportLose(s),(0,R.incrementAdSourceNoFill)(e.id)),o(new Error("invalid ad source"))):(e.status=l.AD_SOURCE_STATUS.SUCCESS,e.vastResponse=t,e.isVAST=t.isVAST,e.isVPAID=t.isVPAID,e.isIMA=t.isIMA,e.type=e.isIMA?"ima":e.isVPAID?e.isVAST?"vast+vpaid "+t.VPAIDType:"vpaid "+t.VPAIDType:"vast",s.adsourcetype=e.type,r.tracker.reportBid(s),u.default.log("adSource "+e.id+" got response as "+e.type),e.isVAST&&r._foundVAST(e),i())})},e.prototype.getNextAdSource=function(){return this.waterfall[l.WATERFALL_OBJECT.REQUEST_METHOD]===l.WATERFALL_REQUEST_METHOD.SERIAL?this._getNextAdSourceSerial():this._getNextAdSourceParallel()},e.prototype._getNextAdSource=function(e){this.getNextAdSource().then(function(t){e.resolve(t)},function(){e.reject(new Error)})},e.prototype._shouldReplaceTier=function(){return!this.currentTier||this.currentTier&&(!this.currentTier.adSources||!this.currentTier.adSources.length)},e.prototype._getNextAdSourceSerial=function(){var e=this;u.default.log("getting next ad source - serial");var t=(0,a.default)();if(this._shouldReplaceTier()){if(0==this.waterfall.tiers.length)return t.reject(new Error),t.promise;this._setNextTier()}var n=this.currentTier.adSources.shift(),r=this.numberOfTiers-this.waterfall.tiers.length,i=this.currentTierAdSourceLength-this.currentTier.adSources.length;return u.default.log("fetching adSource "+i+"/"+this.currentTierAdSourceLength+" tier "+r+"/"+this.numberOfTiers),this._fetchAdSource(n).then(function(){t.resolve(n)}).catch(function(){e._getNextAdSource(t)}),t.promise},e.prototype._getNextAdSourceParallel=function(){var e=this;u.default.log("getNextAdSourceParallel - getting next ad source - parallel");var t=(0,a.default)();if(this._filterAdSources(),this._sortAdSources(),this._shouldReplaceTier())return 0===this.waterfall.tiers.length?(u.default.log("getNextAdSourceParallel - waterfall has no more tiers and ad sources"),t.reject(new Error)):(u.default.log("getNextAdSourceParallel - changing tier and getting responses for new tier"),this._setNextTier(),this.getVASTResponseForTier(),this._getNextAdSource(t)),t.promise;if(this.currentTier.adSources[0].status===l.AD_SOURCE_STATUS.LOADING){var n=(new Date).getTime()-this.getVastResponseForTierStartTime;if(n<this.config.waitForDownloads())return u.default.log("getNextAdSourceParallel - waiting for slow ad sources"),setTimeout(function(){e._getNextAdSource(t)},100),t.promise}u.default.log("getNextAdSourceParallel - looking for candidates to play in waterfall tier "+this.currentTier.tier);var r=this.currentTier.adSources.map(function(e){return e.status}).indexOf(l.AD_SOURCE_STATUS.SUCCESS);if(r===-1)u.default.log("getNextAdSourceParallel - all ad sources are still loading"),setTimeout(function(){e._getNextAdSource(t)},100);else{var i=this.currentTier.adSources.splice(r,1)[0];u.default.log("getNextAdSourceParallel - found valid adSource "+i.id),this._removeAdSourceFromCache(i),t.resolve(i)}return t.promise},e.prototype._setNextTier=function(){this.currentTier=this.waterfall.tiers.shift(),this.currentTierAdSourceLength=this.currentTier?this.currentTier.adSources.length.toString():"0",this.adSourceIndex=1;var e=this.numberOfTiers-this.waterfall.tiers.length;u.default.log("current tier "+e+"/"+this.numberOfTiers)},e.prototype._foundVAST=function(e){this._addAdSourceToCache(e),this.onFoundVASTCallback&&this.onFoundVASTCallback()},e.prototype._markCachedAdSourced=function(){var e=this;this.adSourceCache&&Object.keys(this.adSourceCache).forEach(function(t){e.adSourceCache[t].fc=!0})},e.prototype._isAdSourceInCache=function(e){return this.adSourceCache&&this.adSourceCache[e.id]},e.prototype._addAdSourceToCache=function(e){this.adSourceCache&&!this.adSourceCache[e.id]&&(u.default.log("adding adSource "+e.id+" to cache"),this.adSourceCache[e.id]=e.vastResponse)},e.prototype._removeAdSourceFromCache=function(e){this.adSourceCache&&this.adSourceCache[e.id]&&(u.default.log("removing adSource "+e.id+" from cache"),this.adSourceCache[e.id]=null,delete this.adSourceCache[e.id])},e.prototype._getAdSourceFromCache=function(e){return this.adSourceCache&&this.adSourceCache[e.id]?(u.default.log("getting adSource "+e.id+" from cache"),this.adSourceCache[e.id]):null},e}();t.default=I,e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return function(){var t={},n=new e(function(e,n){t.resolve=e,t.reject=n});return t.promise=n,t}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(28),a=(r(o),void 0),s=n(29);a=i(s),t.default=a,e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){var r=m(n),i=y(n),D=S(n),L=T(n),N=o(),V=s(n),U=d(n),x=g(t),F=A(t),j=v(t),H=E(t),W=l(t);e=e.replace(/\[CACHE_BUSTER]/g,N),e=e.replace(/\[CB]/g,N),e=e.replace(/\$\$cb\$\$/g,N),e=e.replace(/\[CONTAINER_WIDTH]/g,V),e=e.replace(/\[PLAYER_WIDTH]/g,V),e=e.replace(/\$\$width\$\$/g,V),e=e.replace(/\[WIDTH]/g,V),e=e.replace(/\[HEIGHT]/g,U),e=e.replace(/\$\$height\$\$/g,U),e=e.replace(/\[CONTAINER_HEIGHT]/g,U),e=e.replace(/\[PLAYER_HEIGHT]/g,U),e=e.replace(/\[VIDEO_DURATION]/g,c(t)),e=e.replace(/\[VIDEO_DESCRIPTION]/g,f(t)),e=e.replace(/\[VIDEO_TITLE]/g,_(t)),e=e.replace(/\[VIDEO_ID]/g,h(t)),e=e.replace(/\[VID_ID]/g,h(t)),e=e.replace(/\[VIDEO_FILE_URL]/g,p(t)),e=e.replace(/\[URL]/g,r),e=e.replace(/\[PAGEURL]/g,r),e=e.replace(/\[PAGE_URL]/g,r),e=e.replace(/\$\$pageurl\$\$/g,r),e=e.replace(/\[CONTENT_URL]/g,r),e=e.replace(/\[DPAGE_URL]/g,D),e=e.replace(/\[DOMAIN]/g,i),e=e.replace(/\[DDOMAIN]/g,L),e=e.replace(/\[MUTE]/g,W),e=e.replace(/\[MUTED]/g,W),e=e.replace(/\[AUTOPLAY]/g,u(t)),e=e.replace(/\[DEV_UA]/g,H),e=e.replace(/\[UA]/g,H),e=e.replace(/\[DEV_LONGITUDE]/g,x),e=e.replace(/\[USER_LON]/g,x),e=e.replace(/\[USER_LAN]/g,x),e=e.replace(/\[LONGITUDE]/g,x),e=e.replace(/\[DEV_LATITUDE]/g,F),e=e.replace(/\[USER_LATITUDE]/g,F),e=e.replace(/\[USER_LAT]/g,F),e=e.replace(/\[LATITUDE]/g,F),e=e.replace(/\[CLIENT_IP]/g,j),e=e.replace(/\[IP]/g,j),e=e.replace(/\[USER_IP]/g,j),e=e.replace(/\$\$ip\$\$/g,j),e=e.replace(/\[APP_NAME]/g,R(t)),e=e.replace(/\[BUNDLE_ID]/g,I(t)),e=e.replace(/\[IFA]/g,b(t)),e=e.replace(/\[APP_STORE_URL]/g,w(t)),e=e.replace(/\[APP_CATEGORY]/g,O(t)),e=e.replace(/\[SUB_ID]/g,P(t)),e=e.replace(/\[DO_NOT_TRACK]/g,C(t));for(var Y=0;Y<10;Y++)if(t.queryParams.hasOwnProperty("param"+Y)){var B=new RegExp("\\[param"+Y+"\\]","gi");e=e.replace(B,a(t.queryParams,"param"+Y))}return"1"===W&&(e=e.replace(/volume=100|volume=0*\d{1,2}/g,"volume=0")),(0,M.default)(e)&&(e=(0,k.default)(e,"sid",t.sessionId)),e}function o(){return parseInt(1e20*Math.random(),10)}function a(e,t){var n=L.default.getQueryParam(e,t)||e[t];return n?encodeURIComponent(n):""}function s(e){return encodeURIComponent(e.settings.width||e.settings.dwidth)}function d(e){return encodeURIComponent(e.settings.height||e.settings.dheight)}function u(e){return a(e.queryParams,"AUTOPLAY")}function l(e){return a(e.queryParams,"MUTE")}function c(e){return a(e.queryParams,"CONTENT_DURATION")}function f(e){return a(e.queryParams,"CONTENT_DESCRIPTION")}function p(e){return a(e.queryParams,"CONTENT_URL")}function h(e){return a(e.queryParams,"CONTENT_ID")}function _(e){return a(e.queryParams,"CONTENT_TITLE")}function A(e){return a(e.queryParams,"USER_LATITUDE")}function g(e){return a(e.queryParams,"USER_LONGITUDE")}function v(e){return a(e.queryParams,"USER_IP")}function E(e){return a(e.queryParams,"USER_AGENT")||encodeURIComponent(L.default.getUserAgent())}function m(e){return encodeURIComponent(e.settings.pageurl||e.settings.dpageurl)}function y(e){return e.settings.domain||e.settings.ddomain}function S(e){return encodeURIComponent(e.settings.dpageurl)}function T(e){return e.settings.ddomain}function R(e){return a(e.queryParams,"APP_NAME")}function I(e){return e&&e.bundleId?e.bundleId:a(e.queryParams,"BUNDLE_ID")}function b(e){return a(e.queryParams,"IFA")}function w(e){return a(e.queryParams,"APP_STORE_URL")}function O(e){return a(e.queryParams,"APP_CATEGORY")}function P(e){return a(e.queryParams,"SUB_ID")}function C(e){return a(e.queryParams,"DO_NOT_TRACK")}Object.defineProperty(t,"__esModule",{value:!0}),t.injectMacros=i;var D=n(6),L=r(D),N=n(88),M=r(N),V=n(89),k=r(V)},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e){try{var t=document.createElement("a");return t.href=decodeURIComponent(e),t.hostname===a.default.ssp||t.hostname===d.default.ssp}catch(t){return e.indexOf("//"+a.default.ssp)>-1||e.indexOf("//"+d.default.ssp)>-1}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(9),a=r(o),s=n(11),d=r(s);e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return!e||e.indexOf(t+"=")>-1?e:(e.indexOf("?")===-1?e+="?":(0,a.default)(e,"&")||(0,a.default)(e,"?")||(e+="&"),e+=t+"="+n)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(90),a=r(o);e.exports=t.default},function(e,t){function n(e,t){return String.prototype.endsWith?e.endsWith(t):e.indexOf(t,e.length-t.length)!==-1}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{timeout:s},n=new a.default,r=n.parse({url:e,timeout:t.timeout||s,supportIMA:t.supportIMA,withCredentials:t.withCredentials});return r.catch(function(){}).finally(n.dispose.bind(n)),r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(92),a=r(o),s=5e3;e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=n(35),a=r(o),s=n(93),d=r(s),u=n(115),l=r(u),c=n(37),f=r(c),p=n(79),h=r(p),_=n(44),A=r(_),g=n(123),v=r(g),E=n(110),m=r(E),y=n(125),S=r(y),T=n(27),R=n(127),I=n(129),b=r(I),w=n(138),O=r(w),P=n(59),C=r(P),D="ETIMEDOUT",L=function(){function e(){i(this,e),this._isDisposed=!1,this._isParsing=!1,this._adXMLs=[],this.position=null,this._errors=[]}return e.prototype.parse=function(e){var t=this,n=e.url,r=e.position,i=e.timeout,o=e.withCredentials,a=e.supportIMA,s=e.disableFlash;return this.disableFlash="undefined"!=typeof s&&s,new T.Promise(function(e,s){(0,T.resolve)().then(t._start.bind(t,{timeout:i,withCredentials:o,position:r,supportIMA:a})).then(t._sanityCheck.bind(t,n)).then(t._requestVASTXml.bind(t,n,i,o,a)).then(t._getVastTree.bind(t,a)).then(t._populateWaterfallAds.bind(t)).then(t._populateAdsChainWithWaterfallAds.bind(t)).then(t._buildVASTResponse.bind(t,n)).then(t._end.bind(t)).then(e).catch(function(e){if(e&&e.code&&t._adXMLs&&t._adXMLs.length&&(e.adXMLs=t._adXMLs),t._errors&&t._errors.length)try{(0,C.default)(t._errors)}catch(e){}t._end(e.vastResponse),s(e)})})},e.prototype.dispose=function(){if(this._isParsing)throw new Error("Attempt to dispose VASTParser was made while parsing");this._isDisposed=!0,this._isParsing=!1,this._waterfallAds=null,this._adsChain=null},e.prototype._populateWaterfallAds=function(e){if(this._waterfallAds=e&&(0,f.default)(e.ads)?e.ads:null,null===this._waterfallAds)throw new a.default("on VASTParser._populateWaterfallAds, no Ad in VAST tree",a.default.NO_AD_IN_VAST_TREE)},e.prototype._handleBuiltAd=function(e){return e&&this._adsChain.push(e),e.wrapper?this._populateAdsChainWithWaterfallAds(e.wrapper.VASTAdTagURI):this._adsChain},e.prototype._populateAdsChainWithWaterfallAds=function(e){var t=void 0,n=void 0;return e?t=e:this._waterfallAds.length&&(t=this._waterfallAds.shift()),t?(0,A.default)(t)&&this._supportIMA&&(0,O.default)(t)?(this._adsChain.push({ima:!0,url:t}),n=(0,T.resolve)(this._adsChain)):n=this._getAdJXONTree(t,this._timeout,this._withCredentials,this._supportIMA).then(this._buildAd.bind(this)).then(this._handleBuiltAd.bind(this)):n=(0,T.resolve)(this._adsChain),n},e.prototype._start=function(e){if(this._isParsing)throw new Error("VASTParser instance is during parsing");this._isParsing=!0,this._timeout=e.timeout,this._withCredentials=e.withCredentials,this._supportIMA=e.supportIMA,this._waterfallAds=null,this._adsChain=[],this._position=e.position},e.prototype._end=function(e){return e instanceof d.default&&(e.adXMLs=this._adXMLs,e.position=this._position),this._isParsing=!1,this._timeout=null,this._adXMLs=[],this._position=null,e},e.prototype._getVastTree=function(e,t){var n=void 0;if(this._adXMLs.push(t),!t||"FAILURE"===t)throw new a.default("on VASTParser.getVastTree, got empty vast xmlStr",a.default.NO_AD_IN_VAST_TREE);if(!(0,S.default)(t)&&e&&(0,O.default)(t))return{ads:[t]};try{n=(0,v.default)(t),n.ads=(0,f.default)(n.ad)?n.ad:[n.ad],n.xml=t}catch(e){throw new a.default("on VASTParser.getVastTree, error parsing xml",a.default.ERROR_PARSING_XML)}return this._validateVASTTree(n),n},e.prototype._extractAdFromXMLString=function(e){var t=void 0;if(this._adXMLs.push(e),!e||"FAILURE"===e)throw new a.default("on VASTParser.getVastTree, got empty vast xmlStr",a.default.NO_AD_IN_VAST_TREE);try{t=(0,v.default)(e)}catch(e){throw new a.default("on VASTParser.getVastTree, error parsing xml",a.default.ERROR_PARSING_XML)}return this._validateVASTTree(t),t.ad},e.prototype._buildAd=function(e){var t=void 0;try{t=new l.default(e)}catch(e){throw new a.default("on VASTParser.buildAd, error parsing xml",a.default.ERROR_PARSING_XML)}return t.inLine&&t.inLine.error?this._errors.push(t.inLine.error):t.wrapper&&t.wrapper.error&&this._errors.push(t.wrapper.error),this._validateAd(t),t},e.prototype._getAdJXONTree=function(e,t,n,r){var i=this;return(0,T.resolve)().then(function(){var o=void 0;return o=(0,A.default)(e)?i._requestVASTXml(e,t,n,r).then(i._extractAdFromXMLString.bind(i)):e})},e.prototype._validateAd=function(e){var t=e.wrapper,n=e.inLine,r="on VASTParser.validateAd, ";if(n&&t)throw new a.default(r+" InLine and Wrapper both found on the same Ad",a.default.INLINE_AND_WRAPPER_IN_RESPONSE);if(!n&&!t)throw new a.default(r+" nor wrapper nor inline elements found on the Ad",a.default.INLINE_AND_WRAPPER_NOT_IN_RESPONSE);if(n){if(!n.creatives&&!n.video)throw new a.default(r+" missing creative and video in InLine element",a.default.MISSING_CREATIVE_AND_VIDEO_IN_INLINE);if(n.creatives&&0===n.creatives.length)throw new a.default(r+" missing creative in InLine element",a.default.MISSING_CREATIVE_IN_INLINE)}if(t&&!t.VASTAdTagURI)throw new a.default(r+" missing 'VASTAdTagURI' in wrapper",a.default.MISSING_VASTADTAGURI_IN_WRAPPER)},e.prototype._validateVASTTree=function(e){var t=(0,m.default)(e,"version");if(!e.ad)throw new a.default("on VASTParser.validateVASTTree, no Ad in VAST tree",a.default.NO_AD_IN_VAST_TREE);if(t&&3!==t&&2!==t&&t.indexOf("2.")<0&&t.indexOf("3."))throw new a.default("on VASTParser.validateVASTTree, not supported VAST version "+t,a.default.VAST_VERSION_NOT_SUPPORTED)},e.prototype._buildVASTResponse=function(e,t){var n=new d.default({requestUrl:e,ads:t});return n.validate(),n},e.prototype._generateCatcher=function(e){return function(t){throw t.constructor===R.XMLHttpRequestConstructor?new a.default("on VASTParser."+e+", HTTP request error with status "+t.status,a.default.HTTP_ERROR):t.code===D?new a.default("on VASTParser."+e+", Timeout",a.default.AD_SOURCE_REQUEST_TO):t instanceof Error?t:"string"==typeof t?new Error(t):new Error("General Error")}},e.prototype._sanityCheck=function(e){if((0,h.default)(e))throw new a.default("on VASTParser.sanityCheck, missing ad tag URL",a.default.MISSING_AD_TAG_URL);return!0},e.prototype._requestVASTXml=function(e,t,n,r){var i=void 0;if((0,S.default)(e))i=e;else if(r&&(0,O.default)(e))i=e;else{var o=/cb=\[.*\]/.exec(e),a=e;o&&o[0]&&(a=e.replace(o[0],"cb="+(new Date).getTime())),i=(0,b.default)(a,{withCredentials:n,disableFlash:this.disableFlash}).timeout(t).catch(this._generateCatcher("_requestVASTXml"))}return i},e}();t.default=L,e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=n(94),a=r(o),s=n(97),d=r(s),u=n(115),l=r(u),c=n(116),f=r(c),p=n(102),h=r(p),_=n(35),A=r(_),g=n(119),v=r(g),E=n(37),m=r(E),y=n(99),S=r(y),T=n(64),R=r(T),I=n(120),b=r(I),w=n(95),O=r(w),P=n(106),C=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),this._linearAdded=!1,this.ads=[],this.errorURLMacros=[],this.impressions=[],this.clickTrackings=[],this.customClicks=[],this.trackingEvents={},this.mediaFiles=[],this.clickThrough=void 0,this.adTitle="",this.duration=void 0,this._videoAdded=void 0,this.skipoffset=void 0,this.isVPAID=!1,this.isVAST=!1,this.VPAIDType=void 0,this.requestUrl=n.requestUrl,this.adXMLs=[],this.position=null,this.adSystems=[],n.ads&&n.ads.forEach(function(e){t.addAd(e)})}return e.prototype.addAd=function(e){var t=void 0,n=void 0;e&&(e instanceof l.default?(t=e.inLine,n=e.wrapper,this.ads.push(e),t&&this._addInLine(t),n&&this._addWrapper(n)):e.ima&&(this.isIMA=!0,this.imaURL=e.url))},e.prototype.validate=function(){var e=this.trackingEvents.progress;if(!this.imaURL){if(!this.hasLinear())throw new A.default("on VASTResponse.validate, Received an Ad type that is not supported",_.AD_TYPE_NOT_SUPPORTED,this);void 0===this.duration&&(this.duration=15),e&&e.forEach(function(e){(0,R.default)(e.offset)||(e.offset=0)})}},e.prototype._addErrorTrackUrl=function(e){var t=e instanceof b.default?(0,O.default)(e):e;t&&this.errorURLMacros.push(t)},e.prototype._addImpressions=function(e){(0,m.default)(e)&&(0,v.default)(this.impressions,e)},e.prototype._addClickThrough=function(e){(0,S.default)(e)&&(this.clickThrough=e)},e.prototype._addClickTrackings=function(e){(0,m.default)(e)&&(0,v.default)(this.clickTrackings,e)},e.prototype._addCustomClicks=function(e){(0,m.default)(e)&&(0,v.default)(this.customClicks,e)},e.prototype._addTrackingEvents=function(e){var t=this.trackingEvents;e&&(e=(0,m.default)(e)?e:[e],e.forEach(function(e){t[e.name]||(t[e.name]=[]),t[e.name].push(e)}))},e.prototype._addTitle=function(e){(0,S.default)(e)&&(this.adTitle=e)},e.prototype._addAdSystem=function(e){this.adSystems.push(e||"")},e.prototype._addDuration=function(e){(0,R.default)(e)&&(this.duration=e)},e.prototype._addVideoClicks=function(e){e instanceof a.default&&(this._addClickThrough(e.clickThrough),this._addClickTrackings(e.clickTrackings),this._addCustomClicks(e.customClicks))},e.prototype._addMediaFiles=function(e){if((0,m.default)(e)&&(0,v.default)(this.mediaFiles,e),this.isVPAID=this.isVPAID||(this.mediaFiles||[]).some(function(e){return e.isVPAID()}),this.isVAST=this.isVAST||(this.mediaFiles||[]).some(function(e){return e.isVAST()}),this.isVPAID){var t=this.VPAIDType===P.FLASH||this.VPAIDType===P.BOTH||(this.mediaFiles||[]).some(function(e){return e.VPAIDType===P.FLASH}),n=this.VPAIDType===P.JS||this.VPAIDType===P.BOTH||(this.mediaFiles||[]).some(function(e){return e.VPAIDType===P.JS}),r=t&&n;r?this.VPAIDType=P.BOTH:t?this.VPAIDType=P.FLASH:this.VPAIDType=P.JS}else this.VPAIDType=P.NONE;
},e.prototype._addSkipoffset=function(e){e&&(this.skipoffset=e)},e.prototype._addAdParameters=function(e){e&&(this.adParameters=e)},e.prototype._addLinear=function(e){e instanceof h.default&&(this._addDuration(e.duration),this._addTrackingEvents(e.trackingEvents),this._addVideoClicks(e.videoClicks),this._addMediaFiles(e.mediaFiles),this._addSkipoffset(e.skipoffset),this._addAdParameters(e.adParameters),this._linearAdded=!0)},e.prototype._addCompanionAds=function(e){this.companionAds=e},e.prototype._addInLine=function(e){var t=this;e instanceof f.default&&(this._addTitle(e.adTitle),this._addErrorTrackUrl(e.error),this._addImpressions(e.impressions),this._addAdSystem(e.adSystem),e.creatives?e.creatives.forEach(function(e){e.linear?t._addLinear(e.linear):e.companionAds&&t._addCompanionAds(e.companionAds)}):(this._addVideo(e.video),this._addTrackingEvents(e.trackingEvents)))},e.prototype._addVideo=function(e){this._addDuration(e.duration),this._addVideoClicks(e.videoClicks),this._addMediaFiles(e.mediaFiles),this._videoAdded=!0},e.prototype._addWrapper=function(e){var t=this;e instanceof d.default&&(this._addErrorTrackUrl(e.error),this._addImpressions(e.impressions),this._addAdSystem(e.adSystem),e.creatives.forEach(function(e){var n=e.linear;n&&(t._addVideoClicks(n.videoClicks),t.clickThrough=void 0,t._addTrackingEvents(n.trackingEvents))}),t._addTrackingEvents(e.trackingEvents),t._addVideoClicks(e.videoClicks))},e.prototype.hasLinear=function(){return this._linearAdded||this._videoAdded},e.prototype.toString=function(){return"[object VASTResponse]"},e}();t.default=C,e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=n(95),a=r(o),s=n(96),d=r(s),u=function e(t){i(this,e),this.clickThrough=(0,a.default)(t.clickThrough),this.clickTrackings=(0,d.default)(t.clickTracking),this.customClicks=(0,d.default)(t.customClick)};t.default=u,e.exports=t.default},function(e,t){function n(e){if(e)return e.uRL?e.uRL.keyValue:e.keyValue}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=void 0;return e?(e=(0,a.default)(e)?e:[e],t=e.map(function(e){return(0,d.default)(e)})):t=[],t.filter(function(e){return!!e})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(37),a=r(o),s=n(95),d=r(s);e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=n(94),a=r(o),s=n(98),d=r(s),u=n(100),l=r(u),c=n(107),f=r(c),p=n(95),h=r(p),_=n(110),A=r(_),g=function e(t){i(this,e),this.adSystem=(0,h.default)(t.adSystem),this.impressions=(0,d.default)(t.impression),this.VASTAdTagURI=(0,h.default)(t.vASTAdTagURI),this.creatives=(0,l.default)(t.creatives),this.trackingEvents=(0,f.default)(t.trackingEvents&&t.trackingEvents.tracking),t.videoClicks&&(this.videoClicks=new a.default(t.videoClicks)),this.error=(0,h.default)(t.error),this.extensions=t.extensions,this.followAdditionalWrappers="undefined"==typeof(0,A.default)(t,"followAdditionalWrappers")||(0,A.default)(t,"followAdditionalWrappers"),this.allowMultipleAds=(0,A.default)(t,"allowMultipleAds"),this.fallbackOnNoAd=(0,A.default)(t,"fallbackOnNoAd")};t.default=g,e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=[];return e&&(e=e.uRL?(0,a.default)(e.uRL)?e.uRL:[e.uRL]:(0,a.default)(e)?e:[e],t=e.filter(function(e){return(0,d.default)(e.keyValue)}).map(function(e){return e.keyValue})),t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(37),a=r(o),s=n(99),d=r(s);e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return(0,a.default)(e)&&0!==e.length}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(44),a=r(o);e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=[],n=void 0;return"undefined"!=typeof e&&"undefined"!=typeof e.creative&&(n=(0,a.default)(e.creative)?e.creative:[e.creative],n.forEach(function(e){t.push(new d.default(e))})),t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(37),a=r(o),s=n(101),d=r(s);e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=n(102),a=r(o),s=n(113),d=r(s),u=n(37),l=r(u),c=function e(t){if(i(this,e),this.id=t.attr("id"),this.sequence=t.attr("sequence"),this.adId=t.attr("adId"),this.apiFramework=t.attr("apiFramework"),t.linear)this.linear=new a.default(t.linear);else if(t.companionAds&&t.companionAds.companion){var n=(0,l.default)(t.companionAds.companion)?t.companionAds.companion:[t.companionAds.companion];this.companionAds=n.map(function(e){return new d.default(e)})}};t.default=c,e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=n(94),a=r(o),s=n(103),d=r(s),u=n(104),l=r(u),c=n(107),f=r(c),p=n(109),h=r(p),_=n(95),A=r(_),g=n(110),v=r(g),E=n(112),m=r(E),y=function e(t){i(this,e),this.duration=(0,d.default)((0,A.default)(t.duration)),this.mediaFiles=(0,l.default)(t.mediaFiles&&t.mediaFiles.mediaFile),this.trackingEvents=(0,f.default)(t.trackingEvents&&t.trackingEvents.tracking,this.duration),this.skipoffset=(0,h.default)((0,v.default)(t,"skipoffset"),this.duration),t.videoClicks&&(this.videoClicks=new a.default(t.videoClicks)),t.adParameters&&(this.adParameters=(0,A.default)(t.adParameters),(0,v.default)(t.adParameters,"xmlEncoded")&&(this.adParameters=(0,m.default)(this.adParameters)))};t.default=y,e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=/(\d\d):(\d\d):(\d\d)(\.(\d\d\d))?/,n=void 0,r=void 0;return(0,u.default)(e)&&(n=e.match(t),n&&(r=o(n[1])+a(n[2])+s(n[3])+parseInt(n[5]||0,10))),isNaN(r)?null:r}function o(e){return 60*parseInt(e,10)*60*1e3}function a(e){return 60*parseInt(e,10)*1e3}function s(e){return 1e3*parseInt(e,10)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var d=n(44),u=r(d);e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=void 0;return"undefined"!=typeof e?(e=(0,a.default)(e)?e:[e],t=e.map(function(e){return new d.default(e)})):t=[],t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(37),a=r(o),s=n(105),d=r(s);e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=n(95),a=r(o),s=n(106),d="VPAID",u=function(){function e(t){i(this,e),this.type=t.attr("type"),"application/x-shockwave-flash"===this.type?this.VPAIDType=s.FLASH:"application/javascript"===this.type?this.VPAIDType=s.JS:this.VPAIDType=s.NONE,"video/x-mp4"===this.type&&(this.type="video/mp4"),t.uRL?(this.src=(0,a.default)(t),"application/x-shockwave-flash"!==this.type&&"application/javascript"!==this.type||(this.apiFramework=d)):(this.src=(0,a.default)(t),this.apiFramework=t.attr("apiFramework")),this.delivery=t.attr("delivery"),this.width=t.attr("width"),this.height=t.attr("height"),this.codec=t.attr("codec"),this.id=t.attr("id"),this.bitrate=t.attr("bitrate"),this.minBitrate=t.attr("minBitrate"),this.maxBitrate=t.attr("maxBitrate"),this.scalable=t.attr("scalable"),this.maintainAspectRatio=t.attr("maintainAspectRatio")}return e.prototype.isVPAID=function(){return this.apiFramework===d},e.prototype.isVAST=function(){return this.apiFramework!==d},e}();t.default=u,e.exports=t.default},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.FLASH="flash",t.JS="js",t.BOTH="both",t.NONE="none"},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=[];return"undefined"!=typeof e&&(e=(0,a.default)(e)?e:[e],e.forEach(function(e){if(e.uRL){var r=(0,a.default)(e.uRL)?e.uRL:[e.uRL];r.forEach(function(r){n.push(new d.default(r,t,e.attr("event")))})}else(0,l.default)(e)&&n.push(new d.default(e,t))})),n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(37),a=r(o),s=n(108),d=r(s),u=n(95),l=r(u);e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=n(109),a=r(o),s=n(95),d=r(s),u=function e(t,n,r){i(this,e),this.name=r||t.attr("event"),this.uri=(0,d.default)(t),"progress"===this.name&&(this.offset=(0,a.default)(t.attr("offset"),n))};t.default=u,e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return o(e)?a(e,t):(0,u.default)(e)}function o(e){var t=/^\d+(\.\d+)?%$/g;return t.test(e)}function a(e,t){return t?s(t,parseFloat(e.replace("%",""))):null}function s(e,t){return e*t/100}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var d=n(103),u=r(d);e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(e)return e["@"+(0,a.default)(t)]}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(111),a=r(o);e.exports=t.default},function(e,t){function n(e){return e.charAt(0).toLowerCase()+e.slice(1)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t){function n(e){return e?e.replace(/&apos;/g,"'").replace(/&quot;/g,'"').replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&"):e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=n(114),a=r(o),s=n(107),d=r(s),u=n(95),l=r(u),c=n(110),f=r(c),p=function e(t){if(i(this,e),this.width=(0,f.default)(t,"width"),this.height=(0,f.default)(t,"height"),this.expandedWidth=(0,f.default)(t,"expandedWidth"),this.expandedHeight=(0,f.default)(t,"expandedHeight"),this.apiFramework=(0,f.default)(t,"apiFramework"),this.trackingEvents=(0,d.default)(t.trackingEvents&&t.trackingEvents.tracking),this.companionClickThrough=(0,l.default)(t.companionClickThrough),this.companionClickTracking=(0,l.default)(t.companionClickTracking),t.staticResource)this.staticResource=(0,l.default)(t.staticResource),this.staticResourceType=t.staticResource.attr("creativeType");else if(t.iFrameResource)this.iFrameResource=(0,l.default)(t.iFrameResource);else if(t.hTMLResource){var n=(0,l.default)(t.hTMLResource);(0,a.default)(n)?this.iFrameResource=n:this.htmlResource=n}};t.default=p,e.exports=t.default},function(e,t){function n(e){return!!e&&!!e.match(/^[-a-zA-Z0-9@:%_\+.~#?&\/\/=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)?/gi)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=n(116),a=r(o),s=n(97),d=r(s),u=function e(t){i(this,e),this.id=t.attr("id"),this.sequence=t.attr("sequence"),t.inLine&&(this.inLine=new a.default(t.inLine)),t.wrapper&&(this.wrapper=new d.default(t.wrapper))};t.default=u,e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=n(117),a=r(o),s=n(98),d=r(s),u=n(100),l=r(u),c=n(118),f=r(c),p=n(107),h=r(p),_=n(95),A=r(_),g=function e(t){i(this,e),this.adTitle=(0,A.default)(t.adTitle),this.adSystem=(0,A.default)(t.adSystem),this.impressions=(0,d.default)(t.impression),t.creatives?this.creatives=(0,l.default)(t.creatives):t.video&&(this.video=new a.default(t.video),this.trackingEvents=(0,h.default)(t.trackingEvents&&t.trackingEvents.tracking,this.video.duration)),this.description=(0,A.default)(t.description),this.advertiser=(0,A.default)(t.advertiser),this.surveys=(0,f.default)(t.survey),this.error=(0,A.default)(t.error),this.pricing=(0,A.default)(t.pricing),this.extensions=t.extensions};t.default=g,e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=n(94),a=r(o),s=n(103),d=r(s),u=n(104),l=r(u),c=n(95),f=r(c),p=function e(t){i(this,e),this.duration=(0,d.default)((0,f.default)(t.duration)),this.adId=(0,f.default)(t.adID),this.mediaFiles=(0,l.default)(t.mediaFiles&&t.mediaFiles.mediaFile),t.videoClicks&&(this.videoClicks=new a.default(t.videoClicks)),t.adParameters&&(this.adParameters=(0,f.default)(t.adParameters))};t.default=p,e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return e?((0,a.default)(e)?e:[e]).filter(function(e){return(0,d.default)(e.keyValue)}).map(function(e){return{uri:e.keyValue,type:e.attr("type")}}):[]}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(37),a=r(o),s=n(99),d=r(s);e.exports=t.default},function(e,t){function n(e,t){t.forEach(function(t){e.push(t)})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=n(121),a=r(o),s=n(111),d=r(s),u=function(){function e(t){if(i(this,e),t.documentElement)return new e(t.documentElement);if(t.hasChildNodes()){for(var n,r,o,s="",u=0;u<t.childNodes.length;u++)n=t.childNodes.item(u),3===(n.nodeType-1|1)?s+=3===n.nodeType?n.nodeValue.trim():n.nodeValue:1!==n.nodeType||n.prefix||(r=(0,d.default)(n.nodeName),o=new e(n),this.hasOwnProperty(r)?(this[r].constructor!==Array&&(this[r]=[this[r]]),this[r].push(o)):this[r]=o);s&&(this.keyValue=(0,a.default)(s))}var l="undefined"==typeof t.hasAttributes?t.attributes.length>0:t.hasAttributes();if(l)for(var c=void 0,f=0;f<t.attributes.length;f++)c=t.attributes.item(f),this["@"+(0,d.default)(c.name)]=(0,a.default)(c.value.trim());return this}return e.prototype.attr=function(e){return this["@"+(0,d.default)(e)]},e}();t.default=u,e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return/^\s*$/.test(e)?null:/^(?:true|false)$/i.test(e)?"true"===e.toLowerCase():isFinite(e)?parseFloat(e):(0,a.default)(e)?new Date(e):e.trim()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(122),a=r(o);e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if((0,a.default)(e)&&(e+=""),!(0,d.default)(e))return!1;var t=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24\:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/;return t.test(e.trim())}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(64),a=r(o),s=n(44),d=r(s);e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=(0,a.default)(e);return new d.default(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(124),a=r(o),s=n(120),d=r(s);e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(){var t,r=new DOMParser;try{if(t=r.parseFromString(e,"application/xml"),n(t)||(0,a.default)(e))throw new Error}catch(t){throw new Error("xml.strToXMLDOC: Error parsing the string: '"+e+"'")}return t}function n(e){try{var t=new DOMParser,n=t.parseFromString("INVALID","text/xml"),r=n.getElementsByTagName("parsererror")[0].namespaceURI;return"http://www.w3.org/1999/xhtml"===r?e.getElementsByTagName("parsererror").length>0:e.getElementsByTagNameNS(r,"parsererror").length>0}catch(e){return!1}}if("undefined"==typeof window.DOMParser){var r=new window.ActiveXObject("Microsoft.XMLDOM");return r.async=!1,r.loadXML(e),r}return t()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(79),a=r(o);e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&0===e.indexOf("<?xml"))return!0;try{return(0,a.default)(e),!0}catch(e){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(126),a=r(o);e.exports=t.default},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new window.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}if(!t||t.getElementsByTagName("parsererror").length)throw new Error("Invalid XML: "+e);return t},e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(){for(var e=!1,t=0;t<d.length;t++){try{e=d[t]()}catch(e){continue}break}return e}function o(){var e=i();if((0,s.default)()||!e){if(!window.XDomainRequest)throw new Error("ERR_NO_XDOMAIN_REQUEST");e=new window.XDomainRequest,e.onprogress=function(){}}return e}Object.defineProperty(t,"__esModule",{value:!0}),t.XMLHttpRequestConstructor=void 0,t.default=o;var a=n(128),s=r(a),d=[function(){return new XMLHttpRequest},function(){return new window.ActiveXObject("Msxml2.XMLHTTP")},function(){return new window.ActiveXObject("Msxml3.XMLHTTP")},function(){return new window.ActiveXObject("Microsoft.XMLHTTP")}];t.XMLHttpRequestConstructor=o().constructor},function(e,t,n){function r(){return"IE"===o.browser.name&&o.browser.version<10}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(12),o=new i(window.navigator.userAgent).getResult();e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new l.default(function(r,i,o){var s=(0,a.default)({},t),u=(0,A.default)(),l="kalmar::safeGet",c=!(0,f.default)()&&!s.disableFlash;s.withCredentials=t.withCredentials||!1,(0,p.log)("fetching "+e+" with credentials "+s.withCredentials,l,u);var _=(0,d.default)(e,s).then(r).catch(function(t){c?n(136)(e).then(r).catch(i):i(t)});return h.default.isEnabled()&&_.then(function(){(0,p.log)("fetched "+e,l,u)},function(t){(0,p.log)("error while fetching "+e+". "+(t?t.message:""),l,u)}),o(function(){return _.cancel()}),_})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(82),a=r(o),s=n(130),d=r(s),u=n(27),l=r(u),c=n(56),f=r(c),p=n(24),h=r(p),_=n(135),A=r(_);e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new l.default(function(n,r,i){var o=(0,v.default)(e),s=(0,a.default)();s.open("GET",o,!0),(0,f.default)(s,t),s[(0,h.default)()?"onload":"onreadystatechange"]=(0,d.default)(s,o,n,r),s.onerror=function(){r(new A.default(s,o))},s.send(),i(function(){return s.abort()})})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(127),a=r(o),s=n(131),d=r(s),u=n(27),l=r(u),c=n(133),f=r(c),p=n(128),h=r(p),_=n(132),A=r(_),g=n(134),v=r(g);e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,r){return function(){if((0,u.default)()||e.readyState===(o.XMLHttpRequestConstructor.DONE||4))if((0,u.default)()||e.status>=200&&e.status<400){var i=e.responseText;try{i=JSON.parse(i)}catch(t){i=e.responseText}n(i)}else r(new s.default(e,t))}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(127),a=n(132),s=r(a),d=n(128),u=r(d);e.exports=t.default},function(e,t){function n(e,t){var n="",r=window&&window.location&&window.location.href;e&&e.statusText?n=e.statusText:e&&e.status&&(n=e.status.toString()),this.message="XHRError: "+(n?n+", ":"")+"req: "+t+", current: "+r,this.xhr=e,e&&e.status&&(this.code=e.status,this.status=e.status)}Object.defineProperty(t,"__esModule",{value:!0}),n.prototype=new Error,n.prototype.name="XHRError",t.default=n,e.exports=t.default},function(e,t){function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.headers,r=t.withCredentials;n&&Object.keys(n).forEach(function(t){"undefined"!=typeof n[t]&&e.setRequestHeader(t,n[t])}),r&&(e.withCredentials=!0)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e){try{return(0,a.default)()?e.replace(/^(http|https):/,window.location.protocol):"https:"===window.location.protocol&&0===e.indexOf("http:")?e.replace("http","https"):e}catch(t){return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(128),a=r(o);e.exports=t.default},function(e,t){function n(){var e="012345".split(""),t="#";t+=e[Math.round(5*Math.random())],e="0123456789ABCDEF".split("");for(var n=0;n<5;n++)t+=e[Math.round(15*Math.random())];return t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return new p.default(function(t,n){if((0,_.default)())return void s(null,e,t,n);var r=(new c.default).NewGuid().replace(/-/g,"_"),i="chxr"+r;o(r),a(r,i).then(function(r){window[i]=function(o){u.default.removeSWF(r),window[i]=null,delete window[i],s(o,e,t,n)},r.get(e)}).catch(function(){s(null,e,t,n)})})}function o(e){var t=document.createElement("span");return t.setAttribute("id",e),document.body.appendChild(t),t}function a(e,t){var n={data:(0,E.default)()+"/swf/v1.5/CrossXHR.swf",width:100,height:100},r={wmode:"transparent",salign:"tl",align:"left",allowScriptAccess:"always",scale:"noScale",FlashVars:"cb="+t};return new p.default(function(t,i){var o=u.default.createSWF(n,r,e);if(o&&"function"==typeof o.PercentLoaded)var a=setInterval(function(){100===o.PercentLoaded()&&(clearInterval(a),"function"==typeof o.get?t(o):i())},100);else i()})}function s(e,t,n,r){var i={},o=e&&e.data?e.data.replace(/%22/g,'"').replace(/%5c/g,"\\").replace(/%26/g,"&").replace(/%25/g,"%"):"";return i.status=e&&200===e.status&&e.data?200:404,i.readyState=m.XMLHttpRequestConstructor.DONE||4,i.responseText=o,i.constructor=m.XMLHttpRequestConstructor,(0,g.default)(i,t,n,r)()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var d=n(75),u=r(d),l=n(50),c=r(l),f=n(27),p=r(f),h=n(56),_=r(h),A=n(131),g=r(A),v=n(137),E=r(v),m=n(127);e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?u.assetsHost.replace("http:","").replace("https:",""):u.assetsHost}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(16),a=r(o),s=n(9),d=r(s),u=(0,a.default)(),l="https://"+d.default.sdk;u.assetsHost=u.assetsHost||l,e.exports=t.default},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(e)try{if(!document||!document.createElement)return e.indexOf(n)>-1;try{var t=document.createElement("a");return t.href=e,t.host.indexOf(n)>-1}catch(t){return e.indexOf(n)>-1}}catch(e){return!1}return!1};var n=".g.doubleclick.net";e.exports=t.default},function(e,t){function n(e){var t=e.t||e.type;t=r[t]||t;var n=e.u||e.url;return'<MediaFile delivery="progressive" width="480" height="360" bitrate="0" type="'+t+'" apiFramework="VPAID">'+n+"</MediaFile>"}Object.defineProperty(t,"__esModule",{value:!0});var r={f:"application/x-shockwave-flash",j:"application/javascript"};t.default=function(e){var t=e.adParams,r=e.mediaFiles;return t&&r?'<?xml version="1.0" encoding="utf-8"?>\n            <VAST version="2.0">\n            <Ad id="V">\n            <InLine>\n            <AdSystem>SR</AdSystem>\n            <AdTitle>V</AdTitle>\n            <Creatives>\n            <Creative sequence="1">\n            <Linear>\n            <Duration>00:00:15</Duration>\n            <MediaFiles> \n            '+r.map(n).join("\n")+"\n            </MediaFiles>\n            <AdParameters>\n            <![CDATA[\n            "+JSON.stringify(t)+"\n            ]]>\n            </AdParameters>\n            </Linear>\n            </Creative>\n            </Creatives>\n            </InLine>\n            </Ad>\n            </VAST>\n            ":'<?xml version="1.0" encoding="UTF-8"?><VAST version="2.0"></VAST>'},e.exports=t.default},function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0});var i=n(141),o=r(i);t.default=[o],e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){var t=e.url;if(a(t)){var n=d(t);return n.autoplay=!0,s(n,"hide_skin","undefined"!=typeof n.ctrl?!n.ctrl:void 0),s(n,"ad_mute",!0),(n&&n.ados&&n.ados.device&&n.ados.device.ifa||n.ados&&n.ados.app&&n.ados.app.bundle)&&(n.ados.query_params="use_mjpeg=1"),(0,c.resolve)(m(n))}return!1}function a(e){return[/^(https|http):\/\/sx\.streamrail\.net\/spot/].some(function(t){return t.test(e)})}function s(e,t,n){"undefined"==typeof e[t]&&"undefined"!=typeof n&&(e[t]=n)}function d(e){var t=(0,p.default)(e.split("?")[1]),n={};return Object.keys(t).forEach(function(e){(E[e]||e).split(".").reduce(function(r,o,a,s){return a===s.length-1?(r[o]=decodeURIComponent(t[e]),n):((0,_.default)(!0,r,i({},o,{})),r[o])},n)}),n}Object.defineProperty(t,"__esModule",{value:!0}),t.id=void 0;var u;t.getVAST=o;var l=n(7),c=n(27),f=n(142),p=r(f),h=n(5),_=r(h),A=n(9),g=r(A),v="https://"+g.default.sdk+"/spotx-vpaid/6/vpaid.js",E=(u={scid:"channel_id",p:"contentPageUrl",b:"ados.app.bundle",i:"ados.device.ifa",asu:"ados.app.storeurl",lat:"ados.device.geo.lat",lon:"ados.device.geo.lon",an:"ados.app.name",av:"ados.app.ver",muted:"ad_mute"},i(u,l.QUERY_PARAMS.PAGE_URL,"contentPageUrl"),i(u,l.QUERY_PARAMS.AUTOPLAY,"autoplay"),i(u,l.QUERY_PARAMS.MUTE,"ad_mute"),i(u,l.QUERY_PARAMS.WIDTH,"content_width"),i(u,l.QUERY_PARAMS.HEIGHT,"content_height"),i(u,l.QUERY_PARAMS.IFA,"ados.device.ifa"),i(u,l.QUERY_PARAMS.USER_AGENT,"ados.device.ua"),i(u,l.QUERY_PARAMS.USER_LATITUDE,"ados.device.geo.lat"),i(u,l.QUERY_PARAMS.USER_LONGITUDE,"ados.device.geo.lon"),i(u,l.QUERY_PARAMS.APP_NAME,"ados.app.name"),i(u,l.QUERY_PARAMS.BUNDLE_ID,"ados.app.bundle"),i(u,l.QUERY_PARAMS.APP_STORE_URL,"ados.app.storeurl"),i(u,l.QUERY_PARAMS.APP_CATEGORY,"ados.app.cat"),i(u,l.QUERY_PARAMS.DO_NOT_TRACK,"ados.app.dnt"),u),m=function(e){return'<?xml version="1.0" encoding="UTF-8"?>\n<VAST xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" version="2.0" xsi:noNamespaceSchemaLocation="oxml.xsd">\n   <Ad id="spotxsdk">\n      <InLine>\n         <AdSystem version="1.0">SR-SPX</AdSystem>\n         <AdTitle><![CDATA[SR]]></AdTitle>\n         <Creatives>\n            <Creative>\n               <Linear>\n                  <MediaFiles>\n                     <MediaFile delivery="progressive" apiFramework="VPAID" width="300" height="250" type="application/javascript"><![CDATA['+v+"]]></MediaFile>\n                  </MediaFiles>\n                  <AdParameters>\n                     <![CDATA["+JSON.stringify(e)+"]]>\n                  </AdParameters>\n               </Linear>\n            </Creative>\n         </Creatives>\n      </InLine>\n   </Ad>\n</VAST>"};t.id="spotx"},function(e,t){function n(e){var t=e||window.location.search;return t.split(/&|\?/).filter(function(e){return!!e}).reduce(function(e,t){var n=t.split("="),r=void 0,i=void 0;return 1===n.length?(r=n[0],i=!0):2===n.length&&(r=n[0],i=n[1]),e[r]=i,e},{})||{}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}return e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):i(e,t))}Object.defineProperty(t,"__esModule",{value:!0});var d=n(4),u=r(d),l=n(23),c=r(l),f=n(7),p=n(75),h=r(p),_=n(50),A=r(_),g=n(57),v=r(g),E=n(35),m=r(E),y=n(8),S=r(y),T=n(58),R=r(T),I={wmode:"transparent",salign:"tl",align:"left",allowScriptAccess:"always",scale:"noScale",allowFullScreen:"true",quality:"high"},b=function(e){function t(n,r){o(this,t);var i=a(this,e.call(this));i.adSource=n,i.settings=r,i.guid=(new A.default).NewGuid().replace(/-/g,"_"),i.containerID="container"+i.guid,i.callbacks={};var s="ima"+i.guid;window[s]=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.onIMACallback.apply(this,t)}.bind(i),I.FlashVars="callback="+s,i.imaWrapper=document.createElement("div"),i.imaWrapper.style.position="absolute",i.imaWrapper.style.top="-10000px",i.imaWrapper.style.left="-10000px";var d=document.createElement("div");return d.setAttribute("id",i.containerID),d.style.width="100%",d.style.height="100%",i.imaWrapper.appendChild(d),i.settings.environmentVars.slot.appendChild(i.imaWrapper),i}return s(t,e),t.prototype.onIMACallback=function(){try{if(arguments.length){var e=arguments.length<=0?void 0:arguments[0];if("init"==e)this.log("init callback"),this.bridge=document.getElementById(this.containerID),this.bridge.playAd({tagURL:this.adSource.vastResponse.imaURL,width:this.settings.width,height:this.settings.height,vpaidAdLoadTimeout:this.settings.config.vpaidAdLoadTimeout(),vpaidAdStartedTimeout:this.settings.config.vpaidAdStartedTimeout()});else if("event"===e){var t=arguments.length<=1?void 0:arguments[1],n=void 0;if(this.log("VPAIDEvent "+t),t===S.default.AdLoaded)return;if(t===S.default.AdVideoStart)this.imaWrapper.style.top=this.imaWrapper.style.left=0,this.imaWrapper.style.position="",this.vastTracker.trackEvent(S.default.creativeView,!0);else if(t===S.default.AdError&&arguments.length>2&&(arguments.length<=2?void 0:arguments[2])){var r=arguments.length<=2?void 0:arguments[2];n=new m.default(r.error,r.errorcode)}this.vastTracker.trackEvent(t),this.emit(t,n)}else if(this.callbacks[e]&&this.callbacks[e].length){var i=this.callbacks[e].shift();i&&i(null,arguments.length<=1?void 0:arguments[1])}}}catch(e){this.log("ima callback error: "+e.message)}},t.prototype.playAd=function(e){try{var t={data:f.IMA_FLASH_LOADER_URL,width:this.settings.width,height:this.settings.height};this.vastTracker=new R.default("",this.adSource.vastResponse),h.default.createSWF(t,I,this.containerID),e()}catch(t){e("could not create swf"),this.emit(S.default.AdError,new m.default("could not create swf",f.ERROR_CODES.IMA_ADS_LOAD_ERROR_HANDLER));
}},t.prototype.log=function(e){c.default.log("IMAFlashIntegrator "+e)},t.prototype.destroy=function(){if(this.log("destroy"),!this.destroyed){this.destroyed=!0;try{this.bridge.destroy(),(0,v.default)(this.imaWrapper),this.imaWrapper=null,this.bridge=null}catch(e){}}},t.prototype._getFromBridge=function(e,t){this.callbacks[e]=this.callbacks[e]||[],this.callbacks[e].push(t),this.bridge[e]()},t.prototype.getAdLinear=function(e){this.log("adLinear");try{this._getFromBridge("adLinear",e)}catch(t){e(null,!0)}},t.prototype.getAdWidth=function(e){this.log("adWidth");try{this._getFromBridge("adWidth",e)}catch(t){e(null,0)}},t.prototype.getAdHeight=function(e){this.log("adHeight");try{this._getFromBridge("adHeight",e)}catch(t){e(null,0)}},t.prototype.getAdSkippableState=function(e){this.log("adSkippableState");try{this._getFromBridge("adSkippableState",e)}catch(t){e(null,0)}},t.prototype.getAdRemainingTime=function(e){this.log("adRemainingTime");try{this._getFromBridge("adRemainingTime",e)}catch(t){e(null,0)}},t.prototype.getAdDuration=function(e){this.log("adDuration");try{this._getFromBridge("adDuration",e)}catch(t){e(null,0)}},t.prototype.getAdVolume=function(e){this.log("get adVolume");try{this._getFromBridge("adVolume",e)}catch(t){e(null,0)}},t.prototype.setAdVolume=function(e){this.log("set adVolume");try{this.bridge.setAdVolume(e)}catch(e){}},t.prototype.resizeAd=function(e){this.log("resizeAd");try{e&&e.length>3&&(this.bridge.setAttribute("width",e[0]),this.bridge.setAttribute("height",e[1]),this.bridge.resizeAd(e[0],e[1],e[2]))}catch(e){}},t.prototype.stopAd=function(){this.log("stopAd");try{this.bridge.stopAd()}catch(e){}},t.prototype.pauseAd=function(){this.log("pauseAd");try{this.bridge.pauseAd()}catch(e){}},t.prototype.resumeAd=function(){this.log("resumeAd");try{this.bridge.resumeAd()}catch(e){}},t.prototype.expandAd=function(){this.log("expandAd");try{this.adExpanded=!0,this.bridge.expandAd()}catch(e){}},t.prototype.collapseAd=function(){this.log("collapseAd");try{this.adExpanded=!1,this.bridge.collapseAd()}catch(e){}},t.prototype.getAdExpanded=function(e){this.log("adExpanded");try{e(null,this.adExpanded)}catch(t){e(null,!1)}},t.prototype.skipAd=function(){this.log("skipAd");try{}catch(e){}},t.prototype.getAdCompanions=function(e){e(null,"")},t.prototype.getAdIcons=function(e){e(null,"")},t}(u.default);t.default=b,e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=n(145),a=r(o),s=n(7),d=n(130),u=r(d),l=n(23),c=r(l),f=n(6),p=r(f),h=n(8),_=r(h),A=n(37),g=r(A),v=n(5),E=r(v),m=n(22),y=r(m),S=n(149),T=r(S),R=n(150),I=r(R),b=n(47),w=r(b),O=n(151),P=r(O),C=n(134),D=(r(C),n(114)),L=r(D),N=n(48),M=r(N),V=n(152),k=r(V),U=n(153),x=r(U),F=n(21),j=r(F),H=n(87),W=function(){function e(){i(this,e),this.streamlytics=new a.default({component:"adsmanager",version:"2.0.0"})}return e.prototype.init=function(e){this.config=e.config,this.queryParams=e.queryParams,this.initTime=this.queryParams.initTime||(new Date).getTime(),this.originalDynamicValues=null,this.slot=e.environmentVars&&e.environmentVars.slot;var t=(0,f.normalizePageUrl)((0,j.default)(p.default.getQueryParam(e.queryParams,"PAGE_URL")||"")),n=(0,I.default)(),r=p.default.getQueryParam(e.queryParams,"WIDTH"),i=p.default.getQueryParam(e.queryParams,"HEIGHT");this.settings={adtype:e.adType,sid:e.sessionId,module_version:e.moduleVersion,halfpipe_hostname:e.halfpipeHostname,org:p.default.getQueryParam(e.queryParams,"ORGANIZATION"),domain:(0,T.default)((0,y.default)(p.default.getQueryParam(e.queryParams,"DOMAIN")||t)),ddomain:(0,T.default)((0,y.default)(n)),position:p.default.getQueryParam(e.queryParams,"AD_POSITION"),playerid:p.default.getQueryParam(e.queryParams,"PLAYER_ID"),playername:p.default.getQueryParam(e.queryParams,"PLAYER_NAME"),cost:p.default.getQueryParam(e.queryParams,"COST"),pageurl:t,dpageurl:n,width:r,dwidth:e.width,height:i,dheight:e.height,playersize:p.default.getPlayerSize(r,i),dplayersize:p.default.getPlayerSize(e.width,e.height),sam_js_ver:p.default.getQueryParam(e.queryParams,"SAM_JS_VERSION"),subid:p.default.getQueryParam(e.queryParams,"SUB_ID"),loop:p.default.getQueryParam(e.queryParams,"LOOP"),appname:p.default.getQueryParam(e.queryParams,"APP_NAME"),ifa:p.default.getQueryParam(e.queryParams,"IFA"),bundleid:p.default.getQueryParam(e.queryParams,"BUNDLE_ID"),env:p.default.getQueryParam(e.queryParams,"ENV"),bl:this.config.blid(),tc:p.default.getQueryParam(e.queryParams,"TRAFFIC_CHANNEL"),label1:s.VERSION,player_ver:e.playerVersion,cc:p.default.getQueryParam(e.queryParams,"COUNTRY_CODE"),pv:p.default.getQueryParam(e.queryParams,"PLAYER_VERSION"),nest:p.default.getQueryParam(e.queryParams,"NEST_LEVEL"),ab:this.config.abTest()},e.dynamicValues&&(this.settings=(0,E.default)(this.settings,e.dynamicValues),this.originalDynamicValues=e.dynamicValues);var o=p.default.getQueryParam(e.queryParams,"TRAFFIC_CHANNEL_DATA"),a=e.waterfallObject[s.WATERFALL_OBJECT.WATERFALL_DATA];o&&a?(this.settings.tc_data=o,this.settings.waterfall_data=a,this.settings.encryptedValuesKeys="tc_data, waterfall_data, adsourcename, adsourcerate, cost"):(this.settings.waterfallid=e.waterfallObject[s.WATERFALL_OBJECT.WATERFALL_ID],this.settings.waterfallname=e.waterfallObject[s.WATERFALL_OBJECT.WATERFALL_NAME],this.settings.tc_name=p.default.getQueryParam(e.queryParams,"TRAFFIC_CHANNEL_NAME")),p.default.extractCustomParams(this.settings,e.queryParams),this.eventsCap={},this.reportErrors="undefined"!=typeof e.queryParams.reportErrors,this.streamlytics.setBuffering(this.config.analytics()),this._createThirdPartyTracking(e.waterfallObject),c.default.log("Tracker initialized")},e.prototype.modifyTrackingSettings=function(e){this.settings=(0,E.default)(this.settings,e)},e.prototype.updateSize=function(e,t){this.settings.dwidth=e,this.settings.dheight=t,this.settings.dplayersize=p.default.getPlayerSize(e,t)},e.prototype.shouldSendAction=function(e,t){return s.EXCLUDED_TRACKING_ACTIONS[e].indexOf(t)===-1},e.prototype.reportInitError=function(e){e.action=s.AD_SERVER_REPORTS.INIT_ERROR,this.adServerReport(e)},e.prototype.reportInit=function(){this.adServerReport({action:s.AD_SERVER_REPORTS.SCRIPT_INIT})},e.prototype.reportRequest=function(e,t){t.action=s.AD_SERVER_REPORTS.REQUEST,t.adsourceid=e.id,t.rank=e.index,t.adsourcename=e.name,t.fromBL=e.fromBL,this.adServerReport(t)},e.prototype.reportWin=function(){this.adServerReport({action:s.AD_SERVER_REPORTS.WIN})},e.prototype.reportBid=function(e){e.action=s.AD_SERVER_REPORTS.BID,this.adServerReport(e)},e.prototype.reportLose=function(e){e.action=s.AD_SERVER_REPORTS.LOSE,this.reportError(e)},e.prototype.reportHttpError=function(e){e.action=s.AD_SERVER_REPORTS.ERROR,this.reportError(e)},e.prototype.reportIntegratorError=function(e){e.action=s.AD_SERVER_REPORTS.ERROR,this.reportError(e)},e.prototype.reportTargetingError=function(e){e.action=s.AD_SERVER_REPORTS.ERROR,this.reportError(e)},e.prototype.reportReplaceError=function(e){e.action=s.AD_SERVER_REPORTS.ERROR,e.errorcode=s.ERROR_CODES.AD_SOURCE_REPLACED_BY_VAST,this.reportError(e)},e.prototype.reportError=function(e){e.errorcode=e.errorcode||e.code,e.category=p.default.getErrorCodeCategory(e.errorcode),(e.category===s.ERROR_CATEGORY_PREBID||this.reportErrors)&&(delete e.message,delete e.code,delete e.name,delete e.toString,this._report(e))},e.prototype.reportOpportunity=function(){this.adServerReport({action:s.AD_SERVER_REPORTS.OPPORTUNITY})},e.prototype.adServerReport=function(e){this.shouldSendAction(s.REPORT_CATEGORIES.AD_SERVER,e.action)&&(e.category=s.REPORT_CATEGORIES.AD_SERVER,this._report(e))},e.prototype.adUnitReport=function(e){this.shouldSendAction(s.REPORT_CATEGORIES.AD_UNIT,e.action)&&(e.category=s.REPORT_CATEGORIES.AD_UNIT,this._report(e))},e.prototype.adManagerReport=function(e){e.category=s.REPORT_CATEGORIES.AD_MANAGER,e.adsourceid=this.settings.adsourceid,this._reportToThirdParty(e.action,e.adsourceid)},e.prototype.addDynamicValuesToReportOptions=function(e,t){return this._retrieveTopDynamicValues(),t&&t.dynamicValues&&(e=(0,E.default)(e,t.dynamicValues)),e},e.prototype._retrieveTopDynamicValues=function(){this.originalDynamicValues&&(this.settings=(0,E.default)(this.settings,this.originalDynamicValues))},e.prototype._createThirdPartyTrackingHelper=function(e,t){var n=this;e.forEach(function(e){if(e.event&&e.url){for(var r=e.event.toLowerCase(),i=(0,H.injectMacros)(e.url,{queryParams:n.queryParams},n).replace(s.THIRD_PARTY_TRACKING.TRAFFIC_CHANNEL_ID,n.settings.tc).replace(s.THIRD_PARTY_TRACKING.TRAFFIC_CHANNEL_NAME,encodeURIComponent(n.settings.tc_name)),o=0;o<10;o++)n.settings.hasOwnProperty("param"+o)&&(i=i.replace(s.THIRD_PARTY_TRACKING.CUSTOM_PARAM.replace("IDX",o+""),n.settings["param"+o]));c.default.log("Tracker adding third party pixel tracking for event "+r),t[r]=t[r]||[],t[r].push({url:i,type:e.type||s.IMAGE_THIRD_PARTY_PIXEL})}})},e.prototype._createThirdPartyTracking=function(e){var t=this;this.thirdPartyTracking={};var n=this.config.thirdPartyPixels()&&(0,g.default)(this.config.thirdPartyPixels())?this.config.thirdPartyPixels():null;n&&(this.thirdPartyTracking.general={},this._createThirdPartyTrackingHelper(n,this.thirdPartyTracking.general)),(e&&e.tiers||[]).forEach(function(e){(e.adSources||[]).forEach(function(e){e.thirdPartyPixels&&(t.thirdPartyTracking[e.id]={},t._createThirdPartyTrackingHelper(e.thirdPartyPixels,t.thirdPartyTracking[e.id]))})})},e.prototype._reportToThirdParty=function(e,t){var n=this,r=[];e=e.toLowerCase(),this.thirdPartyTracking&&(this.thirdPartyTracking.general&&(0,g.default)(this.thirdPartyTracking.general[e])&&(r=r.concat(this.thirdPartyTracking.general[e])),this.thirdPartyTracking[t]&&(0,g.default)(this.thirdPartyTracking[t][e])&&(r=r.concat(this.thirdPartyTracking[t][e]))),r.length&&r.forEach(function(t){var r=n.settings.adsourcename?encodeURIComponent(n.settings.adsourcename):n.settings.adsourcename,i=t.url.replace(s.THIRD_PARTY_TRACKING.AD_SOURCE_NAME,r).replace(s.THIRD_PARTY_TRACKING.AD_SOURCE_RATE,n.settings.adsourcerate).replace(s.THIRD_PARTY_TRACKING.AD_SOURCE_ID,n.settings.adsourceid);if(c.default.log("Tracker tracking third party pixel for event "+e+" url="+i+" type="+t.type),t.type===s.IMAGE_THIRD_PARTY_PIXEL)n._get(i);else if(t.type===s.IFRAME_THIRD_PARTY_PIXEL){var o=(0,w.default)(null,0,0,i);o.style.position="absolute",o.style.bottom=0,o.style.left=0,window.document.body.appendChild(o)}else if(t.type===s.JS_THIRD_PARTY_PIXEL){var a=void 0;try{a=(0,P.default)(i).src}catch(e){a=i}if(a||(a=i),(0,L.default)(a)){a=a.replace(/^(.*)\:\/\//,"https://");var d=void 0;try{d=n.slot.ownerDocument.body}catch(e){d=window.document.body}var u=d.ownerDocument,l=u.createElement("script");l.src=a,d.appendChild(l)}else{var f=(0,w.default)(null,0,0);f.style.position="absolute",f.style.bottom=0,f.style.left=0,window.document.body.appendChild(f),(0,M.default)(f,(0,k.default)(x.default,{placeholder:a}))}}if(n._isIASReport(t.type,i)){var p=(0,E.default)({},n.settings);p.action="ias";try{n.streamlytics.info(p)}catch(e){}}})},e.prototype._report=function(e){e=(0,E.default)({},this.settings,e);var t=e.emReportType;if(delete e.emReportType,e.action){if(this.config.eventsBlacklist().indexOf(e.action)<0){if(this.eventsCap){if(void 0===this.eventsCap[e.action]&&(this.eventsCap[e.action]=0),this.eventsCap[e.action]===this.config.trackEventCap())return void c.default.log("cap "+s.TRACK_EVENT_CAP+" reached on event: "+e.action);this.eventsCap[e.action]+=1}if(e.action!==_.default.AdImpression&&delete e.adsourcerate,e.loadtime=(new Date).getTime()-this.initTime,s.EVENTS_SHORT_VERSION[e.action]!==this.config.billedEvent()&&delete e.cost,s.BL_SCORE_EVENTS.indexOf(e.action)===-1&&delete e.blScore,c.default.log("reporting: "+JSON.stringify(e)),this.isIASWrapper&&e.action===_.default.AdImpression){this.isIASWrapper=!1;var n=(0,E.default)({},e);n.action="ias";try{this.streamlytics.info(n)}catch(e){}}try{this.streamlytics.info(e)}catch(e){}}if(t)try{this._handleEventManagerReportType(t,e)}catch(e){}}},e.prototype._handleEventManagerReportType=function(e,t){if(t.adsourceid){var n=void 0;if(t.action!==s.AD_SERVER_REPORTS.BID&&t.category!==s.ERROR_CATEGORY_PREBID||(s.BITWISE_REPORT_TYPES.REQUEST&e)!==s.BITWISE_REPORT_TYPES.REQUEST)t.action!==_.default.AdImpression&&"ai"!==t.action||((s.BITWISE_REPORT_TYPES.IMPRESSION&e)===s.BITWISE_REPORT_TYPES.IMPRESSION?n={data:{type:s.BITWISE_REPORT_TYPES.IMPRESSION,adSource:t.adsourceid,domain:t.ddomain}}:(s.BITWISE_REPORT_TYPES.IAS&e)===s.BITWISE_REPORT_TYPES.IAS?n={data:{type:s.BITWISE_REPORT_TYPES.IAS,tcId:t.tc,domain:t.ddomain}}:(s.BITWISE_REPORT_TYPES.IAS_IMPRESSION&e)===s.BITWISE_REPORT_TYPES.IAS_IMPRESSION&&(n={data:{type:s.BITWISE_REPORT_TYPES.IAS_IMPRESSION,adSource:t.adsourceid,domain:t.ddomain,tcId:t.tc}}));else{var r={};r[t.adsourceid]=1,n={data:{type:s.BITWISE_REPORT_TYPES.REQUEST,adSources:[r]}}}n&&this._sendToEventManager(n)}},e.prototype._sendToEventManager=function(e){if(e){var t=s.AD_SOURCE_REPORTING_ENDPOINT.replace("[DATA]",encodeURIComponent(btoa(JSON.stringify(e)))).replace("[CB]",Math.ceil(1e10*Math.random())+"");(0,u.default)(t)}},e.prototype._get=function(e){return(0,u.default)(e)},e.prototype._isIASReport=function(e,t){if(e===s.IMAGE_THIRD_PARTY_PIXEL){var n=(0,y.default)(t);return n===s.IAS_DOMAIN}return e===s.JS_THIRD_PARTY_PIXEL&&t.includes(s.IAS_DOMAIN)},e}();t.default=W,e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(16),o=r(i),a=n(146),s=r(a),d=(0,o.default)();d&&(d.Streamlytics=s.default),t.default=s.default,e.exports=t.default},function(e,t,n){(function(r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=n(50),d=(i(s),n(12)),u=i(d),l=n(16),c=i(l),f=n(147),p=i(f),h=n(148),_=i(h),A=n(24),g=i(A),v=n(9),E=i(v),m=n(5),y=i(m),S=(0,c.default)(),T=r.env.STREAMLYTICS_EXCLUDED_ACTIONS||[],R=r.env.STREAMLYTICS_EXCLUDED_FIELDS||[],I={all:["pageurl","dpageurl","browserversionfull","type","position"],mobile_app:["ddomain"]}||{},b=["action","category","domain","browser","browserversion","os","osversion","pageurl","bundleid","ddomain","ifa","appname"]||[],w="true",O="https://"+E.default.collector+"/x",P={MAX_BUFFER_SIZE:"maxBufferSize",MAX_BUFFER_TIME:"maxBufferTime",NO_BUFFER_EVENTS:"noBufferEvents",REPORT_ENDPOINT:"endpoint"},C={adclickthru:"ct",adstopped:"ast",adpaused:"ap",adskipped:"ask",adloadtimeout:"to",advideocomplete:"avc",advideothirdquartile:"avt",advideomidpoint:"avm",advideofirstquartile:"avf",advideostart:"avs",aderror:"err",adrequest:"req",adresponse:"res",adloaded:"al",adimpression:"ai",adstarted:"as",player:"p",playerload:"pl",multiplayer:"mp",contentstart:"cs"},D={category:"ca",action:"a",cc:"cc",component:"co",tier:"t",dwidth:"dw",sid:"s",clienttimestamp:"ct",osversion:"ov",bl:"bl",blscore:"bs",adsourceid:"ai",halfpipe_hostname:"hh",tc:"tc",env:"en",rank:"r",module_version:"mv",adtype:"at",org:"or",os:"os",loadtime:"lt",tierlength:"tl",waterfallname:"wn",label1:"l1",browserversion:"bv",version:"v",dheight:"dh",dpageurl:"dp",browser:"b",waterfallid:"wi",dplayersize:"ds",domain:"d",player_ver:"pl",pv:"pv",height:"h",adsourcerate:"ar",ddomain:"dd",subid:"si",loop:"l",playersize:"ps",width:"w",cost:"c",error:"e",errorcode:"ec",duration:"du",playerid:"pi",playername:"pn",adsourcetype:"as",nest:"ns",frombl:"fb",param0:"p0",param1:"p1",param2:"p2",param3:"p3",param4:"p4",param5:"p5",param6:"p6",param7:"p7",param8:"p8",param9:"p9"},L=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,e),this.options=t,this.uaParser=new u.default(window.navigator.userAgent).getResult(),this.endpoint=O,this.console=new g.default({target:"streamlytics"}),this.object="Object"}return e.prototype.setBuffering=function(e){e&&(this.bufferConfig=e,this.eventsBuffer=[],setInterval(this._dispatchBuffer.bind(this),this.bufferConfig[P.MAX_BUFFER_TIME]))},e.prototype.info=function(e){e.type="info",this._log(e)&&this._write(e)},e.prototype.warn=function(e){e.type="warn",this._log(e)&&this._write(e)},e.prototype.error=function(e){e.type="error",this._log(e)&&this._write(e)},e.prototype._log=function(e){if(!e)return this.console.error("cannot write empty log"),!1;if(0===(0,_.default)(e).length)return this.console.error("cannot write empty log"),!1;if(e.sid=e.sid||S.srSessionID,e.component=e.component||this.options.component,e.version=e.version||this.options.version,"info"===e.type){var t=e.sampleRate||this.options.sampleRate;if(t&&t<Math.random())return!1}return e.tags=e.partnerID,e.browser=this.uaParser.browser.name,e.browserVersion=this.uaParser.browser.major,e.deviceType=this.uaParser.device.type,e.deviceVendor=this.uaParser.device.vendor,e.deviceModel=this.uaParser.device.model,e.os=this.uaParser.os.name,e.osVersion=this.uaParser.os.version,e.clienttimestamp=this._ISODateString(new Date),e.browserversionfull=this.uaParser.browser.version,!0},e.prototype._hasAllProps=function(e,t){var n,r=this;return(0,_.default)(t).length?(0,_.default)(e).forEach(function(e){if(!t[e])return r.console.error("missing mandatory option "+e),n=!0}):(this.console.error("missing mandatory props to check or empty object"),n=!0),!n},e.prototype._validForInit=function(e){return this._hasAllProps(["component","version","token"],e)},e.prototype._write=function(e){if(e&&("Object"==typeof e||"object"===("undefined"==typeof e?"undefined":a(e)))&&"playa"!==e.component){var t=this._getCompressedAction(e.action);T.indexOf(t)===-1&&(e.action=t,e=this._stringifyData(e),this.bufferConfig?this._writeBufferedEvents(e):w?this._writeLeanEvent(e):this._writeSingleEvent(e))}},e.prototype._stringifyData=function(e){var t=this,n={},r={},i=e.env;(0,_.default)(e).forEach(function(o,a){var s=o.toString().toLowerCase(),d=e[o],u=w?D[s]||s:s,l="";if("string"!=typeof d)try{l=d.toString()}catch(e){}null!==d&&"undefined"!=typeof d&&"null"!==d&&"undefined"!==d&&""!==d&&(l=d,"string"==typeof l&&b.indexOf(s)>-1&&(l=l.toLowerCase()),(u.indexOf(".")>-1||u.indexOf(" ")>-1)&&(u=u.replace(/./g,"_").replace(/ /g,"_")),t._isKeyAllowed(s,i)&&(n[u]=w?encodeURIComponent(l):l,r[s]=l))});var o=JSON.stringify(r);return this.console.log("streamlytics data = "+o),S.events&&S.events.push((0,y.default)({endpoint:this.endpoint},r)),n},e.prototype._writeLeanEvent=function(e){var t=this._createQueryString(e).replace(/'/g,"%27"),n=this._fnv32a(t+this.object);(new Image).src=this.endpoint+t+"&p="+n+"&rand="+Math.ceil(1e10*Math.random())},e.prototype._writeSingleEvent=function(e){(new Image).src=this.endpoint+"?p="+encodeURIComponent(btoa(encodeURIComponent(JSON.stringify(e))))+"&"+Math.random()},e.prototype._writeBufferedEvents=function(e){this.eventsBuffer.push(e),this.bufferConfig[P.MAX_BUFFER_SIZE]===this.eventsBuffer.length?this._dispatchBuffer():this.bufferConfig[P.NO_BUFFER_EVENTS]&&this.bufferConfig[P.NO_BUFFER_EVENTS].indexOf(e.action)>-1&&this._dispatchBuffer()},e.prototype._dispatchBuffer=function(){this.eventsBuffer.length>0&&((0,p.default)(this.bufferConfig[P.REPORT_ENDPOINT],this.eventsBuffer),this.eventsBuffer=[])},e.prototype._getCompressedAction=function(e){return e?C[e.toLowerCase()]||e:""},e.prototype._ISODateString=function(e){try{return e.getUTCFullYear()+"-"+this._pad(e.getUTCMonth()+1)+"-"+this._pad(e.getUTCDate())+"T"+this._pad(e.getUTCHours())+":"+this._pad(e.getUTCMinutes())+":"+this._pad(e.getUTCSeconds())+"Z"}catch(e){}},e.prototype._pad=function(e){return e<10?"0"+e:e},e.prototype._fnv32a=function(e){for(var t=2166136261,n=0;n<e.length;++n)t^=e.charCodeAt(n),t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24);return t>>>0},e.prototype._createQueryString=function(e){var t="?";for(var n in e)e.hasOwnProperty(n)&&(t+=n+"="+e[n]+"&");return t=t.slice(0,-1)},e.prototype._isKeyAllowed=function(e,t){if(e){if(R&&R.indexOf(e)>-1)return!1;if(I){if(I.all&&I.all.indexOf(e)>-1)return!1;if(t&&I[t]&&I[t].indexOf(e)>-1)return!1}}return!0},e}();t.default=L,e.exports=t.default}).call(t,n(10))},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new l.default(function(r,i){var o=(0,a.default)();o.open("POST",e,!0),(0,f.default)(o,n),o[(0,h.default)()?"onload":"onreadystatechange"]=(0,d.default)(o,e,r,i),o.onerror=function(){i(new A.default(o,e))},o.send(JSON.stringify(t))})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(127),a=r(o),s=n(131),d=r(s),u=n(27),l=r(u),c=n(133),f=r(c),p=n(128),h=r(p),_=n(132),A=r(_);e.exports=t.default},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e){return e&&e.forEach?e:Object.keys(e||{})},Object.keys||(Object.keys=function(){"use strict";var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],i=r.length;return function(o){if("object"!==("undefined"==typeof o?"undefined":n(o))&&("function"!=typeof o||null===o))throw new TypeError("Object.keys called on non-object");var a,s,d=[];for(a in o)e.call(o,a)&&d.push(a);if(t)for(s=0;s<i;s++)e.call(o,r[s])&&d.push(r[s]);return d}}()),e.exports=t.default},function(e,t){function n(e){return e&&0===e.indexOf("www.")?e.replace("www.",""):e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t){function n(){if("undefined"!=typeof location.ancestorOrigins&&location.ancestorOrigins.length>0){var e=location.ancestorOrigins,t=e[e.length-1];if(t&&"string"==typeof t&&(t=t.split("?")[0],t&&"string"==typeof t&&t.length>0))return t}return document.referrer?document.referrer.split("?")[0]:window.location.href.split("?")[0]}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t){function n(e){var t=document.createDocumentFragment();return t.appendChild(document.createElement("div")),t.childNodes[0].innerHTML=e.trim(),t.childNodes[0].childNodes[0]}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t){function n(e,t){return Object.keys(t).forEach(function(n){var i="object"===("undefined"==typeof i?"undefined":r(i))?JSON.stringify(t[n]):t[n];e=e.replace(new RegExp("{{"+n+"}}","g"),i)}),e}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=n,e.exports=t.default},function(e,t){e.exports='<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <style>\n        body { margin: 0; padding: 0; }\n    </style>\n    {{placeholder}}\n</head>\n<body>\n</body>\n</html>\n'},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=n(7),a=n(23),s=r(a),d=function(){function e(t){i(this,e),s.default.log("config init "+JSON.stringify(t)),this.settings=t}return e.prototype.adSourceRequestTimeout=function(){return o.AD_SOURCE_REQUEST_TO},e.prototype.trackEventCap=function(){return this.settings.trackEventCap||o.TRACK_EVENT_CAP},e.prototype.vpaidAdResponseTimeout=function(){return this.settings.vpaidAdResponseTimeout||o.VPAID_RESPONSE_TIMEOUT},e.prototype.vpaidAdLoadTimeout=function(){return this.settings.vpaidAdLoadTimeout||o.VPAID_AD_LOADED_TIMEOUT},e.prototype.vpaidAdStartedTimeout=function(){return this.settings.vpaidAdStartedTimeout||o.VPAID_AD_STARTED_TIMEOUT},e.prototype.vpaidAdImpressionTimeout=function(){return this.settings.vpaidAdImpressionTimeout||o.VPAID_AD_IMPRESSION_TIMEOUT},e.prototype.waitForDownloads=function(){return this.settings.waitForDownloads||o.WAIT_FOR_DOWNLOADS},e.prototype.eventsBlacklist=function(){return this.settings.eventsBlacklist||o.EVENTS_BLACKLIST},e.prototype.analytics=function(){return this.settings.analytics},e.prototype.thirdPartyPixels=function(){return this.settings.thirdPartyPixels},e.prototype.blid=function(){return this.settings.BLId||this.settings.bl},e.prototype.billedEvent=function(){return this.settings.billedEvent||o.DEFAULT_BILLED_EVENT},e.prototype.moatID=function(){return this.settings.moat},e.prototype.abTest=function(){return this.settings.ab},e}();t.default=d,e.exports=t.default},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={CREATED:0,INIT_AD_CALLED:1,START_AD_CALLED:2,AD_STARTED:3,AD_VIDEO_COMPLETE:4,AD_STOPPED:5},e.exports=t.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,r,i,a){return d.default.log("AdManagerSettings :: createSettingsObject :: start"),new p.default(function(s,u){function l(e){d.default.log("AdManagerSettings :: createSettingsObject :: end"),s(e)}o(e,t,n,r,i,a).then(l).catch(u)})}function o(e,t,n,r,i,o){return d.default.log("AdManagerSettings :: createSettingsObjectV1 :: start"),new p.default(function(s,f){try{var p=c.default.decryptAdParameters(i),h=a(p),_=h[u.SAM_CONFIG.QUERY_PARAMS],A=h[u.SAM_CONFIG.WATERFALL],g=h[u.SAM_CONFIG.CONFIG],v=h[u.SAM_CONFIG.MODULE_VERSION],E=h[u.SAM_CONFIG.DYNAMIC_VALUES],m=h[u.SAM_CONFIG.HALFPIPE_HOSTNAME],y=A[u.SAM_CONFIG.CHANNEL_TIMEOUT]?A[u.SAM_CONFIG.CHANNEL_TIMEOUT]:u.CHANNEL_TIMEOUT;if(A&&_){var S=(0,l.createQueryString)(_);d.default.log("AdManagerSettings :: createSettingsObjectV1 :: queryString = "+S),"0"!==_.mute&&(_.mute="1");var T={adType:u.REPORT_TYPE.VPAID_JS,queryParams:_,width:e,height:t,viewMode:n,desiredBitrate:r,creativeData:i,environmentVars:o,moduleVersion:v,halfpipeHostname:m,configObject:g,channelTimeout:y,queryString:S,waterfallObject:A,mute:"1"===_.mute,dynamicValues:E,e:h.e};d.default.log("AdManagerSettings :: createSettingsObjectV1 :: end"),s(T)}else f("waterfallObject or queryParamsObject missing")}catch(e){var R=e.message||"could not get remote config from server";d.default.log("AdManagerSettings :: createSettingsObjectV1 :: "+R),f(R)}})}function a(e){return"undefined"!=typeof e.w&&(e[u.APS.MODULE_VERSION[1]]=e[u.APS.MODULE_VERSION[0]],delete e[u.APS.MODULE_VERSION[0]],e[u.APS.HALFPIPE_HOSTNAME[1]]=e[u.APS.HALFPIPE_HOSTNAME[0]],delete e[u.APS.HALFPIPE_HOSTNAME[0]],e[u.APS.CONFIG[1]]=e[u.APS.CONFIG[0]],delete e[u.APS.CONFIG[0]],"undefined"!=typeof e[u.APS.CONFIG[1]][u.APS.THIRD_PARTY_PIXELS[0]]&&(e[u.APS.CONFIG[1]][u.APS.THIRD_PARTY_PIXELS[1]]=e[u.APS.CONFIG[1]][u.APS.THIRD_PARTY_PIXELS[0]],delete e[u.APS.CONFIG[1]][u.APS.THIRD_PARTY_PIXELS[0]]),"undefined"!=typeof e[u.APS.CONFIG[1]][u.APS.BILLED_EVENT[0]]&&(e[u.APS.CONFIG[1]][u.APS.BILLED_EVENT[1]]=e[u.APS.CONFIG[1]][u.APS.BILLED_EVENT[0]],delete e[u.APS.CONFIG[1]][u.APS.BILLED_EVENT[0]]),e[u.APS.WATERFALL[1]]=e[u.APS.WATERFALL[0]],delete e[u.APS.WATERFALL[0]],e[u.APS.DYNAMIC_VALUES[1]]=e[u.APS.DYNAMIC_VALUES[0]],delete e[u.APS.DYNAMIC_VALUES[0]],e[u.APS.WATERFALL[1]][u.APS.WATERFALL_NAME[1]]=e[u.APS.WATERFALL[1]][u.APS.WATERFALL_NAME[0]],delete e[u.APS.WATERFALL[1]][u.APS.WATERFALL_NAME[0]],e[u.APS.WATERFALL[1]][u.APS.WATERFALL_ID[1]]=e[u.APS.WATERFALL[1]][u.APS.WATERFALL_ID[0]],delete e[u.APS.WATERFALL[1]][u.APS.WATERFALL_ID[0]],e[u.APS.WATERFALL[1]][u.APS.REQUEST_METHOD[0]]=e[u.APS.WATERFALL[1]][u.APS.REQUEST_METHOD[0]]===u.APS.SERIAL[0]?u.APS.SERIAL[1]:u.APS.PARALLEL[1],e[u.APS.WATERFALL[1]][u.APS.REQUEST_METHOD[1]]=e[u.APS.WATERFALL[1]][u.APS.REQUEST_METHOD[0]],delete e[u.APS.WATERFALL[1]][u.APS.REQUEST_METHOD[0]],e[u.APS.WATERFALL[1]][u.APS.TIERS[1]]=e[u.APS.WATERFALL[1]][u.APS.TIERS[0]],delete e[u.APS.WATERFALL[1]][u.APS.TIERS[0]],e[u.APS.WATERFALL[1]][u.APS.TIERS[1]].forEach(function(e){if(e[u.APS.TIER[1]]=e[u.APS.TIER[0]],delete e[u.APS.TIER[0]],"undefined"!=typeof e[u.APS.AD_SOURCES[0]]){var t=[];e[u.APS.AD_SOURCES[0]].forEach(function(e){if(e[u.APS.ID[0]]){var n={};n[u.APS.ID[1]]=e[u.APS.ID[0]],n[u.APS.URL[1]]=e[u.APS.URL[0]],n[u.APS.RATE[1]]=e[u.APS.RATE[0]],n[u.APS.COST[1]]=e[u.APS.COST[0]],n[u.APS.SER[1]]=e[u.APS.SER[0]],n[u.APS.FROM_BL[1]]=e[u.APS.FROM_BL[0]],n[u.APS.BL_SCORE[1]]=e[u.APS.BL_SCORE[0]],n[u.APS.EM_REPORT_TYPE[1]]=e[u.APS.EM_REPORT_TYPE[0]],n[u.APS.NO_FILL_REQUEST_CAP[1]]=e[u.APS.NO_FILL_REQUEST_CAP[0]],n[u.APS.SIZE[1]]=e[u.APS.SIZE[0]],n[u.APS.NESTED[1]]=e[u.APS.NESTED[0]],n[u.APS.NESTED_AD_PARAMETERS[1]]=e[u.APS.NESTED_AD_PARAMETERS[0]],n[u.APS.NESTED_MEDIA_FILE[1]]=e[u.APS.NESTED_MEDIA_FILE[0]],n[u.APS.BUNDLE_ID[1]]=e[u.APS.BUNDLE_ID[0]],n[u.APS.DYNAMIC_VALUES[1]]=e[u.APS.DYNAMIC_VALUES[0]],"undefined"!=typeof e[u.APS.THIRD_PARTY_PIXELS[0]]&&(n[u.APS.THIRD_PARTY_PIXELS[1]]=e[u.APS.THIRD_PARTY_PIXELS[0]]),t.push(n)}else t.push(e)}),e[u.APS.AD_SOURCES[1]]=t,delete e[u.APS.AD_SOURCES[0]]}})),e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var s=n(23),d=r(s),u=n(7),l=n(6),c=r(l),f=n(27),p=r(f);e.exports=t.default}]);